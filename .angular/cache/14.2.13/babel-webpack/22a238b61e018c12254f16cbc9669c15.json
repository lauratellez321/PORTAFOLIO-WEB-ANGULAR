{"ast":null,"code":"import _asyncToGenerator from \"/Users/valentina/Documents/DEVELOP/ANGULAR/PORTAFOLIO-WEB-ANGULAR/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";\nimport _awaitAsyncGenerator from \"/Users/valentina/Documents/DEVELOP/ANGULAR/PORTAFOLIO-WEB-ANGULAR/node_modules/@babel/runtime/helpers/esm/awaitAsyncGenerator.js\";\nimport _wrapAsyncGenerator from \"/Users/valentina/Documents/DEVELOP/ANGULAR/PORTAFOLIO-WEB-ANGULAR/node_modules/@babel/runtime/helpers/esm/wrapAsyncGenerator.js\";\nimport _asyncIterator from \"/Users/valentina/Documents/DEVELOP/ANGULAR/PORTAFOLIO-WEB-ANGULAR/node_modules/@babel/runtime/helpers/esm/asyncIterator.js\";\n\n/**\n * @licstart The following is the entire license notice for the\n * JavaScript code in this page\n *\n * Copyright 2024 Mozilla Foundation\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n *\n * @licend The above is the entire license notice for the\n * JavaScript code in this page\n */\n\n/******/\n// The require scope\n\n/******/\nvar __webpack_require__ = {};\n/******/\n\n/************************************************************************/\n\n/******/\n\n/* webpack/runtime/define property getters */\n\n/******/\n\n(() => {\n  /******/\n  // define getter functions for harmony exports\n\n  /******/\n  __webpack_require__.d = (exports, definition) => {\n    /******/\n    for (var key in definition) {\n      /******/\n      if (__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n        /******/\n        Object.defineProperty(exports, key, {\n          enumerable: true,\n          get: definition[key]\n        });\n        /******/\n      }\n      /******/\n\n    }\n    /******/\n\n  };\n  /******/\n\n})();\n/******/\n\n/******/\n\n/* webpack/runtime/hasOwnProperty shorthand */\n\n/******/\n\n\n(() => {\n  /******/\n  __webpack_require__.o = (obj, prop) => Object.prototype.hasOwnProperty.call(obj, prop);\n  /******/\n\n})();\n/******/\n\n/************************************************************************/\n\n\nvar __webpack_exports__ = globalThis.pdfjsViewer = {}; // EXPORTS\n\n\n__webpack_require__.d(__webpack_exports__, {\n  AnnotationLayerBuilder: () =>\n  /* reexport */\n  AnnotationLayerBuilder,\n  DownloadManager: () =>\n  /* reexport */\n  DownloadManager,\n  EventBus: () =>\n  /* reexport */\n  EventBus,\n  FindState: () =>\n  /* reexport */\n  FindState,\n  GenericL10n: () =>\n  /* reexport */\n  genericl10n_GenericL10n,\n  LinkTarget: () =>\n  /* reexport */\n  LinkTarget,\n  PDFFindController: () =>\n  /* reexport */\n  PDFFindController,\n  PDFHistory: () =>\n  /* reexport */\n  PDFHistory,\n  PDFLinkService: () =>\n  /* reexport */\n  PDFLinkService,\n  PDFPageView: () =>\n  /* reexport */\n  PDFPageView,\n  PDFScriptingManager: () =>\n  /* reexport */\n  PDFScriptingManagerComponents,\n  PDFSinglePageViewer: () =>\n  /* reexport */\n  PDFSinglePageViewer,\n  PDFViewer: () =>\n  /* reexport */\n  PDFViewer,\n  ProgressBar: () =>\n  /* reexport */\n  ProgressBar,\n  RenderingStates: () =>\n  /* reexport */\n  RenderingStates,\n  ScrollMode: () =>\n  /* reexport */\n  ScrollMode,\n  SimpleLinkService: () =>\n  /* reexport */\n  SimpleLinkService,\n  SpreadMode: () =>\n  /* reexport */\n  SpreadMode,\n  StructTreeLayerBuilder: () =>\n  /* reexport */\n  StructTreeLayerBuilder,\n  TextLayerBuilder: () =>\n  /* reexport */\n  TextLayerBuilder,\n  XfaLayerBuilder: () =>\n  /* reexport */\n  XfaLayerBuilder,\n  parseQueryString: () =>\n  /* reexport */\n  parseQueryString\n});\n\n; // CONCATENATED MODULE: ./web/ui_utils.js\n\nconst DEFAULT_SCALE_VALUE = \"auto\";\nconst DEFAULT_SCALE = 1.0;\nconst DEFAULT_SCALE_DELTA = 1.1;\nconst MIN_SCALE = 0.1;\nconst MAX_SCALE = 10.0;\nconst UNKNOWN_SCALE = 0;\nconst MAX_AUTO_SCALE = 1.25;\nconst SCROLLBAR_PADDING = 40;\nconst VERTICAL_PADDING = 5;\nconst RenderingStates = {\n  INITIAL: 0,\n  RUNNING: 1,\n  PAUSED: 2,\n  FINISHED: 3\n};\nconst PresentationModeState = {\n  UNKNOWN: 0,\n  NORMAL: 1,\n  CHANGING: 2,\n  FULLSCREEN: 3\n};\nconst SidebarView = {\n  UNKNOWN: -1,\n  NONE: 0,\n  THUMBS: 1,\n  OUTLINE: 2,\n  ATTACHMENTS: 3,\n  LAYERS: 4\n};\nconst TextLayerMode = {\n  DISABLE: 0,\n  ENABLE: 1,\n  ENABLE_PERMISSIONS: 2\n};\nconst ScrollMode = {\n  UNKNOWN: -1,\n  VERTICAL: 0,\n  HORIZONTAL: 1,\n  WRAPPED: 2,\n  PAGE: 3\n};\nconst SpreadMode = {\n  UNKNOWN: -1,\n  NONE: 0,\n  ODD: 1,\n  EVEN: 2\n};\nconst CursorTool = {\n  SELECT: 0,\n  HAND: 1,\n  ZOOM: 2\n};\nconst AutoPrintRegExp = /\\bprint\\s*\\(/;\n\nclass OutputScale {\n  constructor() {\n    const pixelRatio = window.devicePixelRatio || 1;\n    this.sx = pixelRatio;\n    this.sy = pixelRatio;\n  }\n\n  get scaled() {\n    return this.sx !== 1 || this.sy !== 1;\n  }\n\n}\n\nfunction scrollIntoView(element, spot, scrollMatches = false) {\n  let parent = element.offsetParent;\n\n  if (!parent) {\n    console.error(\"offsetParent is not set -- cannot scroll\");\n    return;\n  }\n\n  let offsetY = element.offsetTop + element.clientTop;\n  let offsetX = element.offsetLeft + element.clientLeft;\n\n  while (parent.clientHeight === parent.scrollHeight && parent.clientWidth === parent.scrollWidth || scrollMatches && (parent.classList.contains(\"markedContent\") || getComputedStyle(parent).overflow === \"hidden\")) {\n    offsetY += parent.offsetTop;\n    offsetX += parent.offsetLeft;\n    parent = parent.offsetParent;\n\n    if (!parent) {\n      return;\n    }\n  }\n\n  if (spot) {\n    if (spot.top !== undefined) {\n      offsetY += spot.top;\n    }\n\n    if (spot.left !== undefined) {\n      offsetX += spot.left;\n      parent.scrollLeft = offsetX;\n    }\n  }\n\n  parent.scrollTop = offsetY;\n}\n\nfunction watchScroll(viewAreaElement, callback, abortSignal = undefined) {\n  const debounceScroll = function (evt) {\n    if (rAF) {\n      return;\n    }\n\n    rAF = window.requestAnimationFrame(function viewAreaElementScrolled() {\n      rAF = null;\n      const currentX = viewAreaElement.scrollLeft;\n      const lastX = state.lastX;\n\n      if (currentX !== lastX) {\n        state.right = currentX > lastX;\n      }\n\n      state.lastX = currentX;\n      const currentY = viewAreaElement.scrollTop;\n      const lastY = state.lastY;\n\n      if (currentY !== lastY) {\n        state.down = currentY > lastY;\n      }\n\n      state.lastY = currentY;\n      callback(state);\n    });\n  };\n\n  const state = {\n    right: true,\n    down: true,\n    lastX: viewAreaElement.scrollLeft,\n    lastY: viewAreaElement.scrollTop,\n    _eventHandler: debounceScroll\n  };\n  let rAF = null;\n  viewAreaElement.addEventListener(\"scroll\", debounceScroll, {\n    useCapture: true,\n    signal: abortSignal\n  });\n  abortSignal?.addEventListener(\"abort\", () => window.cancelAnimationFrame(rAF), {\n    once: true\n  });\n  return state;\n}\n\nfunction parseQueryString(query) {\n  const params = new Map();\n\n  for (const [key, value] of new URLSearchParams(query)) {\n    params.set(key.toLowerCase(), value);\n  }\n\n  return params;\n}\n\nconst InvisibleCharsRegExp = /[\\x00-\\x1F]/g;\n\nfunction removeNullCharacters(str, replaceInvisible = false) {\n  if (!InvisibleCharsRegExp.test(str)) {\n    return str;\n  }\n\n  if (replaceInvisible) {\n    return str.replaceAll(InvisibleCharsRegExp, m => m === \"\\x00\" ? \"\" : \" \");\n  }\n\n  return str.replaceAll(\"\\x00\", \"\");\n}\n\nfunction binarySearchFirstItem(items, condition, start = 0) {\n  let minIndex = start;\n  let maxIndex = items.length - 1;\n\n  if (maxIndex < 0 || !condition(items[maxIndex])) {\n    return items.length;\n  }\n\n  if (condition(items[minIndex])) {\n    return minIndex;\n  }\n\n  while (minIndex < maxIndex) {\n    const currentIndex = minIndex + maxIndex >> 1;\n    const currentItem = items[currentIndex];\n\n    if (condition(currentItem)) {\n      maxIndex = currentIndex;\n    } else {\n      minIndex = currentIndex + 1;\n    }\n  }\n\n  return minIndex;\n}\n\nfunction approximateFraction(x) {\n  if (Math.floor(x) === x) {\n    return [x, 1];\n  }\n\n  const xinv = 1 / x;\n  const limit = 8;\n\n  if (xinv > limit) {\n    return [1, limit];\n  } else if (Math.floor(xinv) === xinv) {\n    return [1, xinv];\n  }\n\n  const x_ = x > 1 ? xinv : x;\n  let a = 0,\n      b = 1,\n      c = 1,\n      d = 1;\n\n  while (true) {\n    const p = a + c,\n          q = b + d;\n\n    if (q > limit) {\n      break;\n    }\n\n    if (x_ <= p / q) {\n      c = p;\n      d = q;\n    } else {\n      a = p;\n      b = q;\n    }\n  }\n\n  let result;\n\n  if (x_ - a / b < c / d - x_) {\n    result = x_ === x ? [a, b] : [b, a];\n  } else {\n    result = x_ === x ? [c, d] : [d, c];\n  }\n\n  return result;\n}\n\nfunction floorToDivide(x, div) {\n  return x - x % div;\n}\n\nfunction getPageSizeInches({\n  view,\n  userUnit,\n  rotate\n}) {\n  const [x1, y1, x2, y2] = view;\n  const changeOrientation = rotate % 180 !== 0;\n  const width = (x2 - x1) / 72 * userUnit;\n  const height = (y2 - y1) / 72 * userUnit;\n  return {\n    width: changeOrientation ? height : width,\n    height: changeOrientation ? width : height\n  };\n}\n\nfunction backtrackBeforeAllVisibleElements(index, views, top) {\n  if (index < 2) {\n    return index;\n  }\n\n  let elt = views[index].div;\n  let pageTop = elt.offsetTop + elt.clientTop;\n\n  if (pageTop >= top) {\n    elt = views[index - 1].div;\n    pageTop = elt.offsetTop + elt.clientTop;\n  }\n\n  for (let i = index - 2; i >= 0; --i) {\n    elt = views[i].div;\n\n    if (elt.offsetTop + elt.clientTop + elt.clientHeight <= pageTop) {\n      break;\n    }\n\n    index = i;\n  }\n\n  return index;\n}\n\nfunction getVisibleElements({\n  scrollEl,\n  views,\n  sortByVisibility = false,\n  horizontal = false,\n  rtl = false\n}) {\n  const top = scrollEl.scrollTop,\n        bottom = top + scrollEl.clientHeight;\n  const left = scrollEl.scrollLeft,\n        right = left + scrollEl.clientWidth;\n\n  function isElementBottomAfterViewTop(view) {\n    const element = view.div;\n    const elementBottom = element.offsetTop + element.clientTop + element.clientHeight;\n    return elementBottom > top;\n  }\n\n  function isElementNextAfterViewHorizontally(view) {\n    const element = view.div;\n    const elementLeft = element.offsetLeft + element.clientLeft;\n    const elementRight = elementLeft + element.clientWidth;\n    return rtl ? elementLeft < right : elementRight > left;\n  }\n\n  const visible = [],\n        ids = new Set(),\n        numViews = views.length;\n  let firstVisibleElementInd = binarySearchFirstItem(views, horizontal ? isElementNextAfterViewHorizontally : isElementBottomAfterViewTop);\n\n  if (firstVisibleElementInd > 0 && firstVisibleElementInd < numViews && !horizontal) {\n    firstVisibleElementInd = backtrackBeforeAllVisibleElements(firstVisibleElementInd, views, top);\n  }\n\n  let lastEdge = horizontal ? right : -1;\n\n  for (let i = firstVisibleElementInd; i < numViews; i++) {\n    const view = views[i],\n          element = view.div;\n    const currentWidth = element.offsetLeft + element.clientLeft;\n    const currentHeight = element.offsetTop + element.clientTop;\n    const viewWidth = element.clientWidth,\n          viewHeight = element.clientHeight;\n    const viewRight = currentWidth + viewWidth;\n    const viewBottom = currentHeight + viewHeight;\n\n    if (lastEdge === -1) {\n      if (viewBottom >= bottom) {\n        lastEdge = viewBottom;\n      }\n    } else if ((horizontal ? currentWidth : currentHeight) > lastEdge) {\n      break;\n    }\n\n    if (viewBottom <= top || currentHeight >= bottom || viewRight <= left || currentWidth >= right) {\n      continue;\n    }\n\n    const hiddenHeight = Math.max(0, top - currentHeight) + Math.max(0, viewBottom - bottom);\n    const hiddenWidth = Math.max(0, left - currentWidth) + Math.max(0, viewRight - right);\n    const fractionHeight = (viewHeight - hiddenHeight) / viewHeight,\n          fractionWidth = (viewWidth - hiddenWidth) / viewWidth;\n    const percent = fractionHeight * fractionWidth * 100 | 0;\n    visible.push({\n      id: view.id,\n      x: currentWidth,\n      y: currentHeight,\n      view,\n      percent,\n      widthPercent: fractionWidth * 100 | 0\n    });\n    ids.add(view.id);\n  }\n\n  const first = visible[0],\n        last = visible.at(-1);\n\n  if (sortByVisibility) {\n    visible.sort(function (a, b) {\n      const pc = a.percent - b.percent;\n\n      if (Math.abs(pc) > 0.001) {\n        return -pc;\n      }\n\n      return a.id - b.id;\n    });\n  }\n\n  return {\n    first,\n    last,\n    views: visible,\n    ids\n  };\n}\n\nfunction normalizeWheelEventDirection(evt) {\n  let delta = Math.hypot(evt.deltaX, evt.deltaY);\n  const angle = Math.atan2(evt.deltaY, evt.deltaX);\n\n  if (-0.25 * Math.PI < angle && angle < 0.75 * Math.PI) {\n    delta = -delta;\n  }\n\n  return delta;\n}\n\nfunction normalizeWheelEventDelta(evt) {\n  const deltaMode = evt.deltaMode;\n  let delta = normalizeWheelEventDirection(evt);\n  const MOUSE_PIXELS_PER_LINE = 30;\n  const MOUSE_LINES_PER_PAGE = 30;\n\n  if (deltaMode === WheelEvent.DOM_DELTA_PIXEL) {\n    delta /= MOUSE_PIXELS_PER_LINE * MOUSE_LINES_PER_PAGE;\n  } else if (deltaMode === WheelEvent.DOM_DELTA_LINE) {\n    delta /= MOUSE_LINES_PER_PAGE;\n  }\n\n  return delta;\n}\n\nfunction isValidRotation(angle) {\n  return Number.isInteger(angle) && angle % 90 === 0;\n}\n\nfunction isValidScrollMode(mode) {\n  return Number.isInteger(mode) && Object.values(ScrollMode).includes(mode) && mode !== ScrollMode.UNKNOWN;\n}\n\nfunction isValidSpreadMode(mode) {\n  return Number.isInteger(mode) && Object.values(SpreadMode).includes(mode) && mode !== SpreadMode.UNKNOWN;\n}\n\nfunction isPortraitOrientation(size) {\n  return size.width <= size.height;\n}\n\nconst animationStarted = new Promise(function (resolve) {\n  window.requestAnimationFrame(resolve);\n});\nconst docStyle = document.documentElement.style;\n\nfunction clamp(v, min, max) {\n  return Math.min(Math.max(v, min), max);\n}\n\nclass ProgressBar {\n  #classList = null;\n  #disableAutoFetchTimeout = null;\n  #percent = 0;\n  #style = null;\n  #visible = true;\n\n  constructor(bar) {\n    this.#classList = bar.classList;\n    this.#style = bar.style;\n  }\n\n  get percent() {\n    return this.#percent;\n  }\n\n  set percent(val) {\n    this.#percent = clamp(val, 0, 100);\n\n    if (isNaN(val)) {\n      this.#classList.add(\"indeterminate\");\n      return;\n    }\n\n    this.#classList.remove(\"indeterminate\");\n    this.#style.setProperty(\"--progressBar-percent\", `${this.#percent}%`);\n  }\n\n  setWidth(viewer) {\n    if (!viewer) {\n      return;\n    }\n\n    const container = viewer.parentNode;\n    const scrollbarWidth = container.offsetWidth - viewer.offsetWidth;\n\n    if (scrollbarWidth > 0) {\n      this.#style.setProperty(\"--progressBar-end-offset\", `${scrollbarWidth}px`);\n    }\n  }\n\n  setDisableAutoFetch(delay = 5000) {\n    if (this.#percent === 100 || isNaN(this.#percent)) {\n      return;\n    }\n\n    if (this.#disableAutoFetchTimeout) {\n      clearTimeout(this.#disableAutoFetchTimeout);\n    }\n\n    this.show();\n    this.#disableAutoFetchTimeout = setTimeout(() => {\n      this.#disableAutoFetchTimeout = null;\n      this.hide();\n    }, delay);\n  }\n\n  hide() {\n    if (!this.#visible) {\n      return;\n    }\n\n    this.#visible = false;\n    this.#classList.add(\"hidden\");\n  }\n\n  show() {\n    if (this.#visible) {\n      return;\n    }\n\n    this.#visible = true;\n    this.#classList.remove(\"hidden\");\n  }\n\n}\n\nfunction getActiveOrFocusedElement() {\n  let curRoot = document;\n  let curActiveOrFocused = curRoot.activeElement || curRoot.querySelector(\":focus\");\n\n  while (curActiveOrFocused?.shadowRoot) {\n    curRoot = curActiveOrFocused.shadowRoot;\n    curActiveOrFocused = curRoot.activeElement || curRoot.querySelector(\":focus\");\n  }\n\n  return curActiveOrFocused;\n}\n\nfunction apiPageLayoutToViewerModes(layout) {\n  let scrollMode = ScrollMode.VERTICAL,\n      spreadMode = SpreadMode.NONE;\n\n  switch (layout) {\n    case \"SinglePage\":\n      scrollMode = ScrollMode.PAGE;\n      break;\n\n    case \"OneColumn\":\n      break;\n\n    case \"TwoPageLeft\":\n      scrollMode = ScrollMode.PAGE;\n\n    case \"TwoColumnLeft\":\n      spreadMode = SpreadMode.ODD;\n      break;\n\n    case \"TwoPageRight\":\n      scrollMode = ScrollMode.PAGE;\n\n    case \"TwoColumnRight\":\n      spreadMode = SpreadMode.EVEN;\n      break;\n  }\n\n  return {\n    scrollMode,\n    spreadMode\n  };\n}\n\nfunction apiPageModeToSidebarView(mode) {\n  switch (mode) {\n    case \"UseNone\":\n      return SidebarView.NONE;\n\n    case \"UseThumbs\":\n      return SidebarView.THUMBS;\n\n    case \"UseOutlines\":\n      return SidebarView.OUTLINE;\n\n    case \"UseAttachments\":\n      return SidebarView.ATTACHMENTS;\n\n    case \"UseOC\":\n      return SidebarView.LAYERS;\n  }\n\n  return SidebarView.NONE;\n}\n\nfunction toggleCheckedBtn(button, toggle, view = null) {\n  button.classList.toggle(\"toggled\", toggle);\n  button.setAttribute(\"aria-checked\", toggle);\n  view?.classList.toggle(\"hidden\", !toggle);\n}\n\nfunction toggleExpandedBtn(button, toggle, view = null) {\n  button.classList.toggle(\"toggled\", toggle);\n  button.setAttribute(\"aria-expanded\", toggle);\n  view?.classList.toggle(\"hidden\", !toggle);\n}\n\n; // CONCATENATED MODULE: ./web/pdf_find_utils.js\n\nconst CharacterType = {\n  SPACE: 0,\n  ALPHA_LETTER: 1,\n  PUNCT: 2,\n  HAN_LETTER: 3,\n  KATAKANA_LETTER: 4,\n  HIRAGANA_LETTER: 5,\n  HALFWIDTH_KATAKANA_LETTER: 6,\n  THAI_LETTER: 7\n};\n\nfunction isAlphabeticalScript(charCode) {\n  return charCode < 0x2e80;\n}\n\nfunction isAscii(charCode) {\n  return (charCode & 0xff80) === 0;\n}\n\nfunction isAsciiAlpha(charCode) {\n  return charCode >= 0x61 && charCode <= 0x7a || charCode >= 0x41 && charCode <= 0x5a;\n}\n\nfunction isAsciiDigit(charCode) {\n  return charCode >= 0x30 && charCode <= 0x39;\n}\n\nfunction isAsciiSpace(charCode) {\n  return charCode === 0x20 || charCode === 0x09 || charCode === 0x0d || charCode === 0x0a;\n}\n\nfunction isHan(charCode) {\n  return charCode >= 0x3400 && charCode <= 0x9fff || charCode >= 0xf900 && charCode <= 0xfaff;\n}\n\nfunction isKatakana(charCode) {\n  return charCode >= 0x30a0 && charCode <= 0x30ff;\n}\n\nfunction isHiragana(charCode) {\n  return charCode >= 0x3040 && charCode <= 0x309f;\n}\n\nfunction isHalfwidthKatakana(charCode) {\n  return charCode >= 0xff60 && charCode <= 0xff9f;\n}\n\nfunction isThai(charCode) {\n  return (charCode & 0xff80) === 0x0e00;\n}\n\nfunction getCharacterType(charCode) {\n  if (isAlphabeticalScript(charCode)) {\n    if (isAscii(charCode)) {\n      if (isAsciiSpace(charCode)) {\n        return CharacterType.SPACE;\n      } else if (isAsciiAlpha(charCode) || isAsciiDigit(charCode) || charCode === 0x5f) {\n        return CharacterType.ALPHA_LETTER;\n      }\n\n      return CharacterType.PUNCT;\n    } else if (isThai(charCode)) {\n      return CharacterType.THAI_LETTER;\n    } else if (charCode === 0xa0) {\n      return CharacterType.SPACE;\n    }\n\n    return CharacterType.ALPHA_LETTER;\n  }\n\n  if (isHan(charCode)) {\n    return CharacterType.HAN_LETTER;\n  } else if (isKatakana(charCode)) {\n    return CharacterType.KATAKANA_LETTER;\n  } else if (isHiragana(charCode)) {\n    return CharacterType.HIRAGANA_LETTER;\n  } else if (isHalfwidthKatakana(charCode)) {\n    return CharacterType.HALFWIDTH_KATAKANA_LETTER;\n  }\n\n  return CharacterType.ALPHA_LETTER;\n}\n\nlet NormalizeWithNFKC;\n\nfunction getNormalizeWithNFKC() {\n  NormalizeWithNFKC ||= ` ¨ª¯²-µ¸-º¼-¾Ĳ-ĳĿ-ŀŉſǄ-ǌǱ-ǳʰ-ʸ˘-˝ˠ-ˤʹͺ;΄-΅·ϐ-ϖϰ-ϲϴ-ϵϹևٵ-ٸक़-य़ড়-ঢ়য়ਲ਼ਸ਼ਖ਼-ਜ਼ਫ਼ଡ଼-ଢ଼ำຳໜ-ໝ༌གྷཌྷདྷབྷཛྷཀྵჼᴬ-ᴮᴰ-ᴺᴼ-ᵍᵏ-ᵪᵸᶛ-ᶿẚ-ẛάέήίόύώΆ᾽-῁ΈΉ῍-῏ΐΊ῝-῟ΰΎ῭-`ΌΏ´-῾ - ‑‗․-… ″-‴‶-‷‼‾⁇-⁉⁗ ⁰-ⁱ⁴-₎ₐ-ₜ₨℀-℃℅-ℇ℉-ℓℕ-№ℙ-ℝ℠-™ℤΩℨK-ℭℯ-ℱℳ-ℹ℻-⅀ⅅ-ⅉ⅐-ⅿ↉∬-∭∯-∰〈-〉①-⓪⨌⩴-⩶⫝̸ⱼ-ⱽⵯ⺟⻳⼀-⿕　〶〸-〺゛-゜ゟヿㄱ-ㆎ㆒-㆟㈀-㈞㈠-㉇㉐-㉾㊀-㏿ꚜ-ꚝꝰꟲ-ꟴꟸ-ꟹꭜ-ꭟꭩ豈-嗀塚晴凞-羽蘒諸逸-都飯-舘並-龎ﬀ-ﬆﬓ-ﬗיִײַ-זּטּ-לּמּנּ-סּףּ-פּצּ-ﮱﯓ-ﴽﵐ-ﶏﶒ-ﷇﷰ-﷼︐-︙︰-﹄﹇-﹒﹔-﹦﹨-﹫ﹰ-ﹲﹴﹶ-ﻼ！-ﾾￂ-ￇￊ-ￏￒ-ￗￚ-ￜ￠-￦`;\n  return NormalizeWithNFKC;\n}\n\n; // CONCATENATED MODULE: ./web/pdf_find_controller.js\n\nconst FindState = {\n  FOUND: 0,\n  NOT_FOUND: 1,\n  WRAPPED: 2,\n  PENDING: 3\n};\nconst FIND_TIMEOUT = 250;\nconst MATCH_SCROLL_OFFSET_TOP = -50;\nconst MATCH_SCROLL_OFFSET_LEFT = -400;\nconst CHARACTERS_TO_NORMALIZE = {\n  \"\\u2010\": \"-\",\n  \"\\u2018\": \"'\",\n  \"\\u2019\": \"'\",\n  \"\\u201A\": \"'\",\n  \"\\u201B\": \"'\",\n  \"\\u201C\": '\"',\n  \"\\u201D\": '\"',\n  \"\\u201E\": '\"',\n  \"\\u201F\": '\"',\n  \"\\u00BC\": \"1/4\",\n  \"\\u00BD\": \"1/2\",\n  \"\\u00BE\": \"3/4\"\n};\nconst DIACRITICS_EXCEPTION = new Set([0x3099, 0x309a, 0x094d, 0x09cd, 0x0a4d, 0x0acd, 0x0b4d, 0x0bcd, 0x0c4d, 0x0ccd, 0x0d3b, 0x0d3c, 0x0d4d, 0x0dca, 0x0e3a, 0x0eba, 0x0f84, 0x1039, 0x103a, 0x1714, 0x1734, 0x17d2, 0x1a60, 0x1b44, 0x1baa, 0x1bab, 0x1bf2, 0x1bf3, 0x2d7f, 0xa806, 0xa82c, 0xa8c4, 0xa953, 0xa9c0, 0xaaf6, 0xabed, 0x0c56, 0x0f71, 0x0f72, 0x0f7a, 0x0f7b, 0x0f7c, 0x0f7d, 0x0f80, 0x0f74]);\nlet DIACRITICS_EXCEPTION_STR;\nconst DIACRITICS_REG_EXP = /\\p{M}+/gu;\nconst SPECIAL_CHARS_REG_EXP = /([.*+?^${}()|[\\]\\\\])|(\\p{P})|(\\s+)|(\\p{M})|(\\p{L})/gu;\nconst NOT_DIACRITIC_FROM_END_REG_EXP = /([^\\p{M}])\\p{M}*$/u;\nconst NOT_DIACRITIC_FROM_START_REG_EXP = /^\\p{M}*([^\\p{M}])/u;\nconst SYLLABLES_REG_EXP = /[\\uAC00-\\uD7AF\\uFA6C\\uFACF-\\uFAD1\\uFAD5-\\uFAD7]+/g;\nconst SYLLABLES_LENGTHS = new Map();\nconst FIRST_CHAR_SYLLABLES_REG_EXP = \"[\\\\u1100-\\\\u1112\\\\ud7a4-\\\\ud7af\\\\ud84a\\\\ud84c\\\\ud850\\\\ud854\\\\ud857\\\\ud85f]\";\nconst NFKC_CHARS_TO_NORMALIZE = new Map();\nlet noSyllablesRegExp = null;\nlet withSyllablesRegExp = null;\n\nfunction normalize(text) {\n  const syllablePositions = [];\n  let m;\n\n  while ((m = SYLLABLES_REG_EXP.exec(text)) !== null) {\n    let {\n      index\n    } = m;\n\n    for (const char of m[0]) {\n      let len = SYLLABLES_LENGTHS.get(char);\n\n      if (!len) {\n        len = char.normalize(\"NFD\").length;\n        SYLLABLES_LENGTHS.set(char, len);\n      }\n\n      syllablePositions.push([len, index++]);\n    }\n  }\n\n  let normalizationRegex;\n\n  if (syllablePositions.length === 0 && noSyllablesRegExp) {\n    normalizationRegex = noSyllablesRegExp;\n  } else if (syllablePositions.length > 0 && withSyllablesRegExp) {\n    normalizationRegex = withSyllablesRegExp;\n  } else {\n    const replace = Object.keys(CHARACTERS_TO_NORMALIZE).join(\"\");\n    const toNormalizeWithNFKC = getNormalizeWithNFKC();\n    const CJK = \"(?:\\\\p{Ideographic}|[\\u3040-\\u30FF])\";\n    const HKDiacritics = \"(?:\\u3099|\\u309A)\";\n    const regexp = `([${replace}])|([${toNormalizeWithNFKC}])|(${HKDiacritics}\\\\n)|(\\\\p{M}+(?:-\\\\n)?)|(\\\\S-\\\\n)|(${CJK}\\\\n)|(\\\\n)`;\n\n    if (syllablePositions.length === 0) {\n      normalizationRegex = noSyllablesRegExp = new RegExp(regexp + \"|(\\\\u0000)\", \"gum\");\n    } else {\n      normalizationRegex = withSyllablesRegExp = new RegExp(regexp + `|(${FIRST_CHAR_SYLLABLES_REG_EXP})`, \"gum\");\n    }\n  }\n\n  const rawDiacriticsPositions = [];\n\n  while ((m = DIACRITICS_REG_EXP.exec(text)) !== null) {\n    rawDiacriticsPositions.push([m[0].length, m.index]);\n  }\n\n  let normalized = text.normalize(\"NFD\");\n  const positions = [[0, 0]];\n  let rawDiacriticsIndex = 0;\n  let syllableIndex = 0;\n  let shift = 0;\n  let shiftOrigin = 0;\n  let eol = 0;\n  let hasDiacritics = false;\n  normalized = normalized.replace(normalizationRegex, (match, p1, p2, p3, p4, p5, p6, p7, p8, i) => {\n    i -= shiftOrigin;\n\n    if (p1) {\n      const replacement = CHARACTERS_TO_NORMALIZE[p1];\n      const jj = replacement.length;\n\n      for (let j = 1; j < jj; j++) {\n        positions.push([i - shift + j, shift - j]);\n      }\n\n      shift -= jj - 1;\n      return replacement;\n    }\n\n    if (p2) {\n      let replacement = NFKC_CHARS_TO_NORMALIZE.get(p2);\n\n      if (!replacement) {\n        replacement = p2.normalize(\"NFKC\");\n        NFKC_CHARS_TO_NORMALIZE.set(p2, replacement);\n      }\n\n      const jj = replacement.length;\n\n      for (let j = 1; j < jj; j++) {\n        positions.push([i - shift + j, shift - j]);\n      }\n\n      shift -= jj - 1;\n      return replacement;\n    }\n\n    if (p3) {\n      hasDiacritics = true;\n\n      if (i + eol === rawDiacriticsPositions[rawDiacriticsIndex]?.[1]) {\n        ++rawDiacriticsIndex;\n      } else {\n        positions.push([i - 1 - shift + 1, shift - 1]);\n        shift -= 1;\n        shiftOrigin += 1;\n      }\n\n      positions.push([i - shift + 1, shift]);\n      shiftOrigin += 1;\n      eol += 1;\n      return p3.charAt(0);\n    }\n\n    if (p4) {\n      const hasTrailingDashEOL = p4.endsWith(\"\\n\");\n      const len = hasTrailingDashEOL ? p4.length - 2 : p4.length;\n      hasDiacritics = true;\n      let jj = len;\n\n      if (i + eol === rawDiacriticsPositions[rawDiacriticsIndex]?.[1]) {\n        jj -= rawDiacriticsPositions[rawDiacriticsIndex][0];\n        ++rawDiacriticsIndex;\n      }\n\n      for (let j = 1; j <= jj; j++) {\n        positions.push([i - 1 - shift + j, shift - j]);\n      }\n\n      shift -= jj;\n      shiftOrigin += jj;\n\n      if (hasTrailingDashEOL) {\n        i += len - 1;\n        positions.push([i - shift + 1, 1 + shift]);\n        shift += 1;\n        shiftOrigin += 1;\n        eol += 1;\n        return p4.slice(0, len);\n      }\n\n      return p4;\n    }\n\n    if (p5) {\n      const len = p5.length - 2;\n      positions.push([i - shift + len, 1 + shift]);\n      shift += 1;\n      shiftOrigin += 1;\n      eol += 1;\n      return p5.slice(0, -2);\n    }\n\n    if (p6) {\n      const len = p6.length - 1;\n      positions.push([i - shift + len, shift]);\n      shiftOrigin += 1;\n      eol += 1;\n      return p6.slice(0, -1);\n    }\n\n    if (p7) {\n      positions.push([i - shift + 1, shift - 1]);\n      shift -= 1;\n      shiftOrigin += 1;\n      eol += 1;\n      return \" \";\n    }\n\n    if (i + eol === syllablePositions[syllableIndex]?.[1]) {\n      const newCharLen = syllablePositions[syllableIndex][0] - 1;\n      ++syllableIndex;\n\n      for (let j = 1; j <= newCharLen; j++) {\n        positions.push([i - (shift - j), shift - j]);\n      }\n\n      shift -= newCharLen;\n      shiftOrigin += newCharLen;\n    }\n\n    return p8;\n  });\n  positions.push([normalized.length, shift]);\n  return [normalized, positions, hasDiacritics];\n}\n\nfunction getOriginalIndex(diffs, pos, len) {\n  if (!diffs) {\n    return [pos, len];\n  }\n\n  const start = pos;\n  const end = pos + len - 1;\n  let i = binarySearchFirstItem(diffs, x => x[0] >= start);\n\n  if (diffs[i][0] > start) {\n    --i;\n  }\n\n  let j = binarySearchFirstItem(diffs, x => x[0] >= end, i);\n\n  if (diffs[j][0] > end) {\n    --j;\n  }\n\n  const oldStart = start + diffs[i][1];\n  const oldEnd = end + diffs[j][1];\n  const oldLen = oldEnd + 1 - oldStart;\n  return [oldStart, oldLen];\n}\n\nclass PDFFindController {\n  #state = null;\n  #updateMatchesCountOnProgress = true;\n  #visitedPagesCount = 0;\n\n  constructor({\n    linkService,\n    eventBus,\n    updateMatchesCountOnProgress = true\n  }) {\n    this._linkService = linkService;\n    this._eventBus = eventBus;\n    this.#updateMatchesCountOnProgress = updateMatchesCountOnProgress;\n    this.onIsPageVisible = null;\n    this.#reset();\n\n    eventBus._on(\"find\", this.#onFind.bind(this));\n\n    eventBus._on(\"findbarclose\", this.#onFindBarClose.bind(this));\n  }\n\n  get highlightMatches() {\n    return this._highlightMatches;\n  }\n\n  get pageMatches() {\n    return this._pageMatches;\n  }\n\n  get pageMatchesLength() {\n    return this._pageMatchesLength;\n  }\n\n  get selected() {\n    return this._selected;\n  }\n\n  get state() {\n    return this.#state;\n  }\n\n  setDocument(pdfDocument) {\n    if (this._pdfDocument) {\n      this.#reset();\n    }\n\n    if (!pdfDocument) {\n      return;\n    }\n\n    this._pdfDocument = pdfDocument;\n\n    this._firstPageCapability.resolve();\n  }\n\n  #onFind(state) {\n    if (!state) {\n      return;\n    }\n\n    const pdfDocument = this._pdfDocument;\n    const {\n      type\n    } = state;\n\n    if (this.#state === null || this.#shouldDirtyMatch(state)) {\n      this._dirtyMatch = true;\n    }\n\n    this.#state = state;\n\n    if (type !== \"highlightallchange\") {\n      this.#updateUIState(FindState.PENDING);\n    }\n\n    this._firstPageCapability.promise.then(() => {\n      if (!this._pdfDocument || pdfDocument && this._pdfDocument !== pdfDocument) {\n        return;\n      }\n\n      this.#extractText();\n      const findbarClosed = !this._highlightMatches;\n      const pendingTimeout = !!this._findTimeout;\n\n      if (this._findTimeout) {\n        clearTimeout(this._findTimeout);\n        this._findTimeout = null;\n      }\n\n      if (!type) {\n        this._findTimeout = setTimeout(() => {\n          this.#nextMatch();\n          this._findTimeout = null;\n        }, FIND_TIMEOUT);\n      } else if (this._dirtyMatch) {\n        this.#nextMatch();\n      } else if (type === \"again\") {\n        this.#nextMatch();\n\n        if (findbarClosed && this.#state.highlightAll) {\n          this.#updateAllPages();\n        }\n      } else if (type === \"highlightallchange\") {\n        if (pendingTimeout) {\n          this.#nextMatch();\n        } else {\n          this._highlightMatches = true;\n        }\n\n        this.#updateAllPages();\n      } else {\n        this.#nextMatch();\n      }\n    });\n  }\n\n  scrollMatchIntoView({\n    element = null,\n    selectedLeft = 0,\n    pageIndex = -1,\n    matchIndex = -1\n  }) {\n    if (!this._scrollMatches || !element) {\n      return;\n    } else if (matchIndex === -1 || matchIndex !== this._selected.matchIdx) {\n      return;\n    } else if (pageIndex === -1 || pageIndex !== this._selected.pageIdx) {\n      return;\n    }\n\n    this._scrollMatches = false;\n    const spot = {\n      top: MATCH_SCROLL_OFFSET_TOP,\n      left: selectedLeft + MATCH_SCROLL_OFFSET_LEFT\n    };\n    scrollIntoView(element, spot, true);\n  }\n\n  #reset() {\n    this._highlightMatches = false;\n    this._scrollMatches = false;\n    this._pdfDocument = null;\n    this._pageMatches = [];\n    this._pageMatchesLength = [];\n    this.#visitedPagesCount = 0;\n    this.#state = null;\n    this._selected = {\n      pageIdx: -1,\n      matchIdx: -1\n    };\n    this._offset = {\n      pageIdx: null,\n      matchIdx: null,\n      wrapped: false\n    };\n    this._extractTextPromises = [];\n    this._pageContents = [];\n    this._pageDiffs = [];\n    this._hasDiacritics = [];\n    this._matchesCountTotal = 0;\n    this._pagesToSearch = null;\n    this._pendingFindMatches = new Set();\n    this._resumePageIdx = null;\n    this._dirtyMatch = false;\n    clearTimeout(this._findTimeout);\n    this._findTimeout = null;\n    this._firstPageCapability = Promise.withResolvers();\n  }\n\n  get #query() {\n    const {\n      query\n    } = this.#state;\n\n    if (typeof query === \"string\") {\n      if (query !== this._rawQuery) {\n        this._rawQuery = query;\n        [this._normalizedQuery] = normalize(query);\n      }\n\n      return this._normalizedQuery;\n    }\n\n    return (query || []).filter(q => !!q).map(q => normalize(q)[0]);\n  }\n\n  #shouldDirtyMatch(state) {\n    const newQuery = state.query,\n          prevQuery = this.#state.query;\n    const newType = typeof newQuery,\n          prevType = typeof prevQuery;\n\n    if (newType !== prevType) {\n      return true;\n    }\n\n    if (newType === \"string\") {\n      if (newQuery !== prevQuery) {\n        return true;\n      }\n    } else if (JSON.stringify(newQuery) !== JSON.stringify(prevQuery)) {\n      return true;\n    }\n\n    switch (state.type) {\n      case \"again\":\n        const pageNumber = this._selected.pageIdx + 1;\n        const linkService = this._linkService;\n        return pageNumber >= 1 && pageNumber <= linkService.pagesCount && pageNumber !== linkService.page && !(this.onIsPageVisible?.(pageNumber) ?? true);\n\n      case \"highlightallchange\":\n        return false;\n    }\n\n    return true;\n  }\n\n  #isEntireWord(content, startIdx, length) {\n    let match = content.slice(0, startIdx).match(NOT_DIACRITIC_FROM_END_REG_EXP);\n\n    if (match) {\n      const first = content.charCodeAt(startIdx);\n      const limit = match[1].charCodeAt(0);\n\n      if (getCharacterType(first) === getCharacterType(limit)) {\n        return false;\n      }\n    }\n\n    match = content.slice(startIdx + length).match(NOT_DIACRITIC_FROM_START_REG_EXP);\n\n    if (match) {\n      const last = content.charCodeAt(startIdx + length - 1);\n      const limit = match[1].charCodeAt(0);\n\n      if (getCharacterType(last) === getCharacterType(limit)) {\n        return false;\n      }\n    }\n\n    return true;\n  }\n\n  #convertToRegExpString(query, hasDiacritics) {\n    const {\n      matchDiacritics\n    } = this.#state;\n    let isUnicode = false;\n    query = query.replaceAll(SPECIAL_CHARS_REG_EXP, (match, p1, p2, p3, p4, p5) => {\n      if (p1) {\n        return `[ ]*\\\\${p1}[ ]*`;\n      }\n\n      if (p2) {\n        return `[ ]*${p2}[ ]*`;\n      }\n\n      if (p3) {\n        return \"[ ]+\";\n      }\n\n      if (matchDiacritics) {\n        return p4 || p5;\n      }\n\n      if (p4) {\n        return DIACRITICS_EXCEPTION.has(p4.charCodeAt(0)) ? p4 : \"\";\n      }\n\n      if (hasDiacritics) {\n        isUnicode = true;\n        return `${p5}\\\\p{M}*`;\n      }\n\n      return p5;\n    });\n    const trailingSpaces = \"[ ]*\";\n\n    if (query.endsWith(trailingSpaces)) {\n      query = query.slice(0, query.length - trailingSpaces.length);\n    }\n\n    if (matchDiacritics) {\n      if (hasDiacritics) {\n        DIACRITICS_EXCEPTION_STR ||= String.fromCharCode(...DIACRITICS_EXCEPTION);\n        isUnicode = true;\n        query = `${query}(?=[${DIACRITICS_EXCEPTION_STR}]|[^\\\\p{M}]|$)`;\n      }\n    }\n\n    return [isUnicode, query];\n  }\n\n  #calculateMatch(pageIndex) {\n    const query = this.#query;\n\n    if (query.length === 0) {\n      return;\n    }\n\n    const pageContent = this._pageContents[pageIndex];\n    const matcherResult = this.match(query, pageContent, pageIndex);\n    const matches = this._pageMatches[pageIndex] = [];\n    const matchesLength = this._pageMatchesLength[pageIndex] = [];\n    const diffs = this._pageDiffs[pageIndex];\n    matcherResult?.forEach(({\n      index,\n      length\n    }) => {\n      const [matchPos, matchLen] = getOriginalIndex(diffs, index, length);\n\n      if (matchLen) {\n        matches.push(matchPos);\n        matchesLength.push(matchLen);\n      }\n    });\n\n    if (this.#state.highlightAll) {\n      this.#updatePage(pageIndex);\n    }\n\n    if (this._resumePageIdx === pageIndex) {\n      this._resumePageIdx = null;\n      this.#nextPageMatch();\n    }\n\n    const pageMatchesCount = matches.length;\n    this._matchesCountTotal += pageMatchesCount;\n\n    if (this.#updateMatchesCountOnProgress) {\n      if (pageMatchesCount > 0) {\n        this.#updateUIResultsCount();\n      }\n    } else if (++this.#visitedPagesCount === this._linkService.pagesCount) {\n      this.#updateUIResultsCount();\n    }\n  }\n\n  match(query, pageContent, pageIndex) {\n    const hasDiacritics = this._hasDiacritics[pageIndex];\n    let isUnicode = false;\n\n    if (typeof query === \"string\") {\n      [isUnicode, query] = this.#convertToRegExpString(query, hasDiacritics);\n    } else {\n      query = query.sort().reverse().map(q => {\n        const [isUnicodePart, queryPart] = this.#convertToRegExpString(q, hasDiacritics);\n        isUnicode ||= isUnicodePart;\n        return `(${queryPart})`;\n      }).join(\"|\");\n    }\n\n    if (!query) {\n      return undefined;\n    }\n\n    const {\n      caseSensitive,\n      entireWord\n    } = this.#state;\n    const flags = `g${isUnicode ? \"u\" : \"\"}${caseSensitive ? \"\" : \"i\"}`;\n    query = new RegExp(query, flags);\n    const matches = [];\n    let match;\n\n    while ((match = query.exec(pageContent)) !== null) {\n      if (entireWord && !this.#isEntireWord(pageContent, match.index, match[0].length)) {\n        continue;\n      }\n\n      matches.push({\n        index: match.index,\n        length: match[0].length\n      });\n    }\n\n    return matches;\n  }\n\n  #extractText() {\n    if (this._extractTextPromises.length > 0) {\n      return;\n    }\n\n    let deferred = Promise.resolve();\n    const textOptions = {\n      disableNormalization: true\n    };\n\n    for (let i = 0, ii = this._linkService.pagesCount; i < ii; i++) {\n      const {\n        promise,\n        resolve\n      } = Promise.withResolvers();\n      this._extractTextPromises[i] = promise;\n      deferred = deferred.then(() => {\n        return this._pdfDocument.getPage(i + 1).then(pdfPage => pdfPage.getTextContent(textOptions)).then(textContent => {\n          const strBuf = [];\n\n          for (const textItem of textContent.items) {\n            strBuf.push(textItem.str);\n\n            if (textItem.hasEOL) {\n              strBuf.push(\"\\n\");\n            }\n          }\n\n          [this._pageContents[i], this._pageDiffs[i], this._hasDiacritics[i]] = normalize(strBuf.join(\"\"));\n          resolve();\n        }, reason => {\n          console.error(`Unable to get text content for page ${i + 1}`, reason);\n          this._pageContents[i] = \"\";\n          this._pageDiffs[i] = null;\n          this._hasDiacritics[i] = false;\n          resolve();\n        });\n      });\n    }\n  }\n\n  #updatePage(index) {\n    if (this._scrollMatches && this._selected.pageIdx === index) {\n      this._linkService.page = index + 1;\n    }\n\n    this._eventBus.dispatch(\"updatetextlayermatches\", {\n      source: this,\n      pageIndex: index\n    });\n  }\n\n  #updateAllPages() {\n    this._eventBus.dispatch(\"updatetextlayermatches\", {\n      source: this,\n      pageIndex: -1\n    });\n  }\n\n  #nextMatch() {\n    const previous = this.#state.findPrevious;\n    const currentPageIndex = this._linkService.page - 1;\n    const numPages = this._linkService.pagesCount;\n    this._highlightMatches = true;\n\n    if (this._dirtyMatch) {\n      this._dirtyMatch = false;\n      this._selected.pageIdx = this._selected.matchIdx = -1;\n      this._offset.pageIdx = currentPageIndex;\n      this._offset.matchIdx = null;\n      this._offset.wrapped = false;\n      this._resumePageIdx = null;\n      this._pageMatches.length = 0;\n      this._pageMatchesLength.length = 0;\n      this.#visitedPagesCount = 0;\n      this._matchesCountTotal = 0;\n      this.#updateAllPages();\n\n      for (let i = 0; i < numPages; i++) {\n        if (this._pendingFindMatches.has(i)) {\n          continue;\n        }\n\n        this._pendingFindMatches.add(i);\n\n        this._extractTextPromises[i].then(() => {\n          this._pendingFindMatches.delete(i);\n\n          this.#calculateMatch(i);\n        });\n      }\n    }\n\n    const query = this.#query;\n\n    if (query.length === 0) {\n      this.#updateUIState(FindState.FOUND);\n      return;\n    }\n\n    if (this._resumePageIdx) {\n      return;\n    }\n\n    const offset = this._offset;\n    this._pagesToSearch = numPages;\n\n    if (offset.matchIdx !== null) {\n      const numPageMatches = this._pageMatches[offset.pageIdx].length;\n\n      if (!previous && offset.matchIdx + 1 < numPageMatches || previous && offset.matchIdx > 0) {\n        offset.matchIdx = previous ? offset.matchIdx - 1 : offset.matchIdx + 1;\n        this.#updateMatch(true);\n        return;\n      }\n\n      this.#advanceOffsetPage(previous);\n    }\n\n    this.#nextPageMatch();\n  }\n\n  #matchesReady(matches) {\n    const offset = this._offset;\n    const numMatches = matches.length;\n    const previous = this.#state.findPrevious;\n\n    if (numMatches) {\n      offset.matchIdx = previous ? numMatches - 1 : 0;\n      this.#updateMatch(true);\n      return true;\n    }\n\n    this.#advanceOffsetPage(previous);\n\n    if (offset.wrapped) {\n      offset.matchIdx = null;\n\n      if (this._pagesToSearch < 0) {\n        this.#updateMatch(false);\n        return true;\n      }\n    }\n\n    return false;\n  }\n\n  #nextPageMatch() {\n    if (this._resumePageIdx !== null) {\n      console.error(\"There can only be one pending page.\");\n    }\n\n    let matches = null;\n\n    do {\n      const pageIdx = this._offset.pageIdx;\n      matches = this._pageMatches[pageIdx];\n\n      if (!matches) {\n        this._resumePageIdx = pageIdx;\n        break;\n      }\n    } while (!this.#matchesReady(matches));\n  }\n\n  #advanceOffsetPage(previous) {\n    const offset = this._offset;\n    const numPages = this._linkService.pagesCount;\n    offset.pageIdx = previous ? offset.pageIdx - 1 : offset.pageIdx + 1;\n    offset.matchIdx = null;\n    this._pagesToSearch--;\n\n    if (offset.pageIdx >= numPages || offset.pageIdx < 0) {\n      offset.pageIdx = previous ? numPages - 1 : 0;\n      offset.wrapped = true;\n    }\n  }\n\n  #updateMatch(found = false) {\n    let state = FindState.NOT_FOUND;\n    const wrapped = this._offset.wrapped;\n    this._offset.wrapped = false;\n\n    if (found) {\n      const previousPage = this._selected.pageIdx;\n      this._selected.pageIdx = this._offset.pageIdx;\n      this._selected.matchIdx = this._offset.matchIdx;\n      state = wrapped ? FindState.WRAPPED : FindState.FOUND;\n\n      if (previousPage !== -1 && previousPage !== this._selected.pageIdx) {\n        this.#updatePage(previousPage);\n      }\n    }\n\n    this.#updateUIState(state, this.#state.findPrevious);\n\n    if (this._selected.pageIdx !== -1) {\n      this._scrollMatches = true;\n      this.#updatePage(this._selected.pageIdx);\n    }\n  }\n\n  #onFindBarClose(evt) {\n    const pdfDocument = this._pdfDocument;\n\n    this._firstPageCapability.promise.then(() => {\n      if (!this._pdfDocument || pdfDocument && this._pdfDocument !== pdfDocument) {\n        return;\n      }\n\n      if (this._findTimeout) {\n        clearTimeout(this._findTimeout);\n        this._findTimeout = null;\n      }\n\n      if (this._resumePageIdx) {\n        this._resumePageIdx = null;\n        this._dirtyMatch = true;\n      }\n\n      this.#updateUIState(FindState.FOUND);\n      this._highlightMatches = false;\n      this.#updateAllPages();\n    });\n  }\n\n  #requestMatchesCount() {\n    const {\n      pageIdx,\n      matchIdx\n    } = this._selected;\n    let current = 0,\n        total = this._matchesCountTotal;\n\n    if (matchIdx !== -1) {\n      for (let i = 0; i < pageIdx; i++) {\n        current += this._pageMatches[i]?.length || 0;\n      }\n\n      current += matchIdx + 1;\n    }\n\n    if (current < 1 || current > total) {\n      current = total = 0;\n    }\n\n    return {\n      current,\n      total\n    };\n  }\n\n  #updateUIResultsCount() {\n    this._eventBus.dispatch(\"updatefindmatchescount\", {\n      source: this,\n      matchesCount: this.#requestMatchesCount()\n    });\n  }\n\n  #updateUIState(state, previous = false) {\n    if (!this.#updateMatchesCountOnProgress && (this.#visitedPagesCount !== this._linkService.pagesCount || state === FindState.PENDING)) {\n      return;\n    }\n\n    this._eventBus.dispatch(\"updatefindcontrolstate\", {\n      source: this,\n      state,\n      previous,\n      entireWord: this.#state?.entireWord ?? null,\n      matchesCount: this.#requestMatchesCount(),\n      rawQuery: this.#state?.query ?? null\n    });\n  }\n\n}\n\n; // CONCATENATED MODULE: ./web/pdf_link_service.js\n\nconst DEFAULT_LINK_REL = \"noopener noreferrer nofollow\";\nconst LinkTarget = {\n  NONE: 0,\n  SELF: 1,\n  BLANK: 2,\n  PARENT: 3,\n  TOP: 4\n};\n\nclass PDFLinkService {\n  externalLinkEnabled = true;\n\n  constructor({\n    eventBus,\n    externalLinkTarget = null,\n    externalLinkRel = null,\n    ignoreDestinationZoom = false\n  } = {}) {\n    this.eventBus = eventBus;\n    this.externalLinkTarget = externalLinkTarget;\n    this.externalLinkRel = externalLinkRel;\n    this._ignoreDestinationZoom = ignoreDestinationZoom;\n    this.baseUrl = null;\n    this.pdfDocument = null;\n    this.pdfViewer = null;\n    this.pdfHistory = null;\n  }\n\n  setDocument(pdfDocument, baseUrl = null) {\n    this.baseUrl = baseUrl;\n    this.pdfDocument = pdfDocument;\n  }\n\n  setViewer(pdfViewer) {\n    this.pdfViewer = pdfViewer;\n  }\n\n  setHistory(pdfHistory) {\n    this.pdfHistory = pdfHistory;\n  }\n\n  get pagesCount() {\n    return this.pdfDocument ? this.pdfDocument.numPages : 0;\n  }\n\n  get page() {\n    return this.pdfDocument ? this.pdfViewer.currentPageNumber : 1;\n  }\n\n  set page(value) {\n    if (this.pdfDocument) {\n      this.pdfViewer.currentPageNumber = value;\n    }\n  }\n\n  get rotation() {\n    return this.pdfDocument ? this.pdfViewer.pagesRotation : 0;\n  }\n\n  set rotation(value) {\n    if (this.pdfDocument) {\n      this.pdfViewer.pagesRotation = value;\n    }\n  }\n\n  get isInPresentationMode() {\n    return this.pdfDocument ? this.pdfViewer.isInPresentationMode : false;\n  }\n\n  goToDestination(dest) {\n    var _this3 = this;\n\n    return _asyncToGenerator(function* () {\n      if (!_this3.pdfDocument) {\n        return;\n      }\n\n      let namedDest, explicitDest, pageNumber;\n\n      if (typeof dest === \"string\") {\n        namedDest = dest;\n        explicitDest = yield _this3.pdfDocument.getDestination(dest);\n      } else {\n        namedDest = null;\n        explicitDest = yield dest;\n      }\n\n      if (!Array.isArray(explicitDest)) {\n        console.error(`goToDestination: \"${explicitDest}\" is not a valid destination array, for dest=\"${dest}\".`);\n        return;\n      }\n\n      const [destRef] = explicitDest;\n\n      if (destRef && typeof destRef === \"object\") {\n        pageNumber = _this3.pdfDocument.cachedPageNumber(destRef);\n\n        if (!pageNumber) {\n          try {\n            pageNumber = (yield _this3.pdfDocument.getPageIndex(destRef)) + 1;\n          } catch {\n            console.error(`goToDestination: \"${destRef}\" is not a valid page reference, for dest=\"${dest}\".`);\n            return;\n          }\n        }\n      } else if (Number.isInteger(destRef)) {\n        pageNumber = destRef + 1;\n      }\n\n      if (!pageNumber || pageNumber < 1 || pageNumber > _this3.pagesCount) {\n        console.error(`goToDestination: \"${pageNumber}\" is not a valid page number, for dest=\"${dest}\".`);\n        return;\n      }\n\n      if (_this3.pdfHistory) {\n        _this3.pdfHistory.pushCurrentPosition();\n\n        _this3.pdfHistory.push({\n          namedDest,\n          explicitDest,\n          pageNumber\n        });\n      }\n\n      _this3.pdfViewer.scrollPageIntoView({\n        pageNumber,\n        destArray: explicitDest,\n        ignoreDestinationZoom: _this3._ignoreDestinationZoom\n      });\n    })();\n  }\n\n  goToPage(val) {\n    if (!this.pdfDocument) {\n      return;\n    }\n\n    const pageNumber = typeof val === \"string\" && this.pdfViewer.pageLabelToPageNumber(val) || val | 0;\n\n    if (!(Number.isInteger(pageNumber) && pageNumber > 0 && pageNumber <= this.pagesCount)) {\n      console.error(`PDFLinkService.goToPage: \"${val}\" is not a valid page.`);\n      return;\n    }\n\n    if (this.pdfHistory) {\n      this.pdfHistory.pushCurrentPosition();\n      this.pdfHistory.pushPage(pageNumber);\n    }\n\n    this.pdfViewer.scrollPageIntoView({\n      pageNumber\n    });\n  }\n\n  addLinkAttributes(link, url, newWindow = false) {\n    if (!url || typeof url !== \"string\") {\n      throw new Error('A valid \"url\" parameter must provided.');\n    }\n\n    const target = newWindow ? LinkTarget.BLANK : this.externalLinkTarget,\n          rel = this.externalLinkRel;\n\n    if (this.externalLinkEnabled) {\n      link.href = link.title = url;\n    } else {\n      link.href = \"\";\n      link.title = `Disabled: ${url}`;\n\n      link.onclick = () => false;\n    }\n\n    let targetStr = \"\";\n\n    switch (target) {\n      case LinkTarget.NONE:\n        break;\n\n      case LinkTarget.SELF:\n        targetStr = \"_self\";\n        break;\n\n      case LinkTarget.BLANK:\n        targetStr = \"_blank\";\n        break;\n\n      case LinkTarget.PARENT:\n        targetStr = \"_parent\";\n        break;\n\n      case LinkTarget.TOP:\n        targetStr = \"_top\";\n        break;\n    }\n\n    link.target = targetStr;\n    link.rel = typeof rel === \"string\" ? rel : DEFAULT_LINK_REL;\n  }\n\n  getDestinationHash(dest) {\n    if (typeof dest === \"string\") {\n      if (dest.length > 0) {\n        return this.getAnchorUrl(\"#\" + escape(dest));\n      }\n    } else if (Array.isArray(dest)) {\n      const str = JSON.stringify(dest);\n\n      if (str.length > 0) {\n        return this.getAnchorUrl(\"#\" + escape(str));\n      }\n    }\n\n    return this.getAnchorUrl(\"\");\n  }\n\n  getAnchorUrl(anchor) {\n    return this.baseUrl ? this.baseUrl + anchor : anchor;\n  }\n\n  setHash(hash) {\n    if (!this.pdfDocument) {\n      return;\n    }\n\n    let pageNumber, dest;\n\n    if (hash.includes(\"=\")) {\n      const params = parseQueryString(hash);\n\n      if (params.has(\"search\")) {\n        const query = params.get(\"search\").replaceAll('\"', \"\"),\n              phrase = params.get(\"phrase\") === \"true\";\n        this.eventBus.dispatch(\"findfromurlhash\", {\n          source: this,\n          query: phrase ? query : query.match(/\\S+/g)\n        });\n      }\n\n      if (params.has(\"page\")) {\n        pageNumber = params.get(\"page\") | 0 || 1;\n      }\n\n      if (params.has(\"zoom\")) {\n        const zoomArgs = params.get(\"zoom\").split(\",\");\n        const zoomArg = zoomArgs[0];\n        const zoomArgNumber = parseFloat(zoomArg);\n\n        if (!zoomArg.includes(\"Fit\")) {\n          dest = [null, {\n            name: \"XYZ\"\n          }, zoomArgs.length > 1 ? zoomArgs[1] | 0 : null, zoomArgs.length > 2 ? zoomArgs[2] | 0 : null, zoomArgNumber ? zoomArgNumber / 100 : zoomArg];\n        } else if (zoomArg === \"Fit\" || zoomArg === \"FitB\") {\n          dest = [null, {\n            name: zoomArg\n          }];\n        } else if (zoomArg === \"FitH\" || zoomArg === \"FitBH\" || zoomArg === \"FitV\" || zoomArg === \"FitBV\") {\n          dest = [null, {\n            name: zoomArg\n          }, zoomArgs.length > 1 ? zoomArgs[1] | 0 : null];\n        } else if (zoomArg === \"FitR\") {\n          if (zoomArgs.length !== 5) {\n            console.error('PDFLinkService.setHash: Not enough parameters for \"FitR\".');\n          } else {\n            dest = [null, {\n              name: zoomArg\n            }, zoomArgs[1] | 0, zoomArgs[2] | 0, zoomArgs[3] | 0, zoomArgs[4] | 0];\n          }\n        } else {\n          console.error(`PDFLinkService.setHash: \"${zoomArg}\" is not a valid zoom value.`);\n        }\n      }\n\n      if (dest) {\n        this.pdfViewer.scrollPageIntoView({\n          pageNumber: pageNumber || this.page,\n          destArray: dest,\n          allowNegativeOffset: true\n        });\n      } else if (pageNumber) {\n        this.page = pageNumber;\n      }\n\n      if (params.has(\"pagemode\")) {\n        this.eventBus.dispatch(\"pagemode\", {\n          source: this,\n          mode: params.get(\"pagemode\")\n        });\n      }\n\n      if (params.has(\"nameddest\")) {\n        this.goToDestination(params.get(\"nameddest\"));\n      }\n\n      return;\n    }\n\n    dest = unescape(hash);\n\n    try {\n      dest = JSON.parse(dest);\n\n      if (!Array.isArray(dest)) {\n        dest = dest.toString();\n      }\n    } catch {}\n\n    if (typeof dest === \"string\" || PDFLinkService.#isValidExplicitDest(dest)) {\n      this.goToDestination(dest);\n      return;\n    }\n\n    console.error(`PDFLinkService.setHash: \"${unescape(hash)}\" is not a valid destination.`);\n  }\n\n  executeNamedAction(action) {\n    if (!this.pdfDocument) {\n      return;\n    }\n\n    switch (action) {\n      case \"GoBack\":\n        this.pdfHistory?.back();\n        break;\n\n      case \"GoForward\":\n        this.pdfHistory?.forward();\n        break;\n\n      case \"NextPage\":\n        this.pdfViewer.nextPage();\n        break;\n\n      case \"PrevPage\":\n        this.pdfViewer.previousPage();\n        break;\n\n      case \"LastPage\":\n        this.page = this.pagesCount;\n        break;\n\n      case \"FirstPage\":\n        this.page = 1;\n        break;\n\n      default:\n        break;\n    }\n\n    this.eventBus.dispatch(\"namedaction\", {\n      source: this,\n      action\n    });\n  }\n\n  executeSetOCGState(action) {\n    var _this4 = this;\n\n    return _asyncToGenerator(function* () {\n      if (!_this4.pdfDocument) {\n        return;\n      }\n\n      const pdfDocument = _this4.pdfDocument,\n            optionalContentConfig = yield _this4.pdfViewer.optionalContentConfigPromise;\n\n      if (pdfDocument !== _this4.pdfDocument) {\n        return;\n      }\n\n      optionalContentConfig.setOCGState(action);\n      _this4.pdfViewer.optionalContentConfigPromise = Promise.resolve(optionalContentConfig);\n    })();\n  }\n\n  static #isValidExplicitDest(dest) {\n    if (!Array.isArray(dest) || dest.length < 2) {\n      return false;\n    }\n\n    const [page, zoom, ...args] = dest;\n\n    if (!(typeof page === \"object\" && Number.isInteger(page?.num) && Number.isInteger(page?.gen)) && !Number.isInteger(page)) {\n      return false;\n    }\n\n    if (!(typeof zoom === \"object\" && typeof zoom?.name === \"string\")) {\n      return false;\n    }\n\n    const argsLen = args.length;\n    let allowNull = true;\n\n    switch (zoom.name) {\n      case \"XYZ\":\n        if (argsLen < 2 || argsLen > 3) {\n          return false;\n        }\n\n        break;\n\n      case \"Fit\":\n      case \"FitB\":\n        return argsLen === 0;\n\n      case \"FitH\":\n      case \"FitBH\":\n      case \"FitV\":\n      case \"FitBV\":\n        if (argsLen > 1) {\n          return false;\n        }\n\n        break;\n\n      case \"FitR\":\n        if (argsLen !== 4) {\n          return false;\n        }\n\n        allowNull = false;\n        break;\n\n      default:\n        return false;\n    }\n\n    for (const arg of args) {\n      if (!(typeof arg === \"number\" || allowNull && arg === null)) {\n        return false;\n      }\n    }\n\n    return true;\n  }\n\n}\n\nclass SimpleLinkService extends PDFLinkService {\n  setDocument(pdfDocument, baseUrl = null) {}\n\n}\n\n; // CONCATENATED MODULE: ./web/pdfjs.js\n\nconst {\n  AbortException,\n  AnnotationEditorLayer,\n  AnnotationEditorParamsType,\n  AnnotationEditorType,\n  AnnotationEditorUIManager,\n  AnnotationLayer,\n  AnnotationMode,\n  build,\n  CMapCompressionType,\n  ColorPicker,\n  createValidAbsoluteUrl,\n  DOMSVGFactory,\n  DrawLayer,\n  FeatureTest,\n  fetchData,\n  getDocument,\n  getFilenameFromUrl,\n  getPdfFilenameFromUrl,\n  getXfaPageViewport,\n  GlobalWorkerOptions,\n  ImageKind,\n  InvalidPDFException,\n  isDataScheme,\n  isPdfFile,\n  MissingPDFException,\n  noContextMenu,\n  normalizeUnicode,\n  OPS,\n  PasswordResponses,\n  PDFDataRangeTransport,\n  PDFDateString,\n  PDFWorker,\n  PermissionFlag,\n  PixelsPerInch,\n  RenderingCancelledException,\n  setLayerDimensions,\n  shadow,\n  TextLayer,\n  UnexpectedResponseException,\n  Util,\n  VerbosityLevel,\n  version,\n  XfaLayer\n} = globalThis.pdfjsLib;\n; // CONCATENATED MODULE: ./web/annotation_layer_builder.js\n\nclass AnnotationLayerBuilder {\n  #onAppend = null;\n  #eventAbortController = null;\n\n  constructor({\n    pdfPage,\n    linkService,\n    downloadManager,\n    annotationStorage = null,\n    imageResourcesPath = \"\",\n    renderForms = true,\n    enableScripting = false,\n    hasJSActionsPromise = null,\n    fieldObjectsPromise = null,\n    annotationCanvasMap = null,\n    accessibilityManager = null,\n    annotationEditorUIManager = null,\n    onAppend = null\n  }) {\n    this.pdfPage = pdfPage;\n    this.linkService = linkService;\n    this.downloadManager = downloadManager;\n    this.imageResourcesPath = imageResourcesPath;\n    this.renderForms = renderForms;\n    this.annotationStorage = annotationStorage;\n    this.enableScripting = enableScripting;\n    this._hasJSActionsPromise = hasJSActionsPromise || Promise.resolve(false);\n    this._fieldObjectsPromise = fieldObjectsPromise || Promise.resolve(null);\n    this._annotationCanvasMap = annotationCanvasMap;\n    this._accessibilityManager = accessibilityManager;\n    this._annotationEditorUIManager = annotationEditorUIManager;\n    this.#onAppend = onAppend;\n    this.annotationLayer = null;\n    this.div = null;\n    this._cancelled = false;\n    this._eventBus = linkService.eventBus;\n  }\n\n  render(viewport, intent = \"display\") {\n    var _this5 = this;\n\n    return _asyncToGenerator(function* () {\n      if (_this5.div) {\n        if (_this5._cancelled || !_this5.annotationLayer) {\n          return;\n        }\n\n        _this5.annotationLayer.update({\n          viewport: viewport.clone({\n            dontFlip: true\n          })\n        });\n\n        return;\n      }\n\n      const [annotations, hasJSActions, fieldObjects] = yield Promise.all([_this5.pdfPage.getAnnotations({\n        intent\n      }), _this5._hasJSActionsPromise, _this5._fieldObjectsPromise]);\n\n      if (_this5._cancelled) {\n        return;\n      }\n\n      const div = _this5.div = document.createElement(\"div\");\n      div.className = \"annotationLayer\";\n      _this5.#onAppend?.(div);\n\n      if (annotations.length === 0) {\n        _this5.hide();\n\n        return;\n      }\n\n      _this5.annotationLayer = new AnnotationLayer({\n        div,\n        accessibilityManager: _this5._accessibilityManager,\n        annotationCanvasMap: _this5._annotationCanvasMap,\n        annotationEditorUIManager: _this5._annotationEditorUIManager,\n        page: _this5.pdfPage,\n        viewport: viewport.clone({\n          dontFlip: true\n        })\n      });\n      yield _this5.annotationLayer.render({\n        annotations,\n        imageResourcesPath: _this5.imageResourcesPath,\n        renderForms: _this5.renderForms,\n        linkService: _this5.linkService,\n        downloadManager: _this5.downloadManager,\n        annotationStorage: _this5.annotationStorage,\n        enableScripting: _this5.enableScripting,\n        hasJSActions,\n        fieldObjects\n      });\n\n      if (_this5.linkService.isInPresentationMode) {\n        _this5.#updatePresentationModeState(PresentationModeState.FULLSCREEN);\n      }\n\n      if (!_this5.#eventAbortController) {\n        _this5.#eventAbortController = new AbortController();\n        _this5._eventBus?._on(\"presentationmodechanged\", evt => {\n          _this5.#updatePresentationModeState(evt.state);\n        }, {\n          signal: _this5.#eventAbortController.signal\n        });\n      }\n    })();\n  }\n\n  cancel() {\n    this._cancelled = true;\n    this.#eventAbortController?.abort();\n    this.#eventAbortController = null;\n  }\n\n  hide() {\n    if (!this.div) {\n      return;\n    }\n\n    this.div.hidden = true;\n  }\n\n  hasEditableAnnotations() {\n    return !!this.annotationLayer?.hasEditableAnnotations();\n  }\n\n  #updatePresentationModeState(state) {\n    if (!this.div) {\n      return;\n    }\n\n    let disableFormElements = false;\n\n    switch (state) {\n      case PresentationModeState.FULLSCREEN:\n        disableFormElements = true;\n        break;\n\n      case PresentationModeState.NORMAL:\n        break;\n\n      default:\n        return;\n    }\n\n    for (const section of this.div.childNodes) {\n      if (section.hasAttribute(\"data-internal-link\")) {\n        continue;\n      }\n\n      section.inert = disableFormElements;\n    }\n  }\n\n}\n\n; // CONCATENATED MODULE: ./web/download_manager.js\n\nfunction download(blobUrl, filename) {\n  const a = document.createElement(\"a\");\n\n  if (!a.click) {\n    throw new Error('DownloadManager: \"a.click()\" is not supported.');\n  }\n\n  a.href = blobUrl;\n  a.target = \"_parent\";\n\n  if (\"download\" in a) {\n    a.download = filename;\n  }\n\n  (document.body || document.documentElement).append(a);\n  a.click();\n  a.remove();\n}\n\nclass DownloadManager {\n  #openBlobUrls = new WeakMap();\n\n  downloadData(data, filename, contentType) {\n    const blobUrl = URL.createObjectURL(new Blob([data], {\n      type: contentType\n    }));\n    download(blobUrl, filename);\n  }\n\n  openOrDownloadData(data, filename, dest = null) {\n    const isPdfData = isPdfFile(filename);\n    const contentType = isPdfData ? \"application/pdf\" : \"\";\n    this.downloadData(data, filename, contentType);\n    return false;\n  }\n\n  download(data, url, filename) {\n    let blobUrl;\n\n    if (data) {\n      blobUrl = URL.createObjectURL(new Blob([data], {\n        type: \"application/pdf\"\n      }));\n    } else {\n      if (!createValidAbsoluteUrl(url, \"http://example.com\")) {\n        console.error(`download - not a valid URL: ${url}`);\n        return;\n      }\n\n      blobUrl = url + \"#pdfjs.action=download\";\n    }\n\n    download(blobUrl, filename);\n  }\n\n}\n\n; // CONCATENATED MODULE: ./web/event_utils.js\n\nconst WaitOnType = {\n  EVENT: \"event\",\n  TIMEOUT: \"timeout\"\n};\n\nfunction waitOnEventOrTimeout(_x) {\n  return _waitOnEventOrTimeout.apply(this, arguments);\n}\n\nfunction _waitOnEventOrTimeout() {\n  _waitOnEventOrTimeout = _asyncToGenerator(function* ({\n    target,\n    name,\n    delay = 0\n  }) {\n    if (typeof target !== \"object\" || !(name && typeof name === \"string\") || !(Number.isInteger(delay) && delay >= 0)) {\n      throw new Error(\"waitOnEventOrTimeout - invalid parameters.\");\n    }\n\n    const {\n      promise,\n      resolve\n    } = Promise.withResolvers();\n    const ac = new AbortController();\n\n    function handler(type) {\n      ac.abort();\n      clearTimeout(timeout);\n      resolve(type);\n    }\n\n    const evtMethod = target instanceof EventBus ? \"_on\" : \"addEventListener\";\n    target[evtMethod](name, handler.bind(null, WaitOnType.EVENT), {\n      signal: ac.signal\n    });\n    const timeout = setTimeout(handler.bind(null, WaitOnType.TIMEOUT), delay);\n    return promise;\n  });\n  return _waitOnEventOrTimeout.apply(this, arguments);\n}\n\nclass EventBus {\n  #listeners = Object.create(null);\n\n  on(eventName, listener, options = null) {\n    this._on(eventName, listener, {\n      external: true,\n      once: options?.once,\n      signal: options?.signal\n    });\n  }\n\n  off(eventName, listener, options = null) {\n    this._off(eventName, listener);\n  }\n\n  dispatch(eventName, data) {\n    const eventListeners = this.#listeners[eventName];\n\n    if (!eventListeners || eventListeners.length === 0) {\n      return;\n    }\n\n    let externalListeners;\n\n    for (const {\n      listener,\n      external,\n      once\n    } of eventListeners.slice(0)) {\n      if (once) {\n        this._off(eventName, listener);\n      }\n\n      if (external) {\n        (externalListeners ||= []).push(listener);\n        continue;\n      }\n\n      listener(data);\n    }\n\n    if (externalListeners) {\n      for (const listener of externalListeners) {\n        listener(data);\n      }\n\n      externalListeners = null;\n    }\n  }\n\n  _on(eventName, listener, options = null) {\n    let rmAbort = null;\n\n    if (options?.signal instanceof AbortSignal) {\n      const {\n        signal\n      } = options;\n\n      if (signal.aborted) {\n        console.error(\"Cannot use an `aborted` signal.\");\n        return;\n      }\n\n      const onAbort = () => this._off(eventName, listener);\n\n      rmAbort = () => signal.removeEventListener(\"abort\", onAbort);\n\n      signal.addEventListener(\"abort\", onAbort);\n    }\n\n    const eventListeners = this.#listeners[eventName] ||= [];\n    eventListeners.push({\n      listener,\n      external: options?.external === true,\n      once: options?.once === true,\n      rmAbort\n    });\n  }\n\n  _off(eventName, listener, options = null) {\n    const eventListeners = this.#listeners[eventName];\n\n    if (!eventListeners) {\n      return;\n    }\n\n    for (let i = 0, ii = eventListeners.length; i < ii; i++) {\n      const evt = eventListeners[i];\n\n      if (evt.listener === listener) {\n        evt.rmAbort?.();\n        eventListeners.splice(i, 1);\n        return;\n      }\n    }\n  }\n\n}\n\nclass FirefoxEventBus extends EventBus {\n  #externalServices;\n  #globalEventNames;\n  #isInAutomation;\n\n  constructor(globalEventNames, externalServices, isInAutomation) {\n    super();\n    this.#globalEventNames = globalEventNames;\n    this.#externalServices = externalServices;\n    this.#isInAutomation = isInAutomation;\n  }\n\n  dispatch(eventName, data) {\n    throw new Error(\"Not implemented: FirefoxEventBus.dispatch\");\n  }\n\n}\n\n; // CONCATENATED MODULE: ./node_modules/@fluent/bundle/esm/types.js\n\nclass FluentType {\n  constructor(value) {\n    this.value = value;\n  }\n\n  valueOf() {\n    return this.value;\n  }\n\n}\n\nclass FluentNone extends FluentType {\n  constructor(value = \"???\") {\n    super(value);\n  }\n\n  toString(scope) {\n    return `{${this.value}}`;\n  }\n\n}\n\nclass FluentNumber extends FluentType {\n  constructor(value, opts = {}) {\n    super(value);\n    this.opts = opts;\n  }\n\n  toString(scope) {\n    try {\n      const nf = scope.memoizeIntlObject(Intl.NumberFormat, this.opts);\n      return nf.format(this.value);\n    } catch (err) {\n      scope.reportError(err);\n      return this.value.toString(10);\n    }\n  }\n\n}\n\nclass FluentDateTime extends FluentType {\n  constructor(value, opts = {}) {\n    super(value);\n    this.opts = opts;\n  }\n\n  toString(scope) {\n    try {\n      const dtf = scope.memoizeIntlObject(Intl.DateTimeFormat, this.opts);\n      return dtf.format(this.value);\n    } catch (err) {\n      scope.reportError(err);\n      return new Date(this.value).toISOString();\n    }\n  }\n\n}\n\n; // CONCATENATED MODULE: ./node_modules/@fluent/bundle/esm/resolver.js\n\nconst MAX_PLACEABLES = 100;\nconst FSI = \"\\u2068\";\nconst PDI = \"\\u2069\";\n\nfunction match(scope, selector, key) {\n  if (key === selector) {\n    return true;\n  }\n\n  if (key instanceof FluentNumber && selector instanceof FluentNumber && key.value === selector.value) {\n    return true;\n  }\n\n  if (selector instanceof FluentNumber && typeof key === \"string\") {\n    let category = scope.memoizeIntlObject(Intl.PluralRules, selector.opts).select(selector.value);\n\n    if (key === category) {\n      return true;\n    }\n  }\n\n  return false;\n}\n\nfunction getDefault(scope, variants, star) {\n  if (variants[star]) {\n    return resolvePattern(scope, variants[star].value);\n  }\n\n  scope.reportError(new RangeError(\"No default\"));\n  return new FluentNone();\n}\n\nfunction getArguments(scope, args) {\n  const positional = [];\n  const named = Object.create(null);\n\n  for (const arg of args) {\n    if (arg.type === \"narg\") {\n      named[arg.name] = resolveExpression(scope, arg.value);\n    } else {\n      positional.push(resolveExpression(scope, arg));\n    }\n  }\n\n  return {\n    positional,\n    named\n  };\n}\n\nfunction resolveExpression(scope, expr) {\n  switch (expr.type) {\n    case \"str\":\n      return expr.value;\n\n    case \"num\":\n      return new FluentNumber(expr.value, {\n        minimumFractionDigits: expr.precision\n      });\n\n    case \"var\":\n      return resolveVariableReference(scope, expr);\n\n    case \"mesg\":\n      return resolveMessageReference(scope, expr);\n\n    case \"term\":\n      return resolveTermReference(scope, expr);\n\n    case \"func\":\n      return resolveFunctionReference(scope, expr);\n\n    case \"select\":\n      return resolveSelectExpression(scope, expr);\n\n    default:\n      return new FluentNone();\n  }\n}\n\nfunction resolveVariableReference(scope, {\n  name\n}) {\n  let arg;\n\n  if (scope.params) {\n    if (Object.prototype.hasOwnProperty.call(scope.params, name)) {\n      arg = scope.params[name];\n    } else {\n      return new FluentNone(`$${name}`);\n    }\n  } else if (scope.args && Object.prototype.hasOwnProperty.call(scope.args, name)) {\n    arg = scope.args[name];\n  } else {\n    scope.reportError(new ReferenceError(`Unknown variable: $${name}`));\n    return new FluentNone(`$${name}`);\n  }\n\n  if (arg instanceof FluentType) {\n    return arg;\n  }\n\n  switch (typeof arg) {\n    case \"string\":\n      return arg;\n\n    case \"number\":\n      return new FluentNumber(arg);\n\n    case \"object\":\n      if (arg instanceof Date) {\n        return new FluentDateTime(arg.getTime());\n      }\n\n    default:\n      scope.reportError(new TypeError(`Variable type not supported: $${name}, ${typeof arg}`));\n      return new FluentNone(`$${name}`);\n  }\n}\n\nfunction resolveMessageReference(scope, {\n  name,\n  attr\n}) {\n  const message = scope.bundle._messages.get(name);\n\n  if (!message) {\n    scope.reportError(new ReferenceError(`Unknown message: ${name}`));\n    return new FluentNone(name);\n  }\n\n  if (attr) {\n    const attribute = message.attributes[attr];\n\n    if (attribute) {\n      return resolvePattern(scope, attribute);\n    }\n\n    scope.reportError(new ReferenceError(`Unknown attribute: ${attr}`));\n    return new FluentNone(`${name}.${attr}`);\n  }\n\n  if (message.value) {\n    return resolvePattern(scope, message.value);\n  }\n\n  scope.reportError(new ReferenceError(`No value: ${name}`));\n  return new FluentNone(name);\n}\n\nfunction resolveTermReference(scope, {\n  name,\n  attr,\n  args\n}) {\n  const id = `-${name}`;\n\n  const term = scope.bundle._terms.get(id);\n\n  if (!term) {\n    scope.reportError(new ReferenceError(`Unknown term: ${id}`));\n    return new FluentNone(id);\n  }\n\n  if (attr) {\n    const attribute = term.attributes[attr];\n\n    if (attribute) {\n      scope.params = getArguments(scope, args).named;\n      const resolved = resolvePattern(scope, attribute);\n      scope.params = null;\n      return resolved;\n    }\n\n    scope.reportError(new ReferenceError(`Unknown attribute: ${attr}`));\n    return new FluentNone(`${id}.${attr}`);\n  }\n\n  scope.params = getArguments(scope, args).named;\n  const resolved = resolvePattern(scope, term.value);\n  scope.params = null;\n  return resolved;\n}\n\nfunction resolveFunctionReference(scope, {\n  name,\n  args\n}) {\n  let func = scope.bundle._functions[name];\n\n  if (!func) {\n    scope.reportError(new ReferenceError(`Unknown function: ${name}()`));\n    return new FluentNone(`${name}()`);\n  }\n\n  if (typeof func !== \"function\") {\n    scope.reportError(new TypeError(`Function ${name}() is not callable`));\n    return new FluentNone(`${name}()`);\n  }\n\n  try {\n    let resolved = getArguments(scope, args);\n    return func(resolved.positional, resolved.named);\n  } catch (err) {\n    scope.reportError(err);\n    return new FluentNone(`${name}()`);\n  }\n}\n\nfunction resolveSelectExpression(scope, {\n  selector,\n  variants,\n  star\n}) {\n  let sel = resolveExpression(scope, selector);\n\n  if (sel instanceof FluentNone) {\n    return getDefault(scope, variants, star);\n  }\n\n  for (const variant of variants) {\n    const key = resolveExpression(scope, variant.key);\n\n    if (match(scope, sel, key)) {\n      return resolvePattern(scope, variant.value);\n    }\n  }\n\n  return getDefault(scope, variants, star);\n}\n\nfunction resolveComplexPattern(scope, ptn) {\n  if (scope.dirty.has(ptn)) {\n    scope.reportError(new RangeError(\"Cyclic reference\"));\n    return new FluentNone();\n  }\n\n  scope.dirty.add(ptn);\n  const result = [];\n  const useIsolating = scope.bundle._useIsolating && ptn.length > 1;\n\n  for (const elem of ptn) {\n    if (typeof elem === \"string\") {\n      result.push(scope.bundle._transform(elem));\n      continue;\n    }\n\n    scope.placeables++;\n\n    if (scope.placeables > MAX_PLACEABLES) {\n      scope.dirty.delete(ptn);\n      throw new RangeError(`Too many placeables expanded: ${scope.placeables}, ` + `max allowed is ${MAX_PLACEABLES}`);\n    }\n\n    if (useIsolating) {\n      result.push(FSI);\n    }\n\n    result.push(resolveExpression(scope, elem).toString(scope));\n\n    if (useIsolating) {\n      result.push(PDI);\n    }\n  }\n\n  scope.dirty.delete(ptn);\n  return result.join(\"\");\n}\n\nfunction resolvePattern(scope, value) {\n  if (typeof value === \"string\") {\n    return scope.bundle._transform(value);\n  }\n\n  return resolveComplexPattern(scope, value);\n}\n\n; // CONCATENATED MODULE: ./node_modules/@fluent/bundle/esm/scope.js\n\nclass Scope {\n  constructor(bundle, errors, args) {\n    this.dirty = new WeakSet();\n    this.params = null;\n    this.placeables = 0;\n    this.bundle = bundle;\n    this.errors = errors;\n    this.args = args;\n  }\n\n  reportError(error) {\n    if (!this.errors || !(error instanceof Error)) {\n      throw error;\n    }\n\n    this.errors.push(error);\n  }\n\n  memoizeIntlObject(ctor, opts) {\n    let cache = this.bundle._intls.get(ctor);\n\n    if (!cache) {\n      cache = {};\n\n      this.bundle._intls.set(ctor, cache);\n    }\n\n    let id = JSON.stringify(opts);\n\n    if (!cache[id]) {\n      cache[id] = new ctor(this.bundle.locales, opts);\n    }\n\n    return cache[id];\n  }\n\n}\n\n; // CONCATENATED MODULE: ./node_modules/@fluent/bundle/esm/builtins.js\n\nfunction values(opts, allowed) {\n  const unwrapped = Object.create(null);\n\n  for (const [name, opt] of Object.entries(opts)) {\n    if (allowed.includes(name)) {\n      unwrapped[name] = opt.valueOf();\n    }\n  }\n\n  return unwrapped;\n}\n\nconst NUMBER_ALLOWED = [\"unitDisplay\", \"currencyDisplay\", \"useGrouping\", \"minimumIntegerDigits\", \"minimumFractionDigits\", \"maximumFractionDigits\", \"minimumSignificantDigits\", \"maximumSignificantDigits\"];\n\nfunction NUMBER(args, opts) {\n  let arg = args[0];\n\n  if (arg instanceof FluentNone) {\n    return new FluentNone(`NUMBER(${arg.valueOf()})`);\n  }\n\n  if (arg instanceof FluentNumber) {\n    return new FluentNumber(arg.valueOf(), { ...arg.opts,\n      ...values(opts, NUMBER_ALLOWED)\n    });\n  }\n\n  if (arg instanceof FluentDateTime) {\n    return new FluentNumber(arg.valueOf(), { ...values(opts, NUMBER_ALLOWED)\n    });\n  }\n\n  throw new TypeError(\"Invalid argument to NUMBER\");\n}\n\nconst DATETIME_ALLOWED = [\"dateStyle\", \"timeStyle\", \"fractionalSecondDigits\", \"dayPeriod\", \"hour12\", \"weekday\", \"era\", \"year\", \"month\", \"day\", \"hour\", \"minute\", \"second\", \"timeZoneName\"];\n\nfunction DATETIME(args, opts) {\n  let arg = args[0];\n\n  if (arg instanceof FluentNone) {\n    return new FluentNone(`DATETIME(${arg.valueOf()})`);\n  }\n\n  if (arg instanceof FluentDateTime) {\n    return new FluentDateTime(arg.valueOf(), { ...arg.opts,\n      ...values(opts, DATETIME_ALLOWED)\n    });\n  }\n\n  if (arg instanceof FluentNumber) {\n    return new FluentDateTime(arg.valueOf(), { ...values(opts, DATETIME_ALLOWED)\n    });\n  }\n\n  throw new TypeError(\"Invalid argument to DATETIME\");\n}\n\n; // CONCATENATED MODULE: ./node_modules/@fluent/bundle/esm/memoizer.js\n\nconst cache = new Map();\n\nfunction getMemoizerForLocale(locales) {\n  const stringLocale = Array.isArray(locales) ? locales.join(\" \") : locales;\n  let memoizer = cache.get(stringLocale);\n\n  if (memoizer === undefined) {\n    memoizer = new Map();\n    cache.set(stringLocale, memoizer);\n  }\n\n  return memoizer;\n}\n\n; // CONCATENATED MODULE: ./node_modules/@fluent/bundle/esm/bundle.js\n\nclass FluentBundle {\n  constructor(locales, {\n    functions,\n    useIsolating = true,\n    transform = v => v\n  } = {}) {\n    this._terms = new Map();\n    this._messages = new Map();\n    this.locales = Array.isArray(locales) ? locales : [locales];\n    this._functions = {\n      NUMBER: NUMBER,\n      DATETIME: DATETIME,\n      ...functions\n    };\n    this._useIsolating = useIsolating;\n    this._transform = transform;\n    this._intls = getMemoizerForLocale(locales);\n  }\n\n  hasMessage(id) {\n    return this._messages.has(id);\n  }\n\n  getMessage(id) {\n    return this._messages.get(id);\n  }\n\n  addResource(res, {\n    allowOverrides = false\n  } = {}) {\n    const errors = [];\n\n    for (let i = 0; i < res.body.length; i++) {\n      let entry = res.body[i];\n\n      if (entry.id.startsWith(\"-\")) {\n        if (allowOverrides === false && this._terms.has(entry.id)) {\n          errors.push(new Error(`Attempt to override an existing term: \"${entry.id}\"`));\n          continue;\n        }\n\n        this._terms.set(entry.id, entry);\n      } else {\n        if (allowOverrides === false && this._messages.has(entry.id)) {\n          errors.push(new Error(`Attempt to override an existing message: \"${entry.id}\"`));\n          continue;\n        }\n\n        this._messages.set(entry.id, entry);\n      }\n    }\n\n    return errors;\n  }\n\n  formatPattern(pattern, args = null, errors = null) {\n    if (typeof pattern === \"string\") {\n      return this._transform(pattern);\n    }\n\n    let scope = new Scope(this, errors, args);\n\n    try {\n      let value = resolveComplexPattern(scope, pattern);\n      return value.toString(scope);\n    } catch (err) {\n      if (scope.errors && err instanceof Error) {\n        scope.errors.push(err);\n        return new FluentNone().toString(scope);\n      }\n\n      throw err;\n    }\n  }\n\n}\n\n; // CONCATENATED MODULE: ./node_modules/@fluent/bundle/esm/resource.js\n\nconst RE_MESSAGE_START = /^(-?[a-zA-Z][\\w-]*) *= */gm;\nconst RE_ATTRIBUTE_START = /\\.([a-zA-Z][\\w-]*) *= */y;\nconst RE_VARIANT_START = /\\*?\\[/y;\nconst RE_NUMBER_LITERAL = /(-?[0-9]+(?:\\.([0-9]+))?)/y;\nconst RE_IDENTIFIER = /([a-zA-Z][\\w-]*)/y;\nconst RE_REFERENCE = /([$-])?([a-zA-Z][\\w-]*)(?:\\.([a-zA-Z][\\w-]*))?/y;\nconst RE_FUNCTION_NAME = /^[A-Z][A-Z0-9_-]*$/;\nconst RE_TEXT_RUN = /([^{}\\n\\r]+)/y;\nconst RE_STRING_RUN = /([^\\\\\"\\n\\r]*)/y;\nconst RE_STRING_ESCAPE = /\\\\([\\\\\"])/y;\nconst RE_UNICODE_ESCAPE = /\\\\u([a-fA-F0-9]{4})|\\\\U([a-fA-F0-9]{6})/y;\nconst RE_LEADING_NEWLINES = /^\\n+/;\nconst RE_TRAILING_SPACES = / +$/;\nconst RE_BLANK_LINES = / *\\r?\\n/g;\nconst RE_INDENT = /( *)$/;\nconst TOKEN_BRACE_OPEN = /{\\s*/y;\nconst TOKEN_BRACE_CLOSE = /\\s*}/y;\nconst TOKEN_BRACKET_OPEN = /\\[\\s*/y;\nconst TOKEN_BRACKET_CLOSE = /\\s*] */y;\nconst TOKEN_PAREN_OPEN = /\\s*\\(\\s*/y;\nconst TOKEN_ARROW = /\\s*->\\s*/y;\nconst TOKEN_COLON = /\\s*:\\s*/y;\nconst TOKEN_COMMA = /\\s*,?\\s*/y;\nconst TOKEN_BLANK = /\\s+/y;\n\nclass FluentResource {\n  constructor(source) {\n    this.body = [];\n    RE_MESSAGE_START.lastIndex = 0;\n    let cursor = 0;\n\n    while (true) {\n      let next = RE_MESSAGE_START.exec(source);\n\n      if (next === null) {\n        break;\n      }\n\n      cursor = RE_MESSAGE_START.lastIndex;\n\n      try {\n        this.body.push(parseMessage(next[1]));\n      } catch (err) {\n        if (err instanceof SyntaxError) {\n          continue;\n        }\n\n        throw err;\n      }\n    }\n\n    function test(re) {\n      re.lastIndex = cursor;\n      return re.test(source);\n    }\n\n    function consumeChar(char, errorClass) {\n      if (source[cursor] === char) {\n        cursor++;\n        return true;\n      }\n\n      if (errorClass) {\n        throw new errorClass(`Expected ${char}`);\n      }\n\n      return false;\n    }\n\n    function consumeToken(re, errorClass) {\n      if (test(re)) {\n        cursor = re.lastIndex;\n        return true;\n      }\n\n      if (errorClass) {\n        throw new errorClass(`Expected ${re.toString()}`);\n      }\n\n      return false;\n    }\n\n    function match(re) {\n      re.lastIndex = cursor;\n      let result = re.exec(source);\n\n      if (result === null) {\n        throw new SyntaxError(`Expected ${re.toString()}`);\n      }\n\n      cursor = re.lastIndex;\n      return result;\n    }\n\n    function match1(re) {\n      return match(re)[1];\n    }\n\n    function parseMessage(id) {\n      let value = parsePattern();\n      let attributes = parseAttributes();\n\n      if (value === null && Object.keys(attributes).length === 0) {\n        throw new SyntaxError(\"Expected message value or attributes\");\n      }\n\n      return {\n        id,\n        value,\n        attributes\n      };\n    }\n\n    function parseAttributes() {\n      let attrs = Object.create(null);\n\n      while (test(RE_ATTRIBUTE_START)) {\n        let name = match1(RE_ATTRIBUTE_START);\n        let value = parsePattern();\n\n        if (value === null) {\n          throw new SyntaxError(\"Expected attribute value\");\n        }\n\n        attrs[name] = value;\n      }\n\n      return attrs;\n    }\n\n    function parsePattern() {\n      let first;\n\n      if (test(RE_TEXT_RUN)) {\n        first = match1(RE_TEXT_RUN);\n      }\n\n      if (source[cursor] === \"{\" || source[cursor] === \"}\") {\n        return parsePatternElements(first ? [first] : [], Infinity);\n      }\n\n      let indent = parseIndent();\n\n      if (indent) {\n        if (first) {\n          return parsePatternElements([first, indent], indent.length);\n        }\n\n        indent.value = trim(indent.value, RE_LEADING_NEWLINES);\n        return parsePatternElements([indent], indent.length);\n      }\n\n      if (first) {\n        return trim(first, RE_TRAILING_SPACES);\n      }\n\n      return null;\n    }\n\n    function parsePatternElements(elements = [], commonIndent) {\n      while (true) {\n        if (test(RE_TEXT_RUN)) {\n          elements.push(match1(RE_TEXT_RUN));\n          continue;\n        }\n\n        if (source[cursor] === \"{\") {\n          elements.push(parsePlaceable());\n          continue;\n        }\n\n        if (source[cursor] === \"}\") {\n          throw new SyntaxError(\"Unbalanced closing brace\");\n        }\n\n        let indent = parseIndent();\n\n        if (indent) {\n          elements.push(indent);\n          commonIndent = Math.min(commonIndent, indent.length);\n          continue;\n        }\n\n        break;\n      }\n\n      let lastIndex = elements.length - 1;\n      let lastElement = elements[lastIndex];\n\n      if (typeof lastElement === \"string\") {\n        elements[lastIndex] = trim(lastElement, RE_TRAILING_SPACES);\n      }\n\n      let baked = [];\n\n      for (let element of elements) {\n        if (element instanceof Indent) {\n          element = element.value.slice(0, element.value.length - commonIndent);\n        }\n\n        if (element) {\n          baked.push(element);\n        }\n      }\n\n      return baked;\n    }\n\n    function parsePlaceable() {\n      consumeToken(TOKEN_BRACE_OPEN, SyntaxError);\n      let selector = parseInlineExpression();\n\n      if (consumeToken(TOKEN_BRACE_CLOSE)) {\n        return selector;\n      }\n\n      if (consumeToken(TOKEN_ARROW)) {\n        let variants = parseVariants();\n        consumeToken(TOKEN_BRACE_CLOSE, SyntaxError);\n        return {\n          type: \"select\",\n          selector,\n          ...variants\n        };\n      }\n\n      throw new SyntaxError(\"Unclosed placeable\");\n    }\n\n    function parseInlineExpression() {\n      if (source[cursor] === \"{\") {\n        return parsePlaceable();\n      }\n\n      if (test(RE_REFERENCE)) {\n        let [, sigil, name, attr = null] = match(RE_REFERENCE);\n\n        if (sigil === \"$\") {\n          return {\n            type: \"var\",\n            name\n          };\n        }\n\n        if (consumeToken(TOKEN_PAREN_OPEN)) {\n          let args = parseArguments();\n\n          if (sigil === \"-\") {\n            return {\n              type: \"term\",\n              name,\n              attr,\n              args\n            };\n          }\n\n          if (RE_FUNCTION_NAME.test(name)) {\n            return {\n              type: \"func\",\n              name,\n              args\n            };\n          }\n\n          throw new SyntaxError(\"Function names must be all upper-case\");\n        }\n\n        if (sigil === \"-\") {\n          return {\n            type: \"term\",\n            name,\n            attr,\n            args: []\n          };\n        }\n\n        return {\n          type: \"mesg\",\n          name,\n          attr\n        };\n      }\n\n      return parseLiteral();\n    }\n\n    function parseArguments() {\n      let args = [];\n\n      while (true) {\n        switch (source[cursor]) {\n          case \")\":\n            cursor++;\n            return args;\n\n          case undefined:\n            throw new SyntaxError(\"Unclosed argument list\");\n        }\n\n        args.push(parseArgument());\n        consumeToken(TOKEN_COMMA);\n      }\n    }\n\n    function parseArgument() {\n      let expr = parseInlineExpression();\n\n      if (expr.type !== \"mesg\") {\n        return expr;\n      }\n\n      if (consumeToken(TOKEN_COLON)) {\n        return {\n          type: \"narg\",\n          name: expr.name,\n          value: parseLiteral()\n        };\n      }\n\n      return expr;\n    }\n\n    function parseVariants() {\n      let variants = [];\n      let count = 0;\n      let star;\n\n      while (test(RE_VARIANT_START)) {\n        if (consumeChar(\"*\")) {\n          star = count;\n        }\n\n        let key = parseVariantKey();\n        let value = parsePattern();\n\n        if (value === null) {\n          throw new SyntaxError(\"Expected variant value\");\n        }\n\n        variants[count++] = {\n          key,\n          value\n        };\n      }\n\n      if (count === 0) {\n        return null;\n      }\n\n      if (star === undefined) {\n        throw new SyntaxError(\"Expected default variant\");\n      }\n\n      return {\n        variants,\n        star\n      };\n    }\n\n    function parseVariantKey() {\n      consumeToken(TOKEN_BRACKET_OPEN, SyntaxError);\n      let key;\n\n      if (test(RE_NUMBER_LITERAL)) {\n        key = parseNumberLiteral();\n      } else {\n        key = {\n          type: \"str\",\n          value: match1(RE_IDENTIFIER)\n        };\n      }\n\n      consumeToken(TOKEN_BRACKET_CLOSE, SyntaxError);\n      return key;\n    }\n\n    function parseLiteral() {\n      if (test(RE_NUMBER_LITERAL)) {\n        return parseNumberLiteral();\n      }\n\n      if (source[cursor] === '\"') {\n        return parseStringLiteral();\n      }\n\n      throw new SyntaxError(\"Invalid expression\");\n    }\n\n    function parseNumberLiteral() {\n      let [, value, fraction = \"\"] = match(RE_NUMBER_LITERAL);\n      let precision = fraction.length;\n      return {\n        type: \"num\",\n        value: parseFloat(value),\n        precision\n      };\n    }\n\n    function parseStringLiteral() {\n      consumeChar('\"', SyntaxError);\n      let value = \"\";\n\n      while (true) {\n        value += match1(RE_STRING_RUN);\n\n        if (source[cursor] === \"\\\\\") {\n          value += parseEscapeSequence();\n          continue;\n        }\n\n        if (consumeChar('\"')) {\n          return {\n            type: \"str\",\n            value\n          };\n        }\n\n        throw new SyntaxError(\"Unclosed string literal\");\n      }\n    }\n\n    function parseEscapeSequence() {\n      if (test(RE_STRING_ESCAPE)) {\n        return match1(RE_STRING_ESCAPE);\n      }\n\n      if (test(RE_UNICODE_ESCAPE)) {\n        let [, codepoint4, codepoint6] = match(RE_UNICODE_ESCAPE);\n        let codepoint = parseInt(codepoint4 || codepoint6, 16);\n        return codepoint <= 0xd7ff || 0xe000 <= codepoint ? String.fromCodePoint(codepoint) : \"�\";\n      }\n\n      throw new SyntaxError(\"Unknown escape sequence\");\n    }\n\n    function parseIndent() {\n      let start = cursor;\n      consumeToken(TOKEN_BLANK);\n\n      switch (source[cursor]) {\n        case \".\":\n        case \"[\":\n        case \"*\":\n        case \"}\":\n        case undefined:\n          return false;\n\n        case \"{\":\n          return makeIndent(source.slice(start, cursor));\n      }\n\n      if (source[cursor - 1] === \" \") {\n        return makeIndent(source.slice(start, cursor));\n      }\n\n      return false;\n    }\n\n    function trim(text, re) {\n      return text.replace(re, \"\");\n    }\n\n    function makeIndent(blank) {\n      let value = blank.replace(RE_BLANK_LINES, \"\\n\");\n      let length = RE_INDENT.exec(blank)[1].length;\n      return new Indent(value, length);\n    }\n  }\n\n}\n\nclass Indent {\n  constructor(value, length) {\n    this.value = value;\n    this.length = length;\n  }\n\n}\n\n; // CONCATENATED MODULE: ./node_modules/@fluent/bundle/esm/index.js\n\n; // CONCATENATED MODULE: ./node_modules/@fluent/dom/esm/overlay.js\n\nconst reOverlay = /<|&#?\\w+;/;\nconst TEXT_LEVEL_ELEMENTS = {\n  \"http://www.w3.org/1999/xhtml\": [\"em\", \"strong\", \"small\", \"s\", \"cite\", \"q\", \"dfn\", \"abbr\", \"data\", \"time\", \"code\", \"var\", \"samp\", \"kbd\", \"sub\", \"sup\", \"i\", \"b\", \"u\", \"mark\", \"bdi\", \"bdo\", \"span\", \"br\", \"wbr\"]\n};\nconst LOCALIZABLE_ATTRIBUTES = {\n  \"http://www.w3.org/1999/xhtml\": {\n    global: [\"title\", \"aria-label\", \"aria-valuetext\"],\n    a: [\"download\"],\n    area: [\"download\", \"alt\"],\n    input: [\"alt\", \"placeholder\"],\n    menuitem: [\"label\"],\n    menu: [\"label\"],\n    optgroup: [\"label\"],\n    option: [\"label\"],\n    track: [\"label\"],\n    img: [\"alt\"],\n    textarea: [\"placeholder\"],\n    th: [\"abbr\"]\n  },\n  \"http://www.mozilla.org/keymaster/gatekeeper/there.is.only.xul\": {\n    global: [\"accesskey\", \"aria-label\", \"aria-valuetext\", \"label\", \"title\", \"tooltiptext\"],\n    description: [\"value\"],\n    key: [\"key\", \"keycode\"],\n    label: [\"value\"],\n    textbox: [\"placeholder\", \"value\"]\n  }\n};\n\nfunction translateElement(element, translation) {\n  const {\n    value\n  } = translation;\n\n  if (typeof value === \"string\") {\n    if (element.localName === \"title\" && element.namespaceURI === \"http://www.w3.org/1999/xhtml\") {\n      element.textContent = value;\n    } else if (!reOverlay.test(value)) {\n      element.textContent = value;\n    } else {\n      const templateElement = element.ownerDocument.createElementNS(\"http://www.w3.org/1999/xhtml\", \"template\");\n      templateElement.innerHTML = value;\n      overlayChildNodes(templateElement.content, element);\n    }\n  }\n\n  overlayAttributes(translation, element);\n}\n\nfunction overlayChildNodes(fromFragment, toElement) {\n  for (const childNode of fromFragment.childNodes) {\n    if (childNode.nodeType === childNode.TEXT_NODE) {\n      continue;\n    }\n\n    if (childNode.hasAttribute(\"data-l10n-name\")) {\n      const sanitized = getNodeForNamedElement(toElement, childNode);\n      fromFragment.replaceChild(sanitized, childNode);\n      continue;\n    }\n\n    if (isElementAllowed(childNode)) {\n      const sanitized = createSanitizedElement(childNode);\n      fromFragment.replaceChild(sanitized, childNode);\n      continue;\n    }\n\n    console.warn(`An element of forbidden type \"${childNode.localName}\" was found in ` + \"the translation. Only safe text-level elements and elements with \" + \"data-l10n-name are allowed.\");\n    fromFragment.replaceChild(createTextNodeFromTextContent(childNode), childNode);\n  }\n\n  toElement.textContent = \"\";\n  toElement.appendChild(fromFragment);\n}\n\nfunction hasAttribute(attributes, name) {\n  if (!attributes) {\n    return false;\n  }\n\n  for (let attr of attributes) {\n    if (attr.name === name) {\n      return true;\n    }\n  }\n\n  return false;\n}\n\nfunction overlayAttributes(fromElement, toElement) {\n  const explicitlyAllowed = toElement.hasAttribute(\"data-l10n-attrs\") ? toElement.getAttribute(\"data-l10n-attrs\").split(\",\").map(i => i.trim()) : null;\n\n  for (const attr of Array.from(toElement.attributes)) {\n    if (isAttrNameLocalizable(attr.name, toElement, explicitlyAllowed) && !hasAttribute(fromElement.attributes, attr.name)) {\n      toElement.removeAttribute(attr.name);\n    }\n  }\n\n  if (!fromElement.attributes) {\n    return;\n  }\n\n  for (const attr of Array.from(fromElement.attributes)) {\n    if (isAttrNameLocalizable(attr.name, toElement, explicitlyAllowed) && toElement.getAttribute(attr.name) !== attr.value) {\n      toElement.setAttribute(attr.name, attr.value);\n    }\n  }\n}\n\nfunction getNodeForNamedElement(sourceElement, translatedChild) {\n  const childName = translatedChild.getAttribute(\"data-l10n-name\");\n  const sourceChild = sourceElement.querySelector(`[data-l10n-name=\"${childName}\"]`);\n\n  if (!sourceChild) {\n    console.warn(`An element named \"${childName}\" wasn't found in the source.`);\n    return createTextNodeFromTextContent(translatedChild);\n  }\n\n  if (sourceChild.localName !== translatedChild.localName) {\n    console.warn(`An element named \"${childName}\" was found in the translation ` + `but its type ${translatedChild.localName} didn't match the ` + `element found in the source (${sourceChild.localName}).`);\n    return createTextNodeFromTextContent(translatedChild);\n  }\n\n  sourceElement.removeChild(sourceChild);\n  const clone = sourceChild.cloneNode(false);\n  return shallowPopulateUsing(translatedChild, clone);\n}\n\nfunction createSanitizedElement(element) {\n  const clone = element.ownerDocument.createElement(element.localName);\n  return shallowPopulateUsing(element, clone);\n}\n\nfunction createTextNodeFromTextContent(element) {\n  return element.ownerDocument.createTextNode(element.textContent);\n}\n\nfunction isElementAllowed(element) {\n  const allowed = TEXT_LEVEL_ELEMENTS[element.namespaceURI];\n  return allowed && allowed.includes(element.localName);\n}\n\nfunction isAttrNameLocalizable(name, element, explicitlyAllowed = null) {\n  if (explicitlyAllowed && explicitlyAllowed.includes(name)) {\n    return true;\n  }\n\n  const allowed = LOCALIZABLE_ATTRIBUTES[element.namespaceURI];\n\n  if (!allowed) {\n    return false;\n  }\n\n  const attrName = name.toLowerCase();\n  const elemName = element.localName;\n\n  if (allowed.global.includes(attrName)) {\n    return true;\n  }\n\n  if (!allowed[elemName]) {\n    return false;\n  }\n\n  if (allowed[elemName].includes(attrName)) {\n    return true;\n  }\n\n  if (element.namespaceURI === \"http://www.w3.org/1999/xhtml\" && elemName === \"input\" && attrName === \"value\") {\n    const type = element.type.toLowerCase();\n\n    if (type === \"submit\" || type === \"button\" || type === \"reset\") {\n      return true;\n    }\n  }\n\n  return false;\n}\n\nfunction shallowPopulateUsing(fromElement, toElement) {\n  toElement.textContent = fromElement.textContent;\n  overlayAttributes(fromElement, toElement);\n  return toElement;\n}\n\n; // CONCATENATED MODULE: ./node_modules/cached-iterable/src/cached_iterable.mjs\n\nclass CachedIterable extends Array {\n  static from(iterable) {\n    if (iterable instanceof this) {\n      return iterable;\n    }\n\n    return new this(iterable);\n  }\n\n}\n\n; // CONCATENATED MODULE: ./node_modules/cached-iterable/src/cached_sync_iterable.mjs\n\nclass CachedSyncIterable extends CachedIterable {\n  constructor(iterable) {\n    super();\n\n    if (Symbol.iterator in Object(iterable)) {\n      this.iterator = iterable[Symbol.iterator]();\n    } else {\n      throw new TypeError(\"Argument must implement the iteration protocol.\");\n    }\n  }\n\n  [Symbol.iterator]() {\n    const cached = this;\n    let cur = 0;\n    return {\n      next() {\n        if (cached.length <= cur) {\n          cached.push(cached.iterator.next());\n        }\n\n        return cached[cur++];\n      }\n\n    };\n  }\n\n  touchNext(count = 1) {\n    let idx = 0;\n\n    while (idx++ < count) {\n      const last = this[this.length - 1];\n\n      if (last && last.done) {\n        break;\n      }\n\n      this.push(this.iterator.next());\n    }\n\n    return this[this.length - 1];\n  }\n\n}\n\n; // CONCATENATED MODULE: ./node_modules/cached-iterable/src/cached_async_iterable.mjs\n\nclass CachedAsyncIterable extends CachedIterable {\n  constructor(iterable) {\n    super();\n\n    if (Symbol.asyncIterator in Object(iterable)) {\n      this.iterator = iterable[Symbol.asyncIterator]();\n    } else if (Symbol.iterator in Object(iterable)) {\n      this.iterator = iterable[Symbol.iterator]();\n    } else {\n      throw new TypeError(\"Argument must implement the iteration protocol.\");\n    }\n  }\n\n  [Symbol.asyncIterator]() {\n    const cached = this;\n    let cur = 0;\n    return {\n      next() {\n        return _asyncToGenerator(function* () {\n          if (cached.length <= cur) {\n            cached.push(cached.iterator.next());\n          }\n\n          return cached[cur++];\n        })();\n      }\n\n    };\n  }\n\n  touchNext(count = 1) {\n    var _this6 = this;\n\n    return _asyncToGenerator(function* () {\n      let idx = 0;\n\n      while (idx++ < count) {\n        const last = _this6[_this6.length - 1];\n\n        if (last && (yield last).done) {\n          break;\n        }\n\n        _this6.push(_this6.iterator.next());\n      }\n\n      return _this6[_this6.length - 1];\n    })();\n  }\n\n}\n\n; // CONCATENATED MODULE: ./node_modules/cached-iterable/src/index.mjs\n\n; // CONCATENATED MODULE: ./node_modules/@fluent/dom/esm/localization.js\n\nclass Localization {\n  constructor(resourceIds = [], generateBundles) {\n    this.resourceIds = resourceIds;\n    this.generateBundles = generateBundles;\n    this.onChange(true);\n  }\n\n  addResourceIds(resourceIds, eager = false) {\n    this.resourceIds.push(...resourceIds);\n    this.onChange(eager);\n    return this.resourceIds.length;\n  }\n\n  removeResourceIds(resourceIds) {\n    this.resourceIds = this.resourceIds.filter(r => !resourceIds.includes(r));\n    this.onChange();\n    return this.resourceIds.length;\n  }\n\n  formatWithFallback(keys, method) {\n    var _this7 = this;\n\n    return _asyncToGenerator(function* () {\n      const translations = [];\n      let hasAtLeastOneBundle = false;\n      var _iteratorAbruptCompletion = false;\n      var _didIteratorError = false;\n\n      var _iteratorError;\n\n      try {\n        for (var _iterator = _asyncIterator(_this7.bundles), _step; _iteratorAbruptCompletion = !(_step = yield _iterator.next()).done; _iteratorAbruptCompletion = false) {\n          const bundle = _step.value;\n          hasAtLeastOneBundle = true;\n          const missingIds = keysFromBundle(method, bundle, keys, translations);\n\n          if (missingIds.size === 0) {\n            break;\n          }\n\n          if (typeof console !== \"undefined\") {\n            const locale = bundle.locales[0];\n            const ids = Array.from(missingIds).join(\", \");\n            console.warn(`[fluent] Missing translations in ${locale}: ${ids}`);\n          }\n        }\n      } catch (err) {\n        _didIteratorError = true;\n        _iteratorError = err;\n      } finally {\n        try {\n          if (_iteratorAbruptCompletion && _iterator.return != null) {\n            yield _iterator.return();\n          }\n        } finally {\n          if (_didIteratorError) {\n            throw _iteratorError;\n          }\n        }\n      }\n\n      if (!hasAtLeastOneBundle && typeof console !== \"undefined\") {\n        console.warn(`[fluent] Request for keys failed because no resource bundles got generated.\n  keys: ${JSON.stringify(keys)}.\n  resourceIds: ${JSON.stringify(_this7.resourceIds)}.`);\n      }\n\n      return translations;\n    })();\n  }\n\n  formatMessages(keys) {\n    return this.formatWithFallback(keys, messageFromBundle);\n  }\n\n  formatValues(keys) {\n    return this.formatWithFallback(keys, valueFromBundle);\n  }\n\n  formatValue(id, args) {\n    var _this8 = this;\n\n    return _asyncToGenerator(function* () {\n      const [val] = yield _this8.formatValues([{\n        id,\n        args\n      }]);\n      return val;\n    })();\n  }\n\n  handleEvent() {\n    this.onChange();\n  }\n\n  onChange(eager = false) {\n    this.bundles = CachedAsyncIterable.from(this.generateBundles(this.resourceIds));\n\n    if (eager) {\n      this.bundles.touchNext(2);\n    }\n  }\n\n}\n\nfunction valueFromBundle(bundle, errors, message, args) {\n  if (message.value) {\n    return bundle.formatPattern(message.value, args, errors);\n  }\n\n  return null;\n}\n\nfunction messageFromBundle(bundle, errors, message, args) {\n  const formatted = {\n    value: null,\n    attributes: null\n  };\n\n  if (message.value) {\n    formatted.value = bundle.formatPattern(message.value, args, errors);\n  }\n\n  let attrNames = Object.keys(message.attributes);\n\n  if (attrNames.length > 0) {\n    formatted.attributes = new Array(attrNames.length);\n\n    for (let [i, name] of attrNames.entries()) {\n      let value = bundle.formatPattern(message.attributes[name], args, errors);\n      formatted.attributes[i] = {\n        name,\n        value\n      };\n    }\n  }\n\n  return formatted;\n}\n\nfunction keysFromBundle(method, bundle, keys, translations) {\n  const messageErrors = [];\n  const missingIds = new Set();\n  keys.forEach(({\n    id,\n    args\n  }, i) => {\n    if (translations[i] !== undefined) {\n      return;\n    }\n\n    let message = bundle.getMessage(id);\n\n    if (message) {\n      messageErrors.length = 0;\n      translations[i] = method(bundle, messageErrors, message, args);\n\n      if (messageErrors.length > 0 && typeof console !== \"undefined\") {\n        const locale = bundle.locales[0];\n        const errors = messageErrors.join(\", \");\n        console.warn(`[fluent][resolver] errors in ${locale}/${id}: ${errors}.`);\n      }\n    } else {\n      missingIds.add(id);\n    }\n  });\n  return missingIds;\n}\n\n; // CONCATENATED MODULE: ./node_modules/@fluent/dom/esm/dom_localization.js\n\nconst L10NID_ATTR_NAME = \"data-l10n-id\";\nconst L10NARGS_ATTR_NAME = \"data-l10n-args\";\nconst L10N_ELEMENT_QUERY = `[${L10NID_ATTR_NAME}]`;\n\nclass DOMLocalization extends Localization {\n  constructor(resourceIds, generateBundles) {\n    super(resourceIds, generateBundles);\n    this.roots = new Set();\n    this.pendingrAF = null;\n    this.pendingElements = new Set();\n    this.windowElement = null;\n    this.mutationObserver = null;\n    this.observerConfig = {\n      attributes: true,\n      characterData: false,\n      childList: true,\n      subtree: true,\n      attributeFilter: [L10NID_ATTR_NAME, L10NARGS_ATTR_NAME]\n    };\n  }\n\n  onChange(eager = false) {\n    super.onChange(eager);\n\n    if (this.roots) {\n      this.translateRoots();\n    }\n  }\n\n  setAttributes(element, id, args) {\n    element.setAttribute(L10NID_ATTR_NAME, id);\n\n    if (args) {\n      element.setAttribute(L10NARGS_ATTR_NAME, JSON.stringify(args));\n    } else {\n      element.removeAttribute(L10NARGS_ATTR_NAME);\n    }\n\n    return element;\n  }\n\n  getAttributes(element) {\n    return {\n      id: element.getAttribute(L10NID_ATTR_NAME),\n      args: JSON.parse(element.getAttribute(L10NARGS_ATTR_NAME) || null)\n    };\n  }\n\n  connectRoot(newRoot) {\n    for (const root of this.roots) {\n      if (root === newRoot || root.contains(newRoot) || newRoot.contains(root)) {\n        throw new Error(\"Cannot add a root that overlaps with existing root.\");\n      }\n    }\n\n    if (this.windowElement) {\n      if (this.windowElement !== newRoot.ownerDocument.defaultView) {\n        throw new Error(`Cannot connect a root:\n          DOMLocalization already has a root from a different window.`);\n      }\n    } else {\n      this.windowElement = newRoot.ownerDocument.defaultView;\n      this.mutationObserver = new this.windowElement.MutationObserver(mutations => this.translateMutations(mutations));\n    }\n\n    this.roots.add(newRoot);\n    this.mutationObserver.observe(newRoot, this.observerConfig);\n  }\n\n  disconnectRoot(root) {\n    this.roots.delete(root);\n    this.pauseObserving();\n\n    if (this.roots.size === 0) {\n      this.mutationObserver = null;\n\n      if (this.windowElement && this.pendingrAF) {\n        this.windowElement.cancelAnimationFrame(this.pendingrAF);\n      }\n\n      this.windowElement = null;\n      this.pendingrAF = null;\n      this.pendingElements.clear();\n      return true;\n    }\n\n    this.resumeObserving();\n    return false;\n  }\n\n  translateRoots() {\n    const roots = Array.from(this.roots);\n    return Promise.all(roots.map(root => this.translateFragment(root)));\n  }\n\n  pauseObserving() {\n    if (!this.mutationObserver) {\n      return;\n    }\n\n    this.translateMutations(this.mutationObserver.takeRecords());\n    this.mutationObserver.disconnect();\n  }\n\n  resumeObserving() {\n    if (!this.mutationObserver) {\n      return;\n    }\n\n    for (const root of this.roots) {\n      this.mutationObserver.observe(root, this.observerConfig);\n    }\n  }\n\n  translateMutations(mutations) {\n    for (const mutation of mutations) {\n      switch (mutation.type) {\n        case \"attributes\":\n          if (mutation.target.hasAttribute(\"data-l10n-id\")) {\n            this.pendingElements.add(mutation.target);\n          }\n\n          break;\n\n        case \"childList\":\n          for (const addedNode of mutation.addedNodes) {\n            if (addedNode.nodeType === addedNode.ELEMENT_NODE) {\n              if (addedNode.childElementCount) {\n                for (const element of this.getTranslatables(addedNode)) {\n                  this.pendingElements.add(element);\n                }\n              } else if (addedNode.hasAttribute(L10NID_ATTR_NAME)) {\n                this.pendingElements.add(addedNode);\n              }\n            }\n          }\n\n          break;\n      }\n    }\n\n    if (this.pendingElements.size > 0) {\n      if (this.pendingrAF === null) {\n        this.pendingrAF = this.windowElement.requestAnimationFrame(() => {\n          this.translateElements(Array.from(this.pendingElements));\n          this.pendingElements.clear();\n          this.pendingrAF = null;\n        });\n      }\n    }\n  }\n\n  translateFragment(frag) {\n    return this.translateElements(this.getTranslatables(frag));\n  }\n\n  translateElements(elements) {\n    var _this9 = this;\n\n    return _asyncToGenerator(function* () {\n      if (!elements.length) {\n        return undefined;\n      }\n\n      const keys = elements.map(_this9.getKeysForElement);\n      const translations = yield _this9.formatMessages(keys);\n      return _this9.applyTranslations(elements, translations);\n    })();\n  }\n\n  applyTranslations(elements, translations) {\n    this.pauseObserving();\n\n    for (let i = 0; i < elements.length; i++) {\n      if (translations[i] !== undefined) {\n        translateElement(elements[i], translations[i]);\n      }\n    }\n\n    this.resumeObserving();\n  }\n\n  getTranslatables(element) {\n    const nodes = Array.from(element.querySelectorAll(L10N_ELEMENT_QUERY));\n\n    if (typeof element.hasAttribute === \"function\" && element.hasAttribute(L10NID_ATTR_NAME)) {\n      nodes.push(element);\n    }\n\n    return nodes;\n  }\n\n  getKeysForElement(element) {\n    return {\n      id: element.getAttribute(L10NID_ATTR_NAME),\n      args: JSON.parse(element.getAttribute(L10NARGS_ATTR_NAME) || null)\n    };\n  }\n\n}\n\n; // CONCATENATED MODULE: ./node_modules/@fluent/dom/esm/index.js\n\n; // CONCATENATED MODULE: ./web/l10n.js\n\nclass L10n {\n  #dir;\n  #elements = new Set();\n  #lang;\n  #l10n;\n\n  constructor({\n    lang,\n    isRTL\n  }, l10n = null) {\n    this.#lang = L10n.#fixupLangCode(lang);\n    this.#l10n = l10n;\n    this.#dir = isRTL ?? L10n.#isRTL(this.#lang) ? \"rtl\" : \"ltr\";\n  }\n\n  _setL10n(l10n) {\n    this.#l10n = l10n;\n  }\n\n  getLanguage() {\n    return this.#lang;\n  }\n\n  getDirection() {\n    return this.#dir;\n  }\n\n  get(ids, args = null, fallback) {\n    var _this10 = this;\n\n    return _asyncToGenerator(function* () {\n      if (Array.isArray(ids)) {\n        ids = ids.map(id => ({\n          id\n        }));\n        const messages = yield _this10.#l10n.formatMessages(ids);\n        return messages.map(message => message.value);\n      }\n\n      const messages = yield _this10.#l10n.formatMessages([{\n        id: ids,\n        args\n      }]);\n      return messages[0]?.value || fallback;\n    })();\n  }\n\n  translate(element) {\n    var _this11 = this;\n\n    return _asyncToGenerator(function* () {\n      _this11.#elements.add(element);\n\n      try {\n        _this11.#l10n.connectRoot(element);\n\n        yield _this11.#l10n.translateRoots();\n      } catch {}\n    })();\n  }\n\n  translateOnce(element) {\n    var _this12 = this;\n\n    return _asyncToGenerator(function* () {\n      try {\n        yield _this12.#l10n.translateElements([element]);\n      } catch (ex) {\n        console.error(`translateOnce: \"${ex}\".`);\n      }\n    })();\n  }\n\n  destroy() {\n    var _this13 = this;\n\n    return _asyncToGenerator(function* () {\n      for (const element of _this13.#elements) {\n        _this13.#l10n.disconnectRoot(element);\n      }\n\n      _this13.#elements.clear();\n\n      _this13.#l10n.pauseObserving();\n    })();\n  }\n\n  pause() {\n    this.#l10n.pauseObserving();\n  }\n\n  resume() {\n    this.#l10n.resumeObserving();\n  }\n\n  static #fixupLangCode(langCode) {\n    langCode = langCode?.toLowerCase() || \"en-us\";\n    const PARTIAL_LANG_CODES = {\n      en: \"en-us\",\n      es: \"es-es\",\n      fy: \"fy-nl\",\n      ga: \"ga-ie\",\n      gu: \"gu-in\",\n      hi: \"hi-in\",\n      hy: \"hy-am\",\n      nb: \"nb-no\",\n      ne: \"ne-np\",\n      nn: \"nn-no\",\n      pa: \"pa-in\",\n      pt: \"pt-pt\",\n      sv: \"sv-se\",\n      zh: \"zh-cn\"\n    };\n    return PARTIAL_LANG_CODES[langCode] || langCode;\n  }\n\n  static #isRTL(lang) {\n    const shortCode = lang.split(\"-\", 1)[0];\n    return [\"ar\", \"he\", \"fa\", \"ps\", \"ur\"].includes(shortCode);\n  }\n\n}\n\nconst GenericL10n = null;\n; // CONCATENATED MODULE: ./web/genericl10n.js\n\nfunction createBundle(lang, text) {\n  const resource = new FluentResource(text);\n  const bundle = new FluentBundle(lang);\n  const errors = bundle.addResource(resource);\n\n  if (errors.length) {\n    console.error(\"L10n errors\", errors);\n  }\n\n  return bundle;\n}\n\nclass genericl10n_GenericL10n extends L10n {\n  constructor(lang) {\n    super({\n      lang\n    });\n    const generateBundles = !lang ? genericl10n_GenericL10n.#generateBundlesFallback.bind(genericl10n_GenericL10n, this.getLanguage()) : genericl10n_GenericL10n.#generateBundles.bind(genericl10n_GenericL10n, \"en-us\", this.getLanguage());\n\n    this._setL10n(new DOMLocalization([], generateBundles));\n  }\n\n  static #generateBundles(defaultLang, baseLang) {\n    var _this = this;\n\n    return _wrapAsyncGenerator(function* () {\n      const {\n        baseURL,\n        paths\n      } = yield _awaitAsyncGenerator(_this.#getPaths());\n      const langs = [baseLang];\n\n      if (defaultLang !== baseLang) {\n        const shortLang = baseLang.split(\"-\", 1)[0];\n\n        if (shortLang !== baseLang) {\n          langs.push(shortLang);\n        }\n\n        langs.push(defaultLang);\n      }\n\n      for (const lang of langs) {\n        const bundle = yield _awaitAsyncGenerator(_this.#createBundle(lang, baseURL, paths));\n\n        if (bundle) {\n          yield bundle;\n        } else if (lang === \"en-us\") {\n          yield _this.#createBundleFallback(lang);\n        }\n      }\n    })();\n  }\n\n  static #createBundle(lang, baseURL, paths) {\n    return _asyncToGenerator(function* () {\n      const path = paths[lang];\n\n      if (!path) {\n        return null;\n      }\n\n      const url = new URL(path, baseURL);\n      const text = yield fetchData(url, \"text\");\n      return createBundle(lang, text);\n    })();\n  }\n\n  static #getPaths() {\n    return _asyncToGenerator(function* () {\n      try {\n        const {\n          href\n        } = document.querySelector(`link[type=\"application/l10n\"]`);\n        const paths = yield fetchData(href, \"json\");\n        return {\n          baseURL: href.replace(/[^/]*$/, \"\") || \"./\",\n          paths\n        };\n      } catch {}\n\n      return {\n        baseURL: \"./\",\n        paths: Object.create(null)\n      };\n    })();\n  }\n\n  static #generateBundlesFallback(lang) {\n    var _this2 = this;\n\n    return _wrapAsyncGenerator(function* () {\n      yield _this2.#createBundleFallback(lang);\n    })();\n  }\n\n  static #createBundleFallback(lang) {\n    return _asyncToGenerator(function* () {\n      const text = \"pdfjs-previous-button =\\n    .title = Previous Page\\npdfjs-previous-button-label = Previous\\npdfjs-next-button =\\n    .title = Next Page\\npdfjs-next-button-label = Next\\npdfjs-page-input =\\n    .title = Page\\npdfjs-of-pages = of { $pagesCount }\\npdfjs-page-of-pages = ({ $pageNumber } of { $pagesCount })\\npdfjs-zoom-out-button =\\n    .title = Zoom Out\\npdfjs-zoom-out-button-label = Zoom Out\\npdfjs-zoom-in-button =\\n    .title = Zoom In\\npdfjs-zoom-in-button-label = Zoom In\\npdfjs-zoom-select =\\n    .title = Zoom\\npdfjs-presentation-mode-button =\\n    .title = Switch to Presentation Mode\\npdfjs-presentation-mode-button-label = Presentation Mode\\npdfjs-open-file-button =\\n    .title = Open File\\npdfjs-open-file-button-label = Open\\npdfjs-print-button =\\n    .title = Print\\npdfjs-print-button-label = Print\\npdfjs-save-button =\\n    .title = Save\\npdfjs-save-button-label = Save\\npdfjs-download-button =\\n    .title = Download\\npdfjs-download-button-label = Download\\npdfjs-bookmark-button =\\n    .title = Current Page (View URL from Current Page)\\npdfjs-bookmark-button-label = Current Page\\npdfjs-tools-button =\\n    .title = Tools\\npdfjs-tools-button-label = Tools\\npdfjs-first-page-button =\\n    .title = Go to First Page\\npdfjs-first-page-button-label = Go to First Page\\npdfjs-last-page-button =\\n    .title = Go to Last Page\\npdfjs-last-page-button-label = Go to Last Page\\npdfjs-page-rotate-cw-button =\\n    .title = Rotate Clockwise\\npdfjs-page-rotate-cw-button-label = Rotate Clockwise\\npdfjs-page-rotate-ccw-button =\\n    .title = Rotate Counterclockwise\\npdfjs-page-rotate-ccw-button-label = Rotate Counterclockwise\\npdfjs-cursor-text-select-tool-button =\\n    .title = Enable Text Selection Tool\\npdfjs-cursor-text-select-tool-button-label = Text Selection Tool\\npdfjs-cursor-hand-tool-button =\\n    .title = Enable Hand Tool\\npdfjs-cursor-hand-tool-button-label = Hand Tool\\npdfjs-scroll-page-button =\\n    .title = Use Page Scrolling\\npdfjs-scroll-page-button-label = Page Scrolling\\npdfjs-scroll-vertical-button =\\n    .title = Use Vertical Scrolling\\npdfjs-scroll-vertical-button-label = Vertical Scrolling\\npdfjs-scroll-horizontal-button =\\n    .title = Use Horizontal Scrolling\\npdfjs-scroll-horizontal-button-label = Horizontal Scrolling\\npdfjs-scroll-wrapped-button =\\n    .title = Use Wrapped Scrolling\\npdfjs-scroll-wrapped-button-label = Wrapped Scrolling\\npdfjs-spread-none-button =\\n    .title = Do not join page spreads\\npdfjs-spread-none-button-label = No Spreads\\npdfjs-spread-odd-button =\\n    .title = Join page spreads starting with odd-numbered pages\\npdfjs-spread-odd-button-label = Odd Spreads\\npdfjs-spread-even-button =\\n    .title = Join page spreads starting with even-numbered pages\\npdfjs-spread-even-button-label = Even Spreads\\npdfjs-document-properties-button =\\n    .title = Document Properties\\u2026\\npdfjs-document-properties-button-label = Document Properties\\u2026\\npdfjs-document-properties-file-name = File name:\\npdfjs-document-properties-file-size = File size:\\npdfjs-document-properties-size-kb = { NUMBER($kb, maximumSignificantDigits: 3) } KB ({ $b } bytes)\\npdfjs-document-properties-size-mb = { NUMBER($mb, maximumSignificantDigits: 3) } MB ({ $b } bytes)\\npdfjs-document-properties-title = Title:\\npdfjs-document-properties-author = Author:\\npdfjs-document-properties-subject = Subject:\\npdfjs-document-properties-keywords = Keywords:\\npdfjs-document-properties-creation-date = Creation Date:\\npdfjs-document-properties-modification-date = Modification Date:\\npdfjs-document-properties-date-time-string = { DATETIME($dateObj, dateStyle: \\\"short\\\", timeStyle: \\\"medium\\\") }\\npdfjs-document-properties-creator = Creator:\\npdfjs-document-properties-producer = PDF Producer:\\npdfjs-document-properties-version = PDF Version:\\npdfjs-document-properties-page-count = Page Count:\\npdfjs-document-properties-page-size = Page Size:\\npdfjs-document-properties-page-size-unit-inches = in\\npdfjs-document-properties-page-size-unit-millimeters = mm\\npdfjs-document-properties-page-size-orientation-portrait = portrait\\npdfjs-document-properties-page-size-orientation-landscape = landscape\\npdfjs-document-properties-page-size-name-a-three = A3\\npdfjs-document-properties-page-size-name-a-four = A4\\npdfjs-document-properties-page-size-name-letter = Letter\\npdfjs-document-properties-page-size-name-legal = Legal\\npdfjs-document-properties-page-size-dimension-string = { $width } \\xD7 { $height } { $unit } ({ $orientation })\\npdfjs-document-properties-page-size-dimension-name-string = { $width } \\xD7 { $height } { $unit } ({ $name }, { $orientation })\\npdfjs-document-properties-linearized = Fast Web View:\\npdfjs-document-properties-linearized-yes = Yes\\npdfjs-document-properties-linearized-no = No\\npdfjs-document-properties-close-button = Close\\npdfjs-print-progress-message = Preparing document for printing\\u2026\\npdfjs-print-progress-percent = { $progress }%\\npdfjs-print-progress-close-button = Cancel\\npdfjs-printing-not-supported = Warning: Printing is not fully supported by this browser.\\npdfjs-printing-not-ready = Warning: The PDF is not fully loaded for printing.\\npdfjs-toggle-sidebar-button =\\n    .title = Toggle Sidebar\\npdfjs-toggle-sidebar-notification-button =\\n    .title = Toggle Sidebar (document contains outline/attachments/layers)\\npdfjs-toggle-sidebar-button-label = Toggle Sidebar\\npdfjs-document-outline-button =\\n    .title = Show Document Outline (double-click to expand/collapse all items)\\npdfjs-document-outline-button-label = Document Outline\\npdfjs-attachments-button =\\n    .title = Show Attachments\\npdfjs-attachments-button-label = Attachments\\npdfjs-layers-button =\\n    .title = Show Layers (double-click to reset all layers to the default state)\\npdfjs-layers-button-label = Layers\\npdfjs-thumbs-button =\\n    .title = Show Thumbnails\\npdfjs-thumbs-button-label = Thumbnails\\npdfjs-current-outline-item-button =\\n    .title = Find Current Outline Item\\npdfjs-current-outline-item-button-label = Current Outline Item\\npdfjs-findbar-button =\\n    .title = Find in Document\\npdfjs-findbar-button-label = Find\\npdfjs-additional-layers = Additional Layers\\npdfjs-thumb-page-title =\\n    .title = Page { $page }\\npdfjs-thumb-page-canvas =\\n    .aria-label = Thumbnail of Page { $page }\\npdfjs-find-input =\\n    .title = Find\\n    .placeholder = Find in document\\u2026\\npdfjs-find-previous-button =\\n    .title = Find the previous occurrence of the phrase\\npdfjs-find-previous-button-label = Previous\\npdfjs-find-next-button =\\n    .title = Find the next occurrence of the phrase\\npdfjs-find-next-button-label = Next\\npdfjs-find-highlight-checkbox = Highlight All\\npdfjs-find-match-case-checkbox-label = Match Case\\npdfjs-find-match-diacritics-checkbox-label = Match Diacritics\\npdfjs-find-entire-word-checkbox-label = Whole Words\\npdfjs-find-reached-top = Reached top of document, continued from bottom\\npdfjs-find-reached-bottom = Reached end of document, continued from top\\npdfjs-find-match-count =\\n    { $total ->\\n        [one] { $current } of { $total } match\\n       *[other] { $current } of { $total } matches\\n    }\\npdfjs-find-match-count-limit =\\n    { $limit ->\\n        [one] More than { $limit } match\\n       *[other] More than { $limit } matches\\n    }\\npdfjs-find-not-found = Phrase not found\\npdfjs-page-scale-width = Page Width\\npdfjs-page-scale-fit = Page Fit\\npdfjs-page-scale-auto = Automatic Zoom\\npdfjs-page-scale-actual = Actual Size\\npdfjs-page-scale-percent = { $scale }%\\npdfjs-page-landmark =\\n    .aria-label = Page { $page }\\npdfjs-loading-error = An error occurred while loading the PDF.\\npdfjs-invalid-file-error = Invalid or corrupted PDF file.\\npdfjs-missing-file-error = Missing PDF file.\\npdfjs-unexpected-response-error = Unexpected server response.\\npdfjs-rendering-error = An error occurred while rendering the page.\\npdfjs-annotation-date-time-string = { DATETIME($dateObj, dateStyle: \\\"short\\\", timeStyle: \\\"medium\\\") }\\npdfjs-text-annotation-type =\\n    .alt = [{ $type } Annotation]\\npdfjs-password-label = Enter the password to open this PDF file.\\npdfjs-password-invalid = Invalid password. Please try again.\\npdfjs-password-ok-button = OK\\npdfjs-password-cancel-button = Cancel\\npdfjs-web-fonts-disabled = Web fonts are disabled: unable to use embedded PDF fonts.\\npdfjs-editor-free-text-button =\\n    .title = Text\\npdfjs-editor-free-text-button-label = Text\\npdfjs-editor-ink-button =\\n    .title = Draw\\npdfjs-editor-ink-button-label = Draw\\npdfjs-editor-stamp-button =\\n    .title = Add or edit images\\npdfjs-editor-stamp-button-label = Add or edit images\\npdfjs-editor-highlight-button =\\n    .title = Highlight\\npdfjs-editor-highlight-button-label = Highlight\\npdfjs-highlight-floating-button1 =\\n    .title = Highlight\\n    .aria-label = Highlight\\npdfjs-highlight-floating-button-label = Highlight\\npdfjs-editor-remove-ink-button =\\n    .title = Remove drawing\\npdfjs-editor-remove-freetext-button =\\n    .title = Remove text\\npdfjs-editor-remove-stamp-button =\\n    .title = Remove image\\npdfjs-editor-remove-highlight-button =\\n    .title = Remove highlight\\npdfjs-editor-free-text-color-input = Color\\npdfjs-editor-free-text-size-input = Size\\npdfjs-editor-ink-color-input = Color\\npdfjs-editor-ink-thickness-input = Thickness\\npdfjs-editor-ink-opacity-input = Opacity\\npdfjs-editor-stamp-add-image-button =\\n    .title = Add image\\npdfjs-editor-stamp-add-image-button-label = Add image\\npdfjs-editor-free-highlight-thickness-input = Thickness\\npdfjs-editor-free-highlight-thickness-title =\\n    .title = Change thickness when highlighting items other than text\\npdfjs-free-text =\\n    .aria-label = Text Editor\\npdfjs-free-text-default-content = Start typing\\u2026\\npdfjs-ink =\\n    .aria-label = Draw Editor\\npdfjs-ink-canvas =\\n    .aria-label = User-created image\\npdfjs-editor-alt-text-button-label = Alt text\\npdfjs-editor-alt-text-edit-button-label = Edit alt text\\npdfjs-editor-alt-text-dialog-label = Choose an option\\npdfjs-editor-alt-text-dialog-description = Alt text (alternative text) helps when people can\\u2019t see the image or when it doesn\\u2019t load.\\npdfjs-editor-alt-text-add-description-label = Add a description\\npdfjs-editor-alt-text-add-description-description = Aim for 1-2 sentences that describe the subject, setting, or actions.\\npdfjs-editor-alt-text-mark-decorative-label = Mark as decorative\\npdfjs-editor-alt-text-mark-decorative-description = This is used for ornamental images, like borders or watermarks.\\npdfjs-editor-alt-text-cancel-button = Cancel\\npdfjs-editor-alt-text-save-button = Save\\npdfjs-editor-alt-text-decorative-tooltip = Marked as decorative\\npdfjs-editor-alt-text-textarea =\\n    .placeholder = For example, \\u201CA young man sits down at a table to eat a meal\\u201D\\npdfjs-editor-resizer-top-left =\\n    .aria-label = Top left corner \\u2014 resize\\npdfjs-editor-resizer-top-middle =\\n    .aria-label = Top middle \\u2014 resize\\npdfjs-editor-resizer-top-right =\\n    .aria-label = Top right corner \\u2014 resize\\npdfjs-editor-resizer-middle-right =\\n    .aria-label = Middle right \\u2014 resize\\npdfjs-editor-resizer-bottom-right =\\n    .aria-label = Bottom right corner \\u2014 resize\\npdfjs-editor-resizer-bottom-middle =\\n    .aria-label = Bottom middle \\u2014 resize\\npdfjs-editor-resizer-bottom-left =\\n    .aria-label = Bottom left corner \\u2014 resize\\npdfjs-editor-resizer-middle-left =\\n    .aria-label = Middle left \\u2014 resize\\npdfjs-editor-highlight-colorpicker-label = Highlight color\\npdfjs-editor-colorpicker-button =\\n    .title = Change color\\npdfjs-editor-colorpicker-dropdown =\\n    .aria-label = Color choices\\npdfjs-editor-colorpicker-yellow =\\n    .title = Yellow\\npdfjs-editor-colorpicker-green =\\n    .title = Green\\npdfjs-editor-colorpicker-blue =\\n    .title = Blue\\npdfjs-editor-colorpicker-pink =\\n    .title = Pink\\npdfjs-editor-colorpicker-red =\\n    .title = Red\\npdfjs-editor-highlight-show-all-button-label = Show all\\npdfjs-editor-highlight-show-all-button =\\n    .title = Show all\\npdfjs-editor-new-alt-text-dialog-edit-label = Edit alt text (image description)\\npdfjs-editor-new-alt-text-dialog-add-label = Add alt text (image description)\\npdfjs-editor-new-alt-text-textarea =\\n    .placeholder = Write your description here\\u2026\\npdfjs-editor-new-alt-text-description = Short description for people who can\\u2019t see the image or when the image doesn\\u2019t load.\\npdfjs-editor-new-alt-text-disclaimer1 = This alt text was created automatically and may be inaccurate.\\npdfjs-editor-new-alt-text-disclaimer-learn-more-url = Learn more\\npdfjs-editor-new-alt-text-create-automatically-button-label = Create alt text automatically\\npdfjs-editor-new-alt-text-not-now-button = Not now\\npdfjs-editor-new-alt-text-error-title = Couldn\\u2019t create alt text automatically\\npdfjs-editor-new-alt-text-error-description = Please write your own alt text or try again later.\\npdfjs-editor-new-alt-text-error-close-button = Close\\npdfjs-editor-new-alt-text-ai-model-downloading-progress = Downloading alt text AI model ({ $downloadedSize } of { $totalSize } MB)\\n    .aria-valuetext = Downloading alt text AI model ({ $downloadedSize } of { $totalSize } MB)\\npdfjs-editor-new-alt-text-added-button-label = Alt text added\\npdfjs-editor-new-alt-text-missing-button-label = Missing alt text\\npdfjs-editor-new-alt-text-to-review-button-label = Review alt text\\npdfjs-editor-new-alt-text-generated-alt-text-with-disclaimer = Created automatically: { $generatedAltText }\\npdfjs-image-alt-text-settings-button =\\n    .title = Image alt text settings\\npdfjs-image-alt-text-settings-button-label = Image alt text settings\\npdfjs-editor-alt-text-settings-dialog-label = Image alt text settings\\npdfjs-editor-alt-text-settings-automatic-title = Automatic alt text\\npdfjs-editor-alt-text-settings-create-model-button-label = Create alt text automatically\\npdfjs-editor-alt-text-settings-create-model-description = Suggests descriptions to help people who can\\u2019t see the image or when the image doesn\\u2019t load.\\npdfjs-editor-alt-text-settings-download-model-label = Alt text AI model ({ $totalSize } MB)\\npdfjs-editor-alt-text-settings-ai-model-description = Runs locally on your device so your data stays private. Required for automatic alt text.\\npdfjs-editor-alt-text-settings-delete-model-button = Delete\\npdfjs-editor-alt-text-settings-download-model-button = Download\\npdfjs-editor-alt-text-settings-downloading-model-button = Downloading\\u2026\\npdfjs-editor-alt-text-settings-editor-title = Alt text editor\\npdfjs-editor-alt-text-settings-show-dialog-button-label = Show alt text editor right away when adding an image\\npdfjs-editor-alt-text-settings-show-dialog-description = Helps you make sure all your images have alt text.\\npdfjs-editor-alt-text-settings-close-button = Close\";\n      return createBundle(lang, text);\n    })();\n  }\n\n}\n\n; // CONCATENATED MODULE: ./web/pdf_history.js\n\nconst HASH_CHANGE_TIMEOUT = 1000;\nconst POSITION_UPDATED_THRESHOLD = 50;\nconst UPDATE_VIEWAREA_TIMEOUT = 1000;\n\nfunction getCurrentHash() {\n  return document.location.hash;\n}\n\nclass PDFHistory {\n  #eventAbortController = null;\n\n  constructor({\n    linkService,\n    eventBus\n  }) {\n    this.linkService = linkService;\n    this.eventBus = eventBus;\n    this._initialized = false;\n    this._fingerprint = \"\";\n    this.reset();\n\n    this.eventBus._on(\"pagesinit\", () => {\n      this._isPagesLoaded = false;\n\n      this.eventBus._on(\"pagesloaded\", evt => {\n        this._isPagesLoaded = !!evt.pagesCount;\n      }, {\n        once: true\n      });\n    });\n  }\n\n  initialize({\n    fingerprint,\n    resetHistory = false,\n    updateUrl = false\n  }) {\n    if (!fingerprint || typeof fingerprint !== \"string\") {\n      console.error('PDFHistory.initialize: The \"fingerprint\" must be a non-empty string.');\n      return;\n    }\n\n    if (this._initialized) {\n      this.reset();\n    }\n\n    const reInitialized = this._fingerprint !== \"\" && this._fingerprint !== fingerprint;\n    this._fingerprint = fingerprint;\n    this._updateUrl = updateUrl === true;\n    this._initialized = true;\n    this.#bindEvents();\n    const state = window.history.state;\n    this._popStateInProgress = false;\n    this._blockHashChange = 0;\n    this._currentHash = getCurrentHash();\n    this._numPositionUpdates = 0;\n    this._uid = this._maxUid = 0;\n    this._destination = null;\n    this._position = null;\n\n    if (!this.#isValidState(state, true) || resetHistory) {\n      const {\n        hash,\n        page,\n        rotation\n      } = this.#parseCurrentHash(true);\n\n      if (!hash || reInitialized || resetHistory) {\n        this.#pushOrReplaceState(null, true);\n        return;\n      }\n\n      this.#pushOrReplaceState({\n        hash,\n        page,\n        rotation\n      }, true);\n      return;\n    }\n\n    const destination = state.destination;\n    this.#updateInternalState(destination, state.uid, true);\n\n    if (destination.rotation !== undefined) {\n      this._initialRotation = destination.rotation;\n    }\n\n    if (destination.dest) {\n      this._initialBookmark = JSON.stringify(destination.dest);\n      this._destination.page = null;\n    } else if (destination.hash) {\n      this._initialBookmark = destination.hash;\n    } else if (destination.page) {\n      this._initialBookmark = `page=${destination.page}`;\n    }\n  }\n\n  reset() {\n    if (this._initialized) {\n      this.#pageHide();\n      this._initialized = false;\n      this.#unbindEvents();\n    }\n\n    if (this._updateViewareaTimeout) {\n      clearTimeout(this._updateViewareaTimeout);\n      this._updateViewareaTimeout = null;\n    }\n\n    this._initialBookmark = null;\n    this._initialRotation = null;\n  }\n\n  push({\n    namedDest = null,\n    explicitDest,\n    pageNumber\n  }) {\n    if (!this._initialized) {\n      return;\n    }\n\n    if (namedDest && typeof namedDest !== \"string\") {\n      console.error(\"PDFHistory.push: \" + `\"${namedDest}\" is not a valid namedDest parameter.`);\n      return;\n    } else if (!Array.isArray(explicitDest)) {\n      console.error(\"PDFHistory.push: \" + `\"${explicitDest}\" is not a valid explicitDest parameter.`);\n      return;\n    } else if (!this.#isValidPage(pageNumber)) {\n      if (pageNumber !== null || this._destination) {\n        console.error(\"PDFHistory.push: \" + `\"${pageNumber}\" is not a valid pageNumber parameter.`);\n        return;\n      }\n    }\n\n    const hash = namedDest || JSON.stringify(explicitDest);\n\n    if (!hash) {\n      return;\n    }\n\n    let forceReplace = false;\n\n    if (this._destination && (isDestHashesEqual(this._destination.hash, hash) || isDestArraysEqual(this._destination.dest, explicitDest))) {\n      if (this._destination.page) {\n        return;\n      }\n\n      forceReplace = true;\n    }\n\n    if (this._popStateInProgress && !forceReplace) {\n      return;\n    }\n\n    this.#pushOrReplaceState({\n      dest: explicitDest,\n      hash,\n      page: pageNumber,\n      rotation: this.linkService.rotation\n    }, forceReplace);\n\n    if (!this._popStateInProgress) {\n      this._popStateInProgress = true;\n      Promise.resolve().then(() => {\n        this._popStateInProgress = false;\n      });\n    }\n  }\n\n  pushPage(pageNumber) {\n    if (!this._initialized) {\n      return;\n    }\n\n    if (!this.#isValidPage(pageNumber)) {\n      console.error(`PDFHistory.pushPage: \"${pageNumber}\" is not a valid page number.`);\n      return;\n    }\n\n    if (this._destination?.page === pageNumber) {\n      return;\n    }\n\n    if (this._popStateInProgress) {\n      return;\n    }\n\n    this.#pushOrReplaceState({\n      dest: null,\n      hash: `page=${pageNumber}`,\n      page: pageNumber,\n      rotation: this.linkService.rotation\n    });\n\n    if (!this._popStateInProgress) {\n      this._popStateInProgress = true;\n      Promise.resolve().then(() => {\n        this._popStateInProgress = false;\n      });\n    }\n  }\n\n  pushCurrentPosition() {\n    if (!this._initialized || this._popStateInProgress) {\n      return;\n    }\n\n    this.#tryPushCurrentPosition();\n  }\n\n  back() {\n    if (!this._initialized || this._popStateInProgress) {\n      return;\n    }\n\n    const state = window.history.state;\n\n    if (this.#isValidState(state) && state.uid > 0) {\n      window.history.back();\n    }\n  }\n\n  forward() {\n    if (!this._initialized || this._popStateInProgress) {\n      return;\n    }\n\n    const state = window.history.state;\n\n    if (this.#isValidState(state) && state.uid < this._maxUid) {\n      window.history.forward();\n    }\n  }\n\n  get popStateInProgress() {\n    return this._initialized && (this._popStateInProgress || this._blockHashChange > 0);\n  }\n\n  get initialBookmark() {\n    return this._initialized ? this._initialBookmark : null;\n  }\n\n  get initialRotation() {\n    return this._initialized ? this._initialRotation : null;\n  }\n\n  #pushOrReplaceState(destination, forceReplace = false) {\n    const shouldReplace = forceReplace || !this._destination;\n    const newState = {\n      fingerprint: this._fingerprint,\n      uid: shouldReplace ? this._uid : this._uid + 1,\n      destination\n    };\n    this.#updateInternalState(destination, newState.uid);\n    let newUrl;\n\n    if (this._updateUrl && destination?.hash) {\n      const baseUrl = document.location.href.split(\"#\", 1)[0];\n\n      if (!baseUrl.startsWith(\"file://\")) {\n        newUrl = `${baseUrl}#${destination.hash}`;\n      }\n    }\n\n    if (shouldReplace) {\n      window.history.replaceState(newState, \"\", newUrl);\n    } else {\n      window.history.pushState(newState, \"\", newUrl);\n    }\n  }\n\n  #tryPushCurrentPosition(temporary = false) {\n    if (!this._position) {\n      return;\n    }\n\n    let position = this._position;\n\n    if (temporary) {\n      position = Object.assign(Object.create(null), this._position);\n      position.temporary = true;\n    }\n\n    if (!this._destination) {\n      this.#pushOrReplaceState(position);\n      return;\n    }\n\n    if (this._destination.temporary) {\n      this.#pushOrReplaceState(position, true);\n      return;\n    }\n\n    if (this._destination.hash === position.hash) {\n      return;\n    }\n\n    if (!this._destination.page && (POSITION_UPDATED_THRESHOLD <= 0 || this._numPositionUpdates <= POSITION_UPDATED_THRESHOLD)) {\n      return;\n    }\n\n    let forceReplace = false;\n\n    if (this._destination.page >= position.first && this._destination.page <= position.page) {\n      if (this._destination.dest !== undefined || !this._destination.first) {\n        return;\n      }\n\n      forceReplace = true;\n    }\n\n    this.#pushOrReplaceState(position, forceReplace);\n  }\n\n  #isValidPage(val) {\n    return Number.isInteger(val) && val > 0 && val <= this.linkService.pagesCount;\n  }\n\n  #isValidState(state, checkReload = false) {\n    if (!state) {\n      return false;\n    }\n\n    if (state.fingerprint !== this._fingerprint) {\n      if (checkReload) {\n        if (typeof state.fingerprint !== \"string\" || state.fingerprint.length !== this._fingerprint.length) {\n          return false;\n        }\n\n        const [perfEntry] = performance.getEntriesByType(\"navigation\");\n\n        if (perfEntry?.type !== \"reload\") {\n          return false;\n        }\n      } else {\n        return false;\n      }\n    }\n\n    if (!Number.isInteger(state.uid) || state.uid < 0) {\n      return false;\n    }\n\n    if (state.destination === null || typeof state.destination !== \"object\") {\n      return false;\n    }\n\n    return true;\n  }\n\n  #updateInternalState(destination, uid, removeTemporary = false) {\n    if (this._updateViewareaTimeout) {\n      clearTimeout(this._updateViewareaTimeout);\n      this._updateViewareaTimeout = null;\n    }\n\n    if (removeTemporary && destination?.temporary) {\n      delete destination.temporary;\n    }\n\n    this._destination = destination;\n    this._uid = uid;\n    this._maxUid = Math.max(this._maxUid, uid);\n    this._numPositionUpdates = 0;\n  }\n\n  #parseCurrentHash(checkNameddest = false) {\n    const hash = unescape(getCurrentHash()).substring(1);\n    const params = parseQueryString(hash);\n    const nameddest = params.get(\"nameddest\") || \"\";\n    let page = params.get(\"page\") | 0;\n\n    if (!this.#isValidPage(page) || checkNameddest && nameddest.length > 0) {\n      page = null;\n    }\n\n    return {\n      hash,\n      page,\n      rotation: this.linkService.rotation\n    };\n  }\n\n  #updateViewarea({\n    location\n  }) {\n    if (this._updateViewareaTimeout) {\n      clearTimeout(this._updateViewareaTimeout);\n      this._updateViewareaTimeout = null;\n    }\n\n    this._position = {\n      hash: location.pdfOpenParams.substring(1),\n      page: this.linkService.page,\n      first: location.pageNumber,\n      rotation: location.rotation\n    };\n\n    if (this._popStateInProgress) {\n      return;\n    }\n\n    if (POSITION_UPDATED_THRESHOLD > 0 && this._isPagesLoaded && this._destination && !this._destination.page) {\n      this._numPositionUpdates++;\n    }\n\n    if (UPDATE_VIEWAREA_TIMEOUT > 0) {\n      this._updateViewareaTimeout = setTimeout(() => {\n        if (!this._popStateInProgress) {\n          this.#tryPushCurrentPosition(true);\n        }\n\n        this._updateViewareaTimeout = null;\n      }, UPDATE_VIEWAREA_TIMEOUT);\n    }\n  }\n\n  #popState({\n    state\n  }) {\n    const newHash = getCurrentHash(),\n          hashChanged = this._currentHash !== newHash;\n    this._currentHash = newHash;\n\n    if (!state) {\n      this._uid++;\n      const {\n        hash,\n        page,\n        rotation\n      } = this.#parseCurrentHash();\n      this.#pushOrReplaceState({\n        hash,\n        page,\n        rotation\n      }, true);\n      return;\n    }\n\n    if (!this.#isValidState(state)) {\n      return;\n    }\n\n    this._popStateInProgress = true;\n\n    if (hashChanged) {\n      this._blockHashChange++;\n      waitOnEventOrTimeout({\n        target: window,\n        name: \"hashchange\",\n        delay: HASH_CHANGE_TIMEOUT\n      }).then(() => {\n        this._blockHashChange--;\n      });\n    }\n\n    const destination = state.destination;\n    this.#updateInternalState(destination, state.uid, true);\n\n    if (isValidRotation(destination.rotation)) {\n      this.linkService.rotation = destination.rotation;\n    }\n\n    if (destination.dest) {\n      this.linkService.goToDestination(destination.dest);\n    } else if (destination.hash) {\n      this.linkService.setHash(destination.hash);\n    } else if (destination.page) {\n      this.linkService.page = destination.page;\n    }\n\n    Promise.resolve().then(() => {\n      this._popStateInProgress = false;\n    });\n  }\n\n  #pageHide() {\n    if (!this._destination || this._destination.temporary) {\n      this.#tryPushCurrentPosition();\n    }\n  }\n\n  #bindEvents() {\n    if (this.#eventAbortController) {\n      return;\n    }\n\n    this.#eventAbortController = new AbortController();\n    const {\n      signal\n    } = this.#eventAbortController;\n\n    this.eventBus._on(\"updateviewarea\", this.#updateViewarea.bind(this), {\n      signal\n    });\n\n    window.addEventListener(\"popstate\", this.#popState.bind(this), {\n      signal\n    });\n    window.addEventListener(\"pagehide\", this.#pageHide.bind(this), {\n      signal\n    });\n  }\n\n  #unbindEvents() {\n    this.#eventAbortController?.abort();\n    this.#eventAbortController = null;\n  }\n\n}\n\nfunction isDestHashesEqual(destHash, pushHash) {\n  if (typeof destHash !== \"string\" || typeof pushHash !== \"string\") {\n    return false;\n  }\n\n  if (destHash === pushHash) {\n    return true;\n  }\n\n  const nameddest = parseQueryString(destHash).get(\"nameddest\");\n\n  if (nameddest === pushHash) {\n    return true;\n  }\n\n  return false;\n}\n\nfunction isDestArraysEqual(firstDest, secondDest) {\n  function isEntryEqual(first, second) {\n    if (typeof first !== typeof second) {\n      return false;\n    }\n\n    if (Array.isArray(first) || Array.isArray(second)) {\n      return false;\n    }\n\n    if (first !== null && typeof first === \"object\" && second !== null) {\n      if (Object.keys(first).length !== Object.keys(second).length) {\n        return false;\n      }\n\n      for (const key in first) {\n        if (!isEntryEqual(first[key], second[key])) {\n          return false;\n        }\n      }\n\n      return true;\n    }\n\n    return first === second || Number.isNaN(first) && Number.isNaN(second);\n  }\n\n  if (!(Array.isArray(firstDest) && Array.isArray(secondDest))) {\n    return false;\n  }\n\n  if (firstDest.length !== secondDest.length) {\n    return false;\n  }\n\n  for (let i = 0, ii = firstDest.length; i < ii; i++) {\n    if (!isEntryEqual(firstDest[i], secondDest[i])) {\n      return false;\n    }\n  }\n\n  return true;\n}\n\n; // CONCATENATED MODULE: ./web/annotation_editor_layer_builder.js\n\nclass AnnotationEditorLayerBuilder {\n  #annotationLayer = null;\n  #drawLayer = null;\n  #onAppend = null;\n  #textLayer = null;\n  #uiManager;\n\n  constructor(options) {\n    this.pdfPage = options.pdfPage;\n    this.accessibilityManager = options.accessibilityManager;\n    this.l10n = options.l10n;\n    this.l10n ||= new genericl10n_GenericL10n();\n    this.annotationEditorLayer = null;\n    this.div = null;\n    this._cancelled = false;\n    this.#uiManager = options.uiManager;\n    this.#annotationLayer = options.annotationLayer || null;\n    this.#textLayer = options.textLayer || null;\n    this.#drawLayer = options.drawLayer || null;\n    this.#onAppend = options.onAppend || null;\n  }\n\n  render(viewport, intent = \"display\") {\n    var _this14 = this;\n\n    return _asyncToGenerator(function* () {\n      if (intent !== \"display\") {\n        return;\n      }\n\n      if (_this14._cancelled) {\n        return;\n      }\n\n      const clonedViewport = viewport.clone({\n        dontFlip: true\n      });\n\n      if (_this14.div) {\n        _this14.annotationEditorLayer.update({\n          viewport: clonedViewport\n        });\n\n        _this14.show();\n\n        return;\n      }\n\n      const div = _this14.div = document.createElement(\"div\");\n      div.className = \"annotationEditorLayer\";\n      div.hidden = true;\n      div.dir = _this14.#uiManager.direction;\n      _this14.#onAppend?.(div);\n      _this14.annotationEditorLayer = new AnnotationEditorLayer({\n        uiManager: _this14.#uiManager,\n        div,\n        accessibilityManager: _this14.accessibilityManager,\n        pageIndex: _this14.pdfPage.pageNumber - 1,\n        l10n: _this14.l10n,\n        viewport: clonedViewport,\n        annotationLayer: _this14.#annotationLayer,\n        textLayer: _this14.#textLayer,\n        drawLayer: _this14.#drawLayer\n      });\n      const parameters = {\n        viewport: clonedViewport,\n        div,\n        annotations: null,\n        intent\n      };\n\n      _this14.annotationEditorLayer.render(parameters);\n\n      _this14.show();\n    })();\n  }\n\n  cancel() {\n    this._cancelled = true;\n\n    if (!this.div) {\n      return;\n    }\n\n    this.annotationEditorLayer.destroy();\n  }\n\n  hide() {\n    if (!this.div) {\n      return;\n    }\n\n    this.div.hidden = true;\n  }\n\n  show() {\n    if (!this.div || this.annotationEditorLayer.isInvisible) {\n      return;\n    }\n\n    this.div.hidden = false;\n  }\n\n}\n\n; // CONCATENATED MODULE: ./web/app_options.js\n\n{\n  var compatParams = new Map();\n  const userAgent = navigator.userAgent || \"\";\n  const platform = navigator.platform || \"\";\n  const maxTouchPoints = navigator.maxTouchPoints || 1;\n  const isAndroid = /Android/.test(userAgent);\n  const isIOS = /\\b(iPad|iPhone|iPod)(?=;)/.test(userAgent) || platform === \"MacIntel\" && maxTouchPoints > 1;\n\n  (function () {\n    if (isIOS || isAndroid) {\n      compatParams.set(\"maxCanvasPixels\", 5242880);\n    }\n  })();\n\n  (function () {\n    if (isAndroid) {\n      compatParams.set(\"useSystemFonts\", false);\n    }\n  })();\n}\nconst OptionKind = {\n  BROWSER: 0x01,\n  VIEWER: 0x02,\n  API: 0x04,\n  WORKER: 0x08,\n  EVENT_DISPATCH: 0x10,\n  PREFERENCE: 0x80\n};\nconst Type = {\n  BOOLEAN: 0x01,\n  NUMBER: 0x02,\n  OBJECT: 0x04,\n  STRING: 0x08,\n  UNDEFINED: 0x10\n};\nconst defaultOptions = {\n  allowedGlobalEvents: {\n    value: null,\n    kind: OptionKind.BROWSER\n  },\n  canvasMaxAreaInBytes: {\n    value: -1,\n    kind: OptionKind.BROWSER + OptionKind.API\n  },\n  isInAutomation: {\n    value: false,\n    kind: OptionKind.BROWSER\n  },\n  localeProperties: {\n    value: {\n      lang: navigator.language || \"en-US\"\n    },\n    kind: OptionKind.BROWSER\n  },\n  nimbusDataStr: {\n    value: \"\",\n    kind: OptionKind.BROWSER\n  },\n  supportsCaretBrowsingMode: {\n    value: false,\n    kind: OptionKind.BROWSER\n  },\n  supportsDocumentFonts: {\n    value: true,\n    kind: OptionKind.BROWSER\n  },\n  supportsIntegratedFind: {\n    value: false,\n    kind: OptionKind.BROWSER\n  },\n  supportsMouseWheelZoomCtrlKey: {\n    value: true,\n    kind: OptionKind.BROWSER\n  },\n  supportsMouseWheelZoomMetaKey: {\n    value: true,\n    kind: OptionKind.BROWSER\n  },\n  supportsPinchToZoom: {\n    value: true,\n    kind: OptionKind.BROWSER\n  },\n  toolbarDensity: {\n    value: 0,\n    kind: OptionKind.BROWSER + OptionKind.EVENT_DISPATCH\n  },\n  altTextLearnMoreUrl: {\n    value: \"\",\n    kind: OptionKind.VIEWER + OptionKind.PREFERENCE\n  },\n  annotationEditorMode: {\n    value: 0,\n    kind: OptionKind.VIEWER + OptionKind.PREFERENCE\n  },\n  annotationMode: {\n    value: 2,\n    kind: OptionKind.VIEWER + OptionKind.PREFERENCE\n  },\n  cursorToolOnLoad: {\n    value: 0,\n    kind: OptionKind.VIEWER + OptionKind.PREFERENCE\n  },\n  debuggerSrc: {\n    value: \"./debugger.mjs\",\n    kind: OptionKind.VIEWER\n  },\n  defaultZoomDelay: {\n    value: 400,\n    kind: OptionKind.VIEWER + OptionKind.PREFERENCE\n  },\n  defaultZoomValue: {\n    value: \"\",\n    kind: OptionKind.VIEWER + OptionKind.PREFERENCE\n  },\n  disableHistory: {\n    value: false,\n    kind: OptionKind.VIEWER\n  },\n  disablePageLabels: {\n    value: false,\n    kind: OptionKind.VIEWER + OptionKind.PREFERENCE\n  },\n  enableAltText: {\n    value: false,\n    kind: OptionKind.VIEWER + OptionKind.PREFERENCE\n  },\n  enableAltTextModelDownload: {\n    value: true,\n    kind: OptionKind.VIEWER + OptionKind.PREFERENCE + OptionKind.EVENT_DISPATCH\n  },\n  enableGuessAltText: {\n    value: true,\n    kind: OptionKind.VIEWER + OptionKind.PREFERENCE + OptionKind.EVENT_DISPATCH\n  },\n  enableHighlightFloatingButton: {\n    value: false,\n    kind: OptionKind.VIEWER + OptionKind.PREFERENCE\n  },\n  enableNewAltTextWhenAddingImage: {\n    value: true,\n    kind: OptionKind.VIEWER + OptionKind.PREFERENCE\n  },\n  enablePermissions: {\n    value: false,\n    kind: OptionKind.VIEWER + OptionKind.PREFERENCE\n  },\n  enablePrintAutoRotate: {\n    value: true,\n    kind: OptionKind.VIEWER + OptionKind.PREFERENCE\n  },\n  enableScripting: {\n    value: true,\n    kind: OptionKind.VIEWER + OptionKind.PREFERENCE\n  },\n  enableUpdatedAddImage: {\n    value: false,\n    kind: OptionKind.VIEWER + OptionKind.PREFERENCE\n  },\n  externalLinkRel: {\n    value: \"noopener noreferrer nofollow\",\n    kind: OptionKind.VIEWER\n  },\n  externalLinkTarget: {\n    value: 0,\n    kind: OptionKind.VIEWER + OptionKind.PREFERENCE\n  },\n  highlightEditorColors: {\n    value: \"yellow=#FFFF98,green=#53FFBC,blue=#80EBFF,pink=#FFCBE6,red=#FF4F5F\",\n    kind: OptionKind.VIEWER + OptionKind.PREFERENCE\n  },\n  historyUpdateUrl: {\n    value: false,\n    kind: OptionKind.VIEWER + OptionKind.PREFERENCE\n  },\n  ignoreDestinationZoom: {\n    value: false,\n    kind: OptionKind.VIEWER + OptionKind.PREFERENCE\n  },\n  imageResourcesPath: {\n    value: \"./images/\",\n    kind: OptionKind.VIEWER\n  },\n  maxCanvasPixels: {\n    value: 2 ** 25,\n    kind: OptionKind.VIEWER\n  },\n  forcePageColors: {\n    value: false,\n    kind: OptionKind.VIEWER + OptionKind.PREFERENCE\n  },\n  pageColorsBackground: {\n    value: \"Canvas\",\n    kind: OptionKind.VIEWER + OptionKind.PREFERENCE\n  },\n  pageColorsForeground: {\n    value: \"CanvasText\",\n    kind: OptionKind.VIEWER + OptionKind.PREFERENCE\n  },\n  pdfBugEnabled: {\n    value: false,\n    kind: OptionKind.VIEWER + OptionKind.PREFERENCE\n  },\n  printResolution: {\n    value: 150,\n    kind: OptionKind.VIEWER\n  },\n  sidebarViewOnLoad: {\n    value: -1,\n    kind: OptionKind.VIEWER + OptionKind.PREFERENCE\n  },\n  scrollModeOnLoad: {\n    value: -1,\n    kind: OptionKind.VIEWER + OptionKind.PREFERENCE\n  },\n  spreadModeOnLoad: {\n    value: -1,\n    kind: OptionKind.VIEWER + OptionKind.PREFERENCE\n  },\n  textLayerMode: {\n    value: 1,\n    kind: OptionKind.VIEWER + OptionKind.PREFERENCE\n  },\n  viewOnLoad: {\n    value: 0,\n    kind: OptionKind.VIEWER + OptionKind.PREFERENCE\n  },\n  cMapPacked: {\n    value: true,\n    kind: OptionKind.API\n  },\n  cMapUrl: {\n    value: \"../web/cmaps/\",\n    kind: OptionKind.API\n  },\n  disableAutoFetch: {\n    value: false,\n    kind: OptionKind.API + OptionKind.PREFERENCE\n  },\n  disableFontFace: {\n    value: false,\n    kind: OptionKind.API + OptionKind.PREFERENCE\n  },\n  disableRange: {\n    value: false,\n    kind: OptionKind.API + OptionKind.PREFERENCE\n  },\n  disableStream: {\n    value: false,\n    kind: OptionKind.API + OptionKind.PREFERENCE\n  },\n  docBaseUrl: {\n    value: \"\",\n    kind: OptionKind.API\n  },\n  enableHWA: {\n    value: true,\n    kind: OptionKind.API + OptionKind.VIEWER + OptionKind.PREFERENCE\n  },\n  enableXfa: {\n    value: true,\n    kind: OptionKind.API + OptionKind.PREFERENCE\n  },\n  fontExtraProperties: {\n    value: false,\n    kind: OptionKind.API\n  },\n  isEvalSupported: {\n    value: true,\n    kind: OptionKind.API\n  },\n  isOffscreenCanvasSupported: {\n    value: true,\n    kind: OptionKind.API\n  },\n  maxImageSize: {\n    value: -1,\n    kind: OptionKind.API\n  },\n  pdfBug: {\n    value: false,\n    kind: OptionKind.API\n  },\n  standardFontDataUrl: {\n    value: \"../web/standard_fonts/\",\n    kind: OptionKind.API\n  },\n  useSystemFonts: {\n    value: undefined,\n    kind: OptionKind.API,\n    type: Type.BOOLEAN + Type.UNDEFINED\n  },\n  verbosity: {\n    value: 1,\n    kind: OptionKind.API\n  },\n  workerPort: {\n    value: null,\n    kind: OptionKind.WORKER\n  },\n  workerSrc: {\n    value: \"../build/pdf.worker.mjs\",\n    kind: OptionKind.WORKER\n  }\n};\n{\n  defaultOptions.defaultUrl = {\n    value: \"compressed.tracemonkey-pldi-09.pdf\",\n    kind: OptionKind.VIEWER\n  };\n  defaultOptions.sandboxBundleSrc = {\n    value: \"../build/pdf.sandbox.mjs\",\n    kind: OptionKind.VIEWER\n  };\n  defaultOptions.viewerCssTheme = {\n    value: 0,\n    kind: OptionKind.VIEWER + OptionKind.PREFERENCE\n  };\n  defaultOptions.enableFakeMLManager = {\n    value: true,\n    kind: OptionKind.VIEWER\n  };\n}\n{\n  defaultOptions.disablePreferences = {\n    value: false,\n    kind: OptionKind.VIEWER\n  };\n}\n\nclass AppOptions {\n  static eventBus;\n  static #opts = new Map();\n  static {\n    for (const name in defaultOptions) {\n      this.#opts.set(name, defaultOptions[name].value);\n    }\n\n    for (const [name, value] of compatParams) {\n      this.#opts.set(name, value);\n    }\n\n    this._hasInvokedSet = false;\n\n    this._checkDisablePreferences = () => {\n      if (this.get(\"disablePreferences\")) {\n        return true;\n      }\n\n      if (this._hasInvokedSet) {\n        console.warn(\"The Preferences may override manually set AppOptions; \" + 'please use the \"disablePreferences\"-option to prevent that.');\n      }\n\n      return false;\n    };\n\n  }\n\n  static get(name) {\n    return this.#opts.get(name);\n  }\n\n  static getAll(kind = null, defaultOnly = false) {\n    const options = Object.create(null);\n\n    for (const name in defaultOptions) {\n      const defaultOpt = defaultOptions[name];\n\n      if (kind && !(kind & defaultOpt.kind)) {\n        continue;\n      }\n\n      options[name] = !defaultOnly ? this.#opts.get(name) : defaultOpt.value;\n    }\n\n    return options;\n  }\n\n  static set(name, value) {\n    this.setAll({\n      [name]: value\n    });\n  }\n\n  static setAll(options, prefs = false) {\n    this._hasInvokedSet ||= true;\n    let events;\n\n    for (const name in options) {\n      const defaultOpt = defaultOptions[name],\n            userOpt = options[name];\n\n      if (!defaultOpt || !(typeof userOpt === typeof defaultOpt.value || Type[(typeof userOpt).toUpperCase()] & defaultOpt.type)) {\n        continue;\n      }\n\n      const {\n        kind\n      } = defaultOpt;\n\n      if (prefs && !(kind & OptionKind.BROWSER || kind & OptionKind.PREFERENCE)) {\n        continue;\n      }\n\n      if (this.eventBus && kind & OptionKind.EVENT_DISPATCH) {\n        (events ||= new Map()).set(name, userOpt);\n      }\n\n      this.#opts.set(name, userOpt);\n    }\n\n    if (events) {\n      for (const [name, value] of events) {\n        this.eventBus.dispatch(name.toLowerCase(), {\n          source: this,\n          value\n        });\n      }\n    }\n  }\n\n}\n\n; // CONCATENATED MODULE: ./web/draw_layer_builder.js\n\nclass DrawLayerBuilder {\n  #drawLayer = null;\n\n  constructor(options) {\n    this.pageIndex = options.pageIndex;\n  }\n\n  render(intent = \"display\") {\n    var _this15 = this;\n\n    return _asyncToGenerator(function* () {\n      if (intent !== \"display\" || _this15.#drawLayer || _this15._cancelled) {\n        return;\n      }\n\n      _this15.#drawLayer = new DrawLayer({\n        pageIndex: _this15.pageIndex\n      });\n    })();\n  }\n\n  cancel() {\n    this._cancelled = true;\n\n    if (!this.#drawLayer) {\n      return;\n    }\n\n    this.#drawLayer.destroy();\n    this.#drawLayer = null;\n  }\n\n  setParent(parent) {\n    this.#drawLayer?.setParent(parent);\n  }\n\n  getDrawLayer() {\n    return this.#drawLayer;\n  }\n\n}\n\n; // CONCATENATED MODULE: ./web/struct_tree_layer_builder.js\n\nconst PDF_ROLE_TO_HTML_ROLE = {\n  Document: null,\n  DocumentFragment: null,\n  Part: \"group\",\n  Sect: \"group\",\n  Div: \"group\",\n  Aside: \"note\",\n  NonStruct: \"none\",\n  P: null,\n  H: \"heading\",\n  Title: null,\n  FENote: \"note\",\n  Sub: \"group\",\n  Lbl: null,\n  Span: null,\n  Em: null,\n  Strong: null,\n  Link: \"link\",\n  Annot: \"note\",\n  Form: \"form\",\n  Ruby: null,\n  RB: null,\n  RT: null,\n  RP: null,\n  Warichu: null,\n  WT: null,\n  WP: null,\n  L: \"list\",\n  LI: \"listitem\",\n  LBody: null,\n  Table: \"table\",\n  TR: \"row\",\n  TH: \"columnheader\",\n  TD: \"cell\",\n  THead: \"columnheader\",\n  TBody: null,\n  TFoot: null,\n  Caption: null,\n  Figure: \"figure\",\n  Formula: null,\n  Artifact: null\n};\nconst HEADING_PATTERN = /^H(\\d+)$/;\n\nclass StructTreeLayerBuilder {\n  #treeDom = undefined;\n\n  get renderingDone() {\n    return this.#treeDom !== undefined;\n  }\n\n  render(structTree) {\n    if (this.#treeDom !== undefined) {\n      return this.#treeDom;\n    }\n\n    const treeDom = this.#walk(structTree);\n    treeDom?.classList.add(\"structTree\");\n    return this.#treeDom = treeDom;\n  }\n\n  hide() {\n    if (this.#treeDom && !this.#treeDom.hidden) {\n      this.#treeDom.hidden = true;\n    }\n  }\n\n  show() {\n    if (this.#treeDom?.hidden) {\n      this.#treeDom.hidden = false;\n    }\n  }\n\n  #setAttributes(structElement, htmlElement) {\n    const {\n      alt,\n      id,\n      lang\n    } = structElement;\n\n    if (alt !== undefined) {\n      htmlElement.setAttribute(\"aria-label\", removeNullCharacters(alt));\n    }\n\n    if (id !== undefined) {\n      htmlElement.setAttribute(\"aria-owns\", id);\n    }\n\n    if (lang !== undefined) {\n      htmlElement.setAttribute(\"lang\", removeNullCharacters(lang, true));\n    }\n  }\n\n  #walk(node) {\n    if (!node) {\n      return null;\n    }\n\n    const element = document.createElement(\"span\");\n\n    if (\"role\" in node) {\n      const {\n        role\n      } = node;\n      const match = role.match(HEADING_PATTERN);\n\n      if (match) {\n        element.setAttribute(\"role\", \"heading\");\n        element.setAttribute(\"aria-level\", match[1]);\n      } else if (PDF_ROLE_TO_HTML_ROLE[role]) {\n        element.setAttribute(\"role\", PDF_ROLE_TO_HTML_ROLE[role]);\n      }\n    }\n\n    this.#setAttributes(node, element);\n\n    if (node.children) {\n      if (node.children.length === 1 && \"id\" in node.children[0]) {\n        this.#setAttributes(node.children[0], element);\n      } else {\n        for (const kid of node.children) {\n          element.append(this.#walk(kid));\n        }\n      }\n    }\n\n    return element;\n  }\n\n}\n\n; // CONCATENATED MODULE: ./web/text_accessibility.js\n\nclass TextAccessibilityManager {\n  #enabled = false;\n  #textChildren = null;\n  #textNodes = new Map();\n  #waitingElements = new Map();\n\n  setTextMapping(textDivs) {\n    this.#textChildren = textDivs;\n  }\n\n  static #compareElementPositions(e1, e2) {\n    const rect1 = e1.getBoundingClientRect();\n    const rect2 = e2.getBoundingClientRect();\n\n    if (rect1.width === 0 && rect1.height === 0) {\n      return +1;\n    }\n\n    if (rect2.width === 0 && rect2.height === 0) {\n      return -1;\n    }\n\n    const top1 = rect1.y;\n    const bot1 = rect1.y + rect1.height;\n    const mid1 = rect1.y + rect1.height / 2;\n    const top2 = rect2.y;\n    const bot2 = rect2.y + rect2.height;\n    const mid2 = rect2.y + rect2.height / 2;\n\n    if (mid1 <= top2 && mid2 >= bot1) {\n      return -1;\n    }\n\n    if (mid2 <= top1 && mid1 >= bot2) {\n      return +1;\n    }\n\n    const centerX1 = rect1.x + rect1.width / 2;\n    const centerX2 = rect2.x + rect2.width / 2;\n    return centerX1 - centerX2;\n  }\n\n  enable() {\n    if (this.#enabled) {\n      throw new Error(\"TextAccessibilityManager is already enabled.\");\n    }\n\n    if (!this.#textChildren) {\n      throw new Error(\"Text divs and strings have not been set.\");\n    }\n\n    this.#enabled = true;\n    this.#textChildren = this.#textChildren.slice();\n    this.#textChildren.sort(TextAccessibilityManager.#compareElementPositions);\n\n    if (this.#textNodes.size > 0) {\n      const textChildren = this.#textChildren;\n\n      for (const [id, nodeIndex] of this.#textNodes) {\n        const element = document.getElementById(id);\n\n        if (!element) {\n          this.#textNodes.delete(id);\n          continue;\n        }\n\n        this.#addIdToAriaOwns(id, textChildren[nodeIndex]);\n      }\n    }\n\n    for (const [element, isRemovable] of this.#waitingElements) {\n      this.addPointerInTextLayer(element, isRemovable);\n    }\n\n    this.#waitingElements.clear();\n  }\n\n  disable() {\n    if (!this.#enabled) {\n      return;\n    }\n\n    this.#waitingElements.clear();\n    this.#textChildren = null;\n    this.#enabled = false;\n  }\n\n  removePointerInTextLayer(element) {\n    if (!this.#enabled) {\n      this.#waitingElements.delete(element);\n      return;\n    }\n\n    const children = this.#textChildren;\n\n    if (!children || children.length === 0) {\n      return;\n    }\n\n    const {\n      id\n    } = element;\n    const nodeIndex = this.#textNodes.get(id);\n\n    if (nodeIndex === undefined) {\n      return;\n    }\n\n    const node = children[nodeIndex];\n    this.#textNodes.delete(id);\n    let owns = node.getAttribute(\"aria-owns\");\n\n    if (owns?.includes(id)) {\n      owns = owns.split(\" \").filter(x => x !== id).join(\" \");\n\n      if (owns) {\n        node.setAttribute(\"aria-owns\", owns);\n      } else {\n        node.removeAttribute(\"aria-owns\");\n        node.setAttribute(\"role\", \"presentation\");\n      }\n    }\n  }\n\n  #addIdToAriaOwns(id, node) {\n    const owns = node.getAttribute(\"aria-owns\");\n\n    if (!owns?.includes(id)) {\n      node.setAttribute(\"aria-owns\", owns ? `${owns} ${id}` : id);\n    }\n\n    node.removeAttribute(\"role\");\n  }\n\n  addPointerInTextLayer(element, isRemovable) {\n    const {\n      id\n    } = element;\n\n    if (!id) {\n      return null;\n    }\n\n    if (!this.#enabled) {\n      this.#waitingElements.set(element, isRemovable);\n      return null;\n    }\n\n    if (isRemovable) {\n      this.removePointerInTextLayer(element);\n    }\n\n    const children = this.#textChildren;\n\n    if (!children || children.length === 0) {\n      return null;\n    }\n\n    const index = binarySearchFirstItem(children, node => TextAccessibilityManager.#compareElementPositions(element, node) < 0);\n    const nodeIndex = Math.max(0, index - 1);\n    const child = children[nodeIndex];\n    this.#addIdToAriaOwns(id, child);\n    this.#textNodes.set(id, nodeIndex);\n    const parent = child.parentNode;\n    return parent?.classList.contains(\"markedContent\") ? parent.id : null;\n  }\n\n  moveElementInDOM(container, element, contentElement, isRemovable) {\n    const id = this.addPointerInTextLayer(contentElement, isRemovable);\n\n    if (!container.hasChildNodes()) {\n      container.append(element);\n      return id;\n    }\n\n    const children = Array.from(container.childNodes).filter(node => node !== element);\n\n    if (children.length === 0) {\n      return id;\n    }\n\n    const elementToCompare = contentElement || element;\n    const index = binarySearchFirstItem(children, node => TextAccessibilityManager.#compareElementPositions(elementToCompare, node) < 0);\n\n    if (index === 0) {\n      children[0].before(element);\n    } else {\n      children[index - 1].after(element);\n    }\n\n    return id;\n  }\n\n}\n\n; // CONCATENATED MODULE: ./web/text_highlighter.js\n\nclass TextHighlighter {\n  #eventAbortController = null;\n\n  constructor({\n    findController,\n    eventBus,\n    pageIndex\n  }) {\n    this.findController = findController;\n    this.matches = [];\n    this.eventBus = eventBus;\n    this.pageIdx = pageIndex;\n    this.textDivs = null;\n    this.textContentItemsStr = null;\n    this.enabled = false;\n  }\n\n  setTextMapping(divs, texts) {\n    this.textDivs = divs;\n    this.textContentItemsStr = texts;\n  }\n\n  enable() {\n    if (!this.textDivs || !this.textContentItemsStr) {\n      throw new Error(\"Text divs and strings have not been set.\");\n    }\n\n    if (this.enabled) {\n      throw new Error(\"TextHighlighter is already enabled.\");\n    }\n\n    this.enabled = true;\n\n    if (!this.#eventAbortController) {\n      this.#eventAbortController = new AbortController();\n\n      this.eventBus._on(\"updatetextlayermatches\", evt => {\n        if (evt.pageIndex === this.pageIdx || evt.pageIndex === -1) {\n          this._updateMatches();\n        }\n      }, {\n        signal: this.#eventAbortController.signal\n      });\n    }\n\n    this._updateMatches();\n  }\n\n  disable() {\n    if (!this.enabled) {\n      return;\n    }\n\n    this.enabled = false;\n    this.#eventAbortController?.abort();\n    this.#eventAbortController = null;\n\n    this._updateMatches(true);\n  }\n\n  _convertMatches(matches, matchesLength) {\n    if (!matches) {\n      return [];\n    }\n\n    const {\n      textContentItemsStr\n    } = this;\n    let i = 0,\n        iIndex = 0;\n    const end = textContentItemsStr.length - 1;\n    const result = [];\n\n    for (let m = 0, mm = matches.length; m < mm; m++) {\n      let matchIdx = matches[m];\n\n      while (i !== end && matchIdx >= iIndex + textContentItemsStr[i].length) {\n        iIndex += textContentItemsStr[i].length;\n        i++;\n      }\n\n      if (i === textContentItemsStr.length) {\n        console.error(\"Could not find a matching mapping\");\n      }\n\n      const match = {\n        begin: {\n          divIdx: i,\n          offset: matchIdx - iIndex\n        }\n      };\n      matchIdx += matchesLength[m];\n\n      while (i !== end && matchIdx > iIndex + textContentItemsStr[i].length) {\n        iIndex += textContentItemsStr[i].length;\n        i++;\n      }\n\n      match.end = {\n        divIdx: i,\n        offset: matchIdx - iIndex\n      };\n      result.push(match);\n    }\n\n    return result;\n  }\n\n  _renderMatches(matches) {\n    if (matches.length === 0) {\n      return;\n    }\n\n    const {\n      findController,\n      pageIdx\n    } = this;\n    const {\n      textContentItemsStr,\n      textDivs\n    } = this;\n    const isSelectedPage = pageIdx === findController.selected.pageIdx;\n    const selectedMatchIdx = findController.selected.matchIdx;\n    const highlightAll = findController.state.highlightAll;\n    let prevEnd = null;\n    const infinity = {\n      divIdx: -1,\n      offset: undefined\n    };\n\n    function beginText(begin, className) {\n      const divIdx = begin.divIdx;\n      textDivs[divIdx].textContent = \"\";\n      return appendTextToDiv(divIdx, 0, begin.offset, className);\n    }\n\n    function appendTextToDiv(divIdx, fromOffset, toOffset, className) {\n      let div = textDivs[divIdx];\n\n      if (div.nodeType === Node.TEXT_NODE) {\n        const span = document.createElement(\"span\");\n        div.before(span);\n        span.append(div);\n        textDivs[divIdx] = span;\n        div = span;\n      }\n\n      const content = textContentItemsStr[divIdx].substring(fromOffset, toOffset);\n      const node = document.createTextNode(content);\n\n      if (className) {\n        const span = document.createElement(\"span\");\n        span.className = `${className} appended`;\n        span.append(node);\n        div.append(span);\n        return className.includes(\"selected\") ? span.offsetLeft : 0;\n      }\n\n      div.append(node);\n      return 0;\n    }\n\n    let i0 = selectedMatchIdx,\n        i1 = i0 + 1;\n\n    if (highlightAll) {\n      i0 = 0;\n      i1 = matches.length;\n    } else if (!isSelectedPage) {\n      return;\n    }\n\n    let lastDivIdx = -1;\n    let lastOffset = -1;\n\n    for (let i = i0; i < i1; i++) {\n      const match = matches[i];\n      const begin = match.begin;\n\n      if (begin.divIdx === lastDivIdx && begin.offset === lastOffset) {\n        continue;\n      }\n\n      lastDivIdx = begin.divIdx;\n      lastOffset = begin.offset;\n      const end = match.end;\n      const isSelected = isSelectedPage && i === selectedMatchIdx;\n      const highlightSuffix = isSelected ? \" selected\" : \"\";\n      let selectedLeft = 0;\n\n      if (!prevEnd || begin.divIdx !== prevEnd.divIdx) {\n        if (prevEnd !== null) {\n          appendTextToDiv(prevEnd.divIdx, prevEnd.offset, infinity.offset);\n        }\n\n        beginText(begin);\n      } else {\n        appendTextToDiv(prevEnd.divIdx, prevEnd.offset, begin.offset);\n      }\n\n      if (begin.divIdx === end.divIdx) {\n        selectedLeft = appendTextToDiv(begin.divIdx, begin.offset, end.offset, \"highlight\" + highlightSuffix);\n      } else {\n        selectedLeft = appendTextToDiv(begin.divIdx, begin.offset, infinity.offset, \"highlight begin\" + highlightSuffix);\n\n        for (let n0 = begin.divIdx + 1, n1 = end.divIdx; n0 < n1; n0++) {\n          textDivs[n0].className = \"highlight middle\" + highlightSuffix;\n        }\n\n        beginText(end, \"highlight end\" + highlightSuffix);\n      }\n\n      prevEnd = end;\n\n      if (isSelected) {\n        findController.scrollMatchIntoView({\n          element: textDivs[begin.divIdx],\n          selectedLeft,\n          pageIndex: pageIdx,\n          matchIndex: selectedMatchIdx\n        });\n      }\n    }\n\n    if (prevEnd) {\n      appendTextToDiv(prevEnd.divIdx, prevEnd.offset, infinity.offset);\n    }\n  }\n\n  _updateMatches(reset = false) {\n    if (!this.enabled && !reset) {\n      return;\n    }\n\n    const {\n      findController,\n      matches,\n      pageIdx\n    } = this;\n    const {\n      textContentItemsStr,\n      textDivs\n    } = this;\n    let clearedUntilDivIdx = -1;\n\n    for (const match of matches) {\n      const begin = Math.max(clearedUntilDivIdx, match.begin.divIdx);\n\n      for (let n = begin, end = match.end.divIdx; n <= end; n++) {\n        const div = textDivs[n];\n        div.textContent = textContentItemsStr[n];\n        div.className = \"\";\n      }\n\n      clearedUntilDivIdx = match.end.divIdx + 1;\n    }\n\n    if (!findController?.highlightMatches || reset) {\n      return;\n    }\n\n    const pageMatches = findController.pageMatches[pageIdx] || null;\n    const pageMatchesLength = findController.pageMatchesLength[pageIdx] || null;\n    this.matches = this._convertMatches(pageMatches, pageMatchesLength);\n\n    this._renderMatches(this.matches);\n  }\n\n}\n\n; // CONCATENATED MODULE: ./web/text_layer_builder.js\n\nclass TextLayerBuilder {\n  #enablePermissions = false;\n  #onAppend = null;\n  #renderingDone = false;\n  #textLayer = null;\n  static #textLayers = new Map();\n  static #selectionChangeAbortController = null;\n\n  constructor({\n    pdfPage,\n    highlighter = null,\n    accessibilityManager = null,\n    enablePermissions = false,\n    onAppend = null\n  }) {\n    this.pdfPage = pdfPage;\n    this.highlighter = highlighter;\n    this.accessibilityManager = accessibilityManager;\n    this.#enablePermissions = enablePermissions === true;\n    this.#onAppend = onAppend;\n    this.div = document.createElement(\"div\");\n    this.div.tabIndex = 0;\n    this.div.className = \"textLayer\";\n  }\n\n  render(viewport, textContentParams = null) {\n    var _this16 = this;\n\n    return _asyncToGenerator(function* () {\n      if (_this16.#renderingDone && _this16.#textLayer) {\n        _this16.#textLayer.update({\n          viewport,\n          onBefore: _this16.hide.bind(_this16)\n        });\n\n        _this16.show();\n\n        return;\n      }\n\n      _this16.cancel();\n\n      _this16.#textLayer = new TextLayer({\n        textContentSource: _this16.pdfPage.streamTextContent(textContentParams || {\n          includeMarkedContent: true,\n          disableNormalization: true\n        }),\n        container: _this16.div,\n        viewport\n      });\n      const {\n        textDivs,\n        textContentItemsStr\n      } = _this16.#textLayer;\n      _this16.highlighter?.setTextMapping(textDivs, textContentItemsStr);\n      _this16.accessibilityManager?.setTextMapping(textDivs);\n      yield _this16.#textLayer.render();\n      _this16.#renderingDone = true;\n      const endOfContent = document.createElement(\"div\");\n      endOfContent.className = \"endOfContent\";\n\n      _this16.div.append(endOfContent);\n\n      _this16.#bindMouse(endOfContent);\n\n      _this16.#onAppend?.(_this16.div);\n      _this16.highlighter?.enable();\n      _this16.accessibilityManager?.enable();\n    })();\n  }\n\n  hide() {\n    if (!this.div.hidden && this.#renderingDone) {\n      this.highlighter?.disable();\n      this.div.hidden = true;\n    }\n  }\n\n  show() {\n    if (this.div.hidden && this.#renderingDone) {\n      this.div.hidden = false;\n      this.highlighter?.enable();\n    }\n  }\n\n  cancel() {\n    this.#textLayer?.cancel();\n    this.#textLayer = null;\n    this.highlighter?.disable();\n    this.accessibilityManager?.disable();\n    TextLayerBuilder.#removeGlobalSelectionListener(this.div);\n  }\n\n  #bindMouse(end) {\n    const {\n      div\n    } = this;\n    div.addEventListener(\"mousedown\", () => {\n      div.classList.add(\"selecting\");\n    });\n    div.addEventListener(\"copy\", event => {\n      if (!this.#enablePermissions) {\n        const selection = document.getSelection();\n        event.clipboardData.setData(\"text/plain\", removeNullCharacters(normalizeUnicode(selection.toString())));\n      }\n\n      event.preventDefault();\n      event.stopPropagation();\n    });\n    TextLayerBuilder.#textLayers.set(div, end);\n    TextLayerBuilder.#enableGlobalSelectionListener();\n  }\n\n  static #removeGlobalSelectionListener(textLayerDiv) {\n    this.#textLayers.delete(textLayerDiv);\n\n    if (this.#textLayers.size === 0) {\n      this.#selectionChangeAbortController?.abort();\n      this.#selectionChangeAbortController = null;\n    }\n  }\n\n  static #enableGlobalSelectionListener() {\n    if (this.#selectionChangeAbortController) {\n      return;\n    }\n\n    this.#selectionChangeAbortController = new AbortController();\n    const {\n      signal\n    } = this.#selectionChangeAbortController;\n\n    const reset = (end, textLayer) => {\n      textLayer.append(end);\n      end.style.width = \"\";\n      end.style.height = \"\";\n      textLayer.classList.remove(\"selecting\");\n    };\n\n    let isPointerDown = false;\n    document.addEventListener(\"pointerdown\", () => {\n      isPointerDown = true;\n    }, {\n      signal\n    });\n    document.addEventListener(\"pointerup\", () => {\n      isPointerDown = false;\n      this.#textLayers.forEach(reset);\n    }, {\n      signal\n    });\n    window.addEventListener(\"blur\", () => {\n      isPointerDown = false;\n      this.#textLayers.forEach(reset);\n    }, {\n      signal\n    });\n    document.addEventListener(\"keyup\", () => {\n      if (!isPointerDown) {\n        this.#textLayers.forEach(reset);\n      }\n    }, {\n      signal\n    });\n    var isFirefox, prevRange;\n    document.addEventListener(\"selectionchange\", () => {\n      const selection = document.getSelection();\n\n      if (selection.rangeCount === 0) {\n        this.#textLayers.forEach(reset);\n        return;\n      }\n\n      const activeTextLayers = new Set();\n\n      for (let i = 0; i < selection.rangeCount; i++) {\n        const range = selection.getRangeAt(i);\n\n        for (const textLayerDiv of this.#textLayers.keys()) {\n          if (!activeTextLayers.has(textLayerDiv) && range.intersectsNode(textLayerDiv)) {\n            activeTextLayers.add(textLayerDiv);\n          }\n        }\n      }\n\n      for (const [textLayerDiv, endDiv] of this.#textLayers) {\n        if (activeTextLayers.has(textLayerDiv)) {\n          textLayerDiv.classList.add(\"selecting\");\n        } else {\n          reset(endDiv, textLayerDiv);\n        }\n      }\n\n      isFirefox ??= getComputedStyle(this.#textLayers.values().next().value).getPropertyValue(\"-moz-user-select\") === \"none\";\n\n      if (isFirefox) {\n        return;\n      }\n\n      const range = selection.getRangeAt(0);\n      const modifyStart = prevRange && (range.compareBoundaryPoints(Range.END_TO_END, prevRange) === 0 || range.compareBoundaryPoints(Range.START_TO_END, prevRange) === 0);\n      let anchor = modifyStart ? range.startContainer : range.endContainer;\n\n      if (anchor.nodeType === Node.TEXT_NODE) {\n        anchor = anchor.parentNode;\n      }\n\n      const parentTextLayer = anchor.parentElement.closest(\".textLayer\");\n      const endDiv = this.#textLayers.get(parentTextLayer);\n\n      if (endDiv) {\n        endDiv.style.width = parentTextLayer.style.width;\n        endDiv.style.height = parentTextLayer.style.height;\n        anchor.parentElement.insertBefore(endDiv, modifyStart ? anchor : anchor.nextSibling);\n      }\n\n      prevRange = range.cloneRange();\n    }, {\n      signal\n    });\n  }\n\n}\n\n; // CONCATENATED MODULE: ./web/xfa_layer_builder.js\n\nclass XfaLayerBuilder {\n  constructor({\n    pdfPage,\n    annotationStorage = null,\n    linkService,\n    xfaHtml = null\n  }) {\n    this.pdfPage = pdfPage;\n    this.annotationStorage = annotationStorage;\n    this.linkService = linkService;\n    this.xfaHtml = xfaHtml;\n    this.div = null;\n    this._cancelled = false;\n  }\n\n  render(viewport, intent = \"display\") {\n    var _this17 = this;\n\n    return _asyncToGenerator(function* () {\n      if (intent === \"print\") {\n        const parameters = {\n          viewport: viewport.clone({\n            dontFlip: true\n          }),\n          div: _this17.div,\n          xfaHtml: _this17.xfaHtml,\n          annotationStorage: _this17.annotationStorage,\n          linkService: _this17.linkService,\n          intent\n        };\n        _this17.div = document.createElement(\"div\");\n        parameters.div = _this17.div;\n        return XfaLayer.render(parameters);\n      }\n\n      const xfaHtml = yield _this17.pdfPage.getXfa();\n\n      if (_this17._cancelled || !xfaHtml) {\n        return {\n          textDivs: []\n        };\n      }\n\n      const parameters = {\n        viewport: viewport.clone({\n          dontFlip: true\n        }),\n        div: _this17.div,\n        xfaHtml,\n        annotationStorage: _this17.annotationStorage,\n        linkService: _this17.linkService,\n        intent\n      };\n\n      if (_this17.div) {\n        return XfaLayer.update(parameters);\n      }\n\n      _this17.div = document.createElement(\"div\");\n      parameters.div = _this17.div;\n      return XfaLayer.render(parameters);\n    })();\n  }\n\n  cancel() {\n    this._cancelled = true;\n  }\n\n  hide() {\n    if (!this.div) {\n      return;\n    }\n\n    this.div.hidden = true;\n  }\n\n}\n\n; // CONCATENATED MODULE: ./web/pdf_page_view.js\n\nconst DEFAULT_LAYER_PROPERTIES = {\n  annotationEditorUIManager: null,\n  annotationStorage: null,\n  downloadManager: null,\n  enableScripting: false,\n  fieldObjectsPromise: null,\n  findController: null,\n  hasJSActionsPromise: null,\n\n  get linkService() {\n    return new SimpleLinkService();\n  }\n\n};\nconst LAYERS_ORDER = new Map([[\"canvasWrapper\", 0], [\"textLayer\", 1], [\"annotationLayer\", 2], [\"annotationEditorLayer\", 3], [\"xfaLayer\", 3]]);\n\nclass PDFPageView {\n  #annotationMode = AnnotationMode.ENABLE_FORMS;\n  #enableHWA = false;\n  #hasRestrictedScaling = false;\n  #isEditing = false;\n  #layerProperties = null;\n  #loadingId = null;\n  #previousRotation = null;\n  #renderError = null;\n  #renderingState = RenderingStates.INITIAL;\n  #textLayerMode = TextLayerMode.ENABLE;\n  #useThumbnailCanvas = {\n    directDrawing: true,\n    initialOptionalContent: true,\n    regularAnnotations: true\n  };\n  #viewportMap = new WeakMap();\n  #layers = [null, null, null, null];\n\n  constructor(options) {\n    const container = options.container;\n    const defaultViewport = options.defaultViewport;\n    this.id = options.id;\n    this.renderingId = \"page\" + this.id;\n    this.#layerProperties = options.layerProperties || DEFAULT_LAYER_PROPERTIES;\n    this.pdfPage = null;\n    this.pageLabel = null;\n    this.rotation = 0;\n    this.scale = options.scale || DEFAULT_SCALE;\n    this.viewport = defaultViewport;\n    this.pdfPageRotate = defaultViewport.rotation;\n    this._optionalContentConfigPromise = options.optionalContentConfigPromise || null;\n    this.#textLayerMode = options.textLayerMode ?? TextLayerMode.ENABLE;\n    this.#annotationMode = options.annotationMode ?? AnnotationMode.ENABLE_FORMS;\n    this.imageResourcesPath = options.imageResourcesPath || \"\";\n    this.maxCanvasPixels = options.maxCanvasPixels ?? AppOptions.get(\"maxCanvasPixels\");\n    this.pageColors = options.pageColors || null;\n    this.#enableHWA = options.enableHWA || false;\n    this.eventBus = options.eventBus;\n    this.renderingQueue = options.renderingQueue;\n    this.l10n = options.l10n;\n    this.l10n ||= new genericl10n_GenericL10n();\n    this.renderTask = null;\n    this.resume = null;\n    this._isStandalone = !this.renderingQueue?.hasViewer();\n    this._container = container;\n    this._annotationCanvasMap = null;\n    this.annotationLayer = null;\n    this.annotationEditorLayer = null;\n    this.textLayer = null;\n    this.zoomLayer = null;\n    this.xfaLayer = null;\n    this.structTreeLayer = null;\n    this.drawLayer = null;\n    const div = document.createElement(\"div\");\n    div.className = \"page\";\n    div.setAttribute(\"data-page-number\", this.id);\n    div.setAttribute(\"role\", \"region\");\n    div.setAttribute(\"data-l10n-id\", \"pdfjs-page-landmark\");\n    div.setAttribute(\"data-l10n-args\", JSON.stringify({\n      page: this.id\n    }));\n    this.div = div;\n    this.#setDimensions();\n    container?.append(div);\n\n    if (this._isStandalone) {\n      container?.style.setProperty(\"--scale-factor\", this.scale * PixelsPerInch.PDF_TO_CSS_UNITS);\n      const {\n        optionalContentConfigPromise\n      } = options;\n\n      if (optionalContentConfigPromise) {\n        optionalContentConfigPromise.then(optionalContentConfig => {\n          if (optionalContentConfigPromise !== this._optionalContentConfigPromise) {\n            return;\n          }\n\n          this.#useThumbnailCanvas.initialOptionalContent = optionalContentConfig.hasInitialVisibility;\n        });\n      }\n\n      if (!options.l10n) {\n        this.l10n.translate(this.div);\n      }\n    }\n  }\n\n  #addLayer(div, name) {\n    const pos = LAYERS_ORDER.get(name);\n    const oldDiv = this.#layers[pos];\n    this.#layers[pos] = div;\n\n    if (oldDiv) {\n      oldDiv.replaceWith(div);\n      return;\n    }\n\n    for (let i = pos - 1; i >= 0; i--) {\n      const layer = this.#layers[i];\n\n      if (layer) {\n        layer.after(div);\n        return;\n      }\n    }\n\n    this.div.prepend(div);\n  }\n\n  get renderingState() {\n    return this.#renderingState;\n  }\n\n  set renderingState(state) {\n    if (state === this.#renderingState) {\n      return;\n    }\n\n    this.#renderingState = state;\n\n    if (this.#loadingId) {\n      clearTimeout(this.#loadingId);\n      this.#loadingId = null;\n    }\n\n    switch (state) {\n      case RenderingStates.PAUSED:\n        this.div.classList.remove(\"loading\");\n        break;\n\n      case RenderingStates.RUNNING:\n        this.div.classList.add(\"loadingIcon\");\n        this.#loadingId = setTimeout(() => {\n          this.div.classList.add(\"loading\");\n          this.#loadingId = null;\n        }, 0);\n        break;\n\n      case RenderingStates.INITIAL:\n      case RenderingStates.FINISHED:\n        this.div.classList.remove(\"loadingIcon\", \"loading\");\n        break;\n    }\n  }\n\n  #setDimensions() {\n    const {\n      viewport\n    } = this;\n\n    if (this.pdfPage) {\n      if (this.#previousRotation === viewport.rotation) {\n        return;\n      }\n\n      this.#previousRotation = viewport.rotation;\n    }\n\n    setLayerDimensions(this.div, viewport, true, false);\n  }\n\n  setPdfPage(pdfPage) {\n    if (this._isStandalone && (this.pageColors?.foreground === \"CanvasText\" || this.pageColors?.background === \"Canvas\")) {\n      this._container?.style.setProperty(\"--hcm-highlight-filter\", pdfPage.filterFactory.addHighlightHCMFilter(\"highlight\", \"CanvasText\", \"Canvas\", \"HighlightText\", \"Highlight\"));\n      this._container?.style.setProperty(\"--hcm-highlight-selected-filter\", pdfPage.filterFactory.addHighlightHCMFilter(\"highlight_selected\", \"CanvasText\", \"Canvas\", \"HighlightText\", \"Highlight\"));\n    }\n\n    this.pdfPage = pdfPage;\n    this.pdfPageRotate = pdfPage.rotate;\n    const totalRotation = (this.rotation + this.pdfPageRotate) % 360;\n    this.viewport = pdfPage.getViewport({\n      scale: this.scale * PixelsPerInch.PDF_TO_CSS_UNITS,\n      rotation: totalRotation\n    });\n    this.#setDimensions();\n    this.reset();\n  }\n\n  destroy() {\n    this.reset();\n    this.pdfPage?.cleanup();\n  }\n\n  hasEditableAnnotations() {\n    return !!this.annotationLayer?.hasEditableAnnotations();\n  }\n\n  get _textHighlighter() {\n    return shadow(this, \"_textHighlighter\", new TextHighlighter({\n      pageIndex: this.id - 1,\n      eventBus: this.eventBus,\n      findController: this.#layerProperties.findController\n    }));\n  }\n\n  #dispatchLayerRendered(name, error) {\n    this.eventBus.dispatch(name, {\n      source: this,\n      pageNumber: this.id,\n      error\n    });\n  }\n\n  #renderAnnotationLayer() {\n    var _this18 = this;\n\n    return _asyncToGenerator(function* () {\n      let error = null;\n\n      try {\n        yield _this18.annotationLayer.render(_this18.viewport, \"display\");\n      } catch (ex) {\n        console.error(`#renderAnnotationLayer: \"${ex}\".`);\n        error = ex;\n      } finally {\n        _this18.#dispatchLayerRendered(\"annotationlayerrendered\", error);\n      }\n    })();\n  }\n\n  #renderAnnotationEditorLayer() {\n    var _this19 = this;\n\n    return _asyncToGenerator(function* () {\n      let error = null;\n\n      try {\n        yield _this19.annotationEditorLayer.render(_this19.viewport, \"display\");\n      } catch (ex) {\n        console.error(`#renderAnnotationEditorLayer: \"${ex}\".`);\n        error = ex;\n      } finally {\n        _this19.#dispatchLayerRendered(\"annotationeditorlayerrendered\", error);\n      }\n    })();\n  }\n\n  #renderDrawLayer() {\n    var _this20 = this;\n\n    return _asyncToGenerator(function* () {\n      try {\n        yield _this20.drawLayer.render(\"display\");\n      } catch (ex) {\n        console.error(`#renderDrawLayer: \"${ex}\".`);\n      }\n    })();\n  }\n\n  #renderXfaLayer() {\n    var _this21 = this;\n\n    return _asyncToGenerator(function* () {\n      let error = null;\n\n      try {\n        const result = yield _this21.xfaLayer.render(_this21.viewport, \"display\");\n\n        if (result?.textDivs && _this21._textHighlighter) {\n          _this21.#buildXfaTextContentItems(result.textDivs);\n        }\n      } catch (ex) {\n        console.error(`#renderXfaLayer: \"${ex}\".`);\n        error = ex;\n      } finally {\n        if (_this21.xfaLayer?.div) {\n          _this21.l10n.pause();\n\n          _this21.#addLayer(_this21.xfaLayer.div, \"xfaLayer\");\n\n          _this21.l10n.resume();\n        }\n\n        _this21.#dispatchLayerRendered(\"xfalayerrendered\", error);\n      }\n    })();\n  }\n\n  #renderTextLayer() {\n    var _this22 = this;\n\n    return _asyncToGenerator(function* () {\n      if (!_this22.textLayer) {\n        return;\n      }\n\n      let error = null;\n\n      try {\n        yield _this22.textLayer.render(_this22.viewport);\n      } catch (ex) {\n        if (ex instanceof AbortException) {\n          return;\n        }\n\n        console.error(`#renderTextLayer: \"${ex}\".`);\n        error = ex;\n      }\n\n      _this22.#dispatchLayerRendered(\"textlayerrendered\", error);\n\n      _this22.#renderStructTreeLayer();\n    })();\n  }\n\n  #renderStructTreeLayer() {\n    var _this23 = this;\n\n    return _asyncToGenerator(function* () {\n      if (!_this23.textLayer) {\n        return;\n      }\n\n      _this23.structTreeLayer ||= new StructTreeLayerBuilder();\n      const tree = yield !_this23.structTreeLayer.renderingDone ? _this23.pdfPage.getStructTree() : null;\n      const treeDom = _this23.structTreeLayer?.render(tree);\n\n      if (treeDom) {\n        _this23.l10n.pause();\n\n        _this23.canvas?.append(treeDom);\n\n        _this23.l10n.resume();\n      }\n\n      _this23.structTreeLayer?.show();\n    })();\n  }\n\n  #buildXfaTextContentItems(textDivs) {\n    var _this24 = this;\n\n    return _asyncToGenerator(function* () {\n      const text = yield _this24.pdfPage.getTextContent();\n      const items = [];\n\n      for (const item of text.items) {\n        items.push(item.str);\n      }\n\n      _this24._textHighlighter.setTextMapping(textDivs, items);\n\n      _this24._textHighlighter.enable();\n    })();\n  }\n\n  _resetZoomLayer(removeFromDOM = false) {\n    if (!this.zoomLayer) {\n      return;\n    }\n\n    const zoomLayerCanvas = this.zoomLayer.firstChild;\n    this.#viewportMap.delete(zoomLayerCanvas);\n    zoomLayerCanvas.width = 0;\n    zoomLayerCanvas.height = 0;\n\n    if (removeFromDOM) {\n      this.zoomLayer.remove();\n    }\n\n    this.zoomLayer = null;\n  }\n\n  reset({\n    keepZoomLayer = false,\n    keepAnnotationLayer = false,\n    keepAnnotationEditorLayer = false,\n    keepXfaLayer = false,\n    keepTextLayer = false\n  } = {}) {\n    this.cancelRendering({\n      keepAnnotationLayer,\n      keepAnnotationEditorLayer,\n      keepXfaLayer,\n      keepTextLayer\n    });\n    this.renderingState = RenderingStates.INITIAL;\n    const div = this.div;\n    const childNodes = div.childNodes,\n          zoomLayerNode = keepZoomLayer && this.zoomLayer || null,\n          annotationLayerNode = keepAnnotationLayer && this.annotationLayer?.div || null,\n          annotationEditorLayerNode = keepAnnotationEditorLayer && this.annotationEditorLayer?.div || null,\n          xfaLayerNode = keepXfaLayer && this.xfaLayer?.div || null,\n          textLayerNode = keepTextLayer && this.textLayer?.div || null;\n\n    for (let i = childNodes.length - 1; i >= 0; i--) {\n      const node = childNodes[i];\n\n      switch (node) {\n        case zoomLayerNode:\n        case annotationLayerNode:\n        case annotationEditorLayerNode:\n        case xfaLayerNode:\n        case textLayerNode:\n          continue;\n      }\n\n      node.remove();\n      const layerIndex = this.#layers.indexOf(node);\n\n      if (layerIndex >= 0) {\n        this.#layers[layerIndex] = null;\n      }\n    }\n\n    div.removeAttribute(\"data-loaded\");\n\n    if (annotationLayerNode) {\n      this.annotationLayer.hide();\n    }\n\n    if (annotationEditorLayerNode) {\n      this.annotationEditorLayer.hide();\n    }\n\n    if (xfaLayerNode) {\n      this.xfaLayer.hide();\n    }\n\n    if (textLayerNode) {\n      this.textLayer.hide();\n    }\n\n    this.structTreeLayer?.hide();\n\n    if (!zoomLayerNode) {\n      if (this.canvas) {\n        this.#viewportMap.delete(this.canvas);\n        this.canvas.width = 0;\n        this.canvas.height = 0;\n        delete this.canvas;\n      }\n\n      this._resetZoomLayer();\n    }\n  }\n\n  toggleEditingMode(isEditing) {\n    if (!this.hasEditableAnnotations()) {\n      return;\n    }\n\n    this.#isEditing = isEditing;\n    this.reset({\n      keepZoomLayer: true,\n      keepAnnotationLayer: true,\n      keepAnnotationEditorLayer: true,\n      keepXfaLayer: true,\n      keepTextLayer: true\n    });\n  }\n\n  update({\n    scale = 0,\n    rotation = null,\n    optionalContentConfigPromise = null,\n    drawingDelay = -1\n  }) {\n    this.scale = scale || this.scale;\n\n    if (typeof rotation === \"number\") {\n      this.rotation = rotation;\n    }\n\n    if (optionalContentConfigPromise instanceof Promise) {\n      this._optionalContentConfigPromise = optionalContentConfigPromise;\n      optionalContentConfigPromise.then(optionalContentConfig => {\n        if (optionalContentConfigPromise !== this._optionalContentConfigPromise) {\n          return;\n        }\n\n        this.#useThumbnailCanvas.initialOptionalContent = optionalContentConfig.hasInitialVisibility;\n      });\n    }\n\n    this.#useThumbnailCanvas.directDrawing = true;\n    const totalRotation = (this.rotation + this.pdfPageRotate) % 360;\n    this.viewport = this.viewport.clone({\n      scale: this.scale * PixelsPerInch.PDF_TO_CSS_UNITS,\n      rotation: totalRotation\n    });\n    this.#setDimensions();\n\n    if (this._isStandalone) {\n      this._container?.style.setProperty(\"--scale-factor\", this.viewport.scale);\n    }\n\n    if (this.canvas) {\n      let onlyCssZoom = false;\n\n      if (this.#hasRestrictedScaling) {\n        if (this.maxCanvasPixels === 0) {\n          onlyCssZoom = true;\n        } else if (this.maxCanvasPixels > 0) {\n          const {\n            width,\n            height\n          } = this.viewport;\n          const {\n            sx,\n            sy\n          } = this.outputScale;\n          onlyCssZoom = (Math.floor(width) * sx | 0) * (Math.floor(height) * sy | 0) > this.maxCanvasPixels;\n        }\n      }\n\n      const postponeDrawing = drawingDelay >= 0 && drawingDelay < 1000;\n\n      if (postponeDrawing || onlyCssZoom) {\n        if (postponeDrawing && !onlyCssZoom && this.renderingState !== RenderingStates.FINISHED) {\n          this.cancelRendering({\n            keepZoomLayer: true,\n            keepAnnotationLayer: true,\n            keepAnnotationEditorLayer: true,\n            keepXfaLayer: true,\n            keepTextLayer: true,\n            cancelExtraDelay: drawingDelay\n          });\n          this.renderingState = RenderingStates.FINISHED;\n          this.#useThumbnailCanvas.directDrawing = false;\n        }\n\n        this.cssTransform({\n          target: this.canvas,\n          redrawAnnotationLayer: true,\n          redrawAnnotationEditorLayer: true,\n          redrawXfaLayer: true,\n          redrawTextLayer: !postponeDrawing,\n          hideTextLayer: postponeDrawing\n        });\n\n        if (postponeDrawing) {\n          return;\n        }\n\n        this.eventBus.dispatch(\"pagerendered\", {\n          source: this,\n          pageNumber: this.id,\n          cssTransform: true,\n          timestamp: performance.now(),\n          error: this.#renderError\n        });\n        return;\n      }\n\n      if (!this.zoomLayer && !this.canvas.hidden) {\n        this.zoomLayer = this.canvas.parentNode;\n        this.zoomLayer.style.position = \"absolute\";\n      }\n    }\n\n    if (this.zoomLayer) {\n      this.cssTransform({\n        target: this.zoomLayer.firstChild\n      });\n    }\n\n    this.reset({\n      keepZoomLayer: true,\n      keepAnnotationLayer: true,\n      keepAnnotationEditorLayer: true,\n      keepXfaLayer: true,\n      keepTextLayer: true\n    });\n  }\n\n  cancelRendering({\n    keepAnnotationLayer = false,\n    keepAnnotationEditorLayer = false,\n    keepXfaLayer = false,\n    keepTextLayer = false,\n    cancelExtraDelay = 0\n  } = {}) {\n    if (this.renderTask) {\n      this.renderTask.cancel(cancelExtraDelay);\n      this.renderTask = null;\n    }\n\n    this.resume = null;\n\n    if (this.textLayer && (!keepTextLayer || !this.textLayer.div)) {\n      this.textLayer.cancel();\n      this.textLayer = null;\n    }\n\n    if (this.structTreeLayer && !this.textLayer) {\n      this.structTreeLayer = null;\n    }\n\n    if (this.annotationLayer && (!keepAnnotationLayer || !this.annotationLayer.div)) {\n      this.annotationLayer.cancel();\n      this.annotationLayer = null;\n      this._annotationCanvasMap = null;\n    }\n\n    if (this.annotationEditorLayer && (!keepAnnotationEditorLayer || !this.annotationEditorLayer.div)) {\n      if (this.drawLayer) {\n        this.drawLayer.cancel();\n        this.drawLayer = null;\n      }\n\n      this.annotationEditorLayer.cancel();\n      this.annotationEditorLayer = null;\n    }\n\n    if (this.xfaLayer && (!keepXfaLayer || !this.xfaLayer.div)) {\n      this.xfaLayer.cancel();\n      this.xfaLayer = null;\n      this._textHighlighter?.disable();\n    }\n  }\n\n  cssTransform({\n    target,\n    redrawAnnotationLayer = false,\n    redrawAnnotationEditorLayer = false,\n    redrawXfaLayer = false,\n    redrawTextLayer = false,\n    hideTextLayer = false\n  }) {\n    if (!target.hasAttribute(\"zooming\")) {\n      target.setAttribute(\"zooming\", true);\n      const {\n        style\n      } = target;\n      style.width = style.height = \"\";\n    }\n\n    const originalViewport = this.#viewportMap.get(target);\n\n    if (this.viewport !== originalViewport) {\n      const relativeRotation = this.viewport.rotation - originalViewport.rotation;\n      const absRotation = Math.abs(relativeRotation);\n      let scaleX = 1,\n          scaleY = 1;\n\n      if (absRotation === 90 || absRotation === 270) {\n        const {\n          width,\n          height\n        } = this.viewport;\n        scaleX = height / width;\n        scaleY = width / height;\n      }\n\n      target.style.transform = `rotate(${relativeRotation}deg) scale(${scaleX}, ${scaleY})`;\n    }\n\n    if (redrawAnnotationLayer && this.annotationLayer) {\n      this.#renderAnnotationLayer();\n    }\n\n    if (redrawAnnotationEditorLayer && this.annotationEditorLayer) {\n      if (this.drawLayer) {\n        this.#renderDrawLayer();\n      }\n\n      this.#renderAnnotationEditorLayer();\n    }\n\n    if (redrawXfaLayer && this.xfaLayer) {\n      this.#renderXfaLayer();\n    }\n\n    if (this.textLayer) {\n      if (hideTextLayer) {\n        this.textLayer.hide();\n        this.structTreeLayer?.hide();\n      } else if (redrawTextLayer) {\n        this.#renderTextLayer();\n      }\n    }\n  }\n\n  get width() {\n    return this.viewport.width;\n  }\n\n  get height() {\n    return this.viewport.height;\n  }\n\n  getPagePoint(x, y) {\n    return this.viewport.convertToPdfPoint(x, y);\n  }\n\n  #finishRenderTask(renderTask, error = null) {\n    var _this25 = this;\n\n    return _asyncToGenerator(function* () {\n      if (renderTask === _this25.renderTask) {\n        _this25.renderTask = null;\n      }\n\n      if (error instanceof RenderingCancelledException) {\n        _this25.#renderError = null;\n        return;\n      }\n\n      _this25.#renderError = error;\n      _this25.renderingState = RenderingStates.FINISHED;\n\n      _this25._resetZoomLayer(true);\n\n      _this25.#useThumbnailCanvas.regularAnnotations = !renderTask.separateAnnots;\n\n      _this25.eventBus.dispatch(\"pagerendered\", {\n        source: _this25,\n        pageNumber: _this25.id,\n        cssTransform: false,\n        timestamp: performance.now(),\n        error: _this25.#renderError\n      });\n\n      if (error) {\n        throw error;\n      }\n    })();\n  }\n\n  draw() {\n    var _this26 = this;\n\n    return _asyncToGenerator(function* () {\n      if (_this26.renderingState !== RenderingStates.INITIAL) {\n        console.error(\"Must be in new state before drawing\");\n\n        _this26.reset();\n      }\n\n      const {\n        div,\n        l10n,\n        pageColors,\n        pdfPage,\n        viewport\n      } = _this26;\n\n      if (!pdfPage) {\n        _this26.renderingState = RenderingStates.FINISHED;\n        throw new Error(\"pdfPage is not loaded\");\n      }\n\n      _this26.renderingState = RenderingStates.RUNNING;\n      const canvasWrapper = document.createElement(\"div\");\n      canvasWrapper.classList.add(\"canvasWrapper\");\n\n      _this26.#addLayer(canvasWrapper, \"canvasWrapper\");\n\n      if (!_this26.textLayer && _this26.#textLayerMode !== TextLayerMode.DISABLE && !pdfPage.isPureXfa) {\n        _this26._accessibilityManager ||= new TextAccessibilityManager();\n        _this26.textLayer = new TextLayerBuilder({\n          pdfPage,\n          highlighter: _this26._textHighlighter,\n          accessibilityManager: _this26._accessibilityManager,\n          enablePermissions: _this26.#textLayerMode === TextLayerMode.ENABLE_PERMISSIONS,\n          onAppend: textLayerDiv => {\n            _this26.l10n.pause();\n\n            _this26.#addLayer(textLayerDiv, \"textLayer\");\n\n            _this26.l10n.resume();\n          }\n        });\n      }\n\n      if (!_this26.annotationLayer && _this26.#annotationMode !== AnnotationMode.DISABLE) {\n        const {\n          annotationStorage,\n          annotationEditorUIManager,\n          downloadManager,\n          enableScripting,\n          fieldObjectsPromise,\n          hasJSActionsPromise,\n          linkService\n        } = _this26.#layerProperties;\n        _this26._annotationCanvasMap ||= new Map();\n        _this26.annotationLayer = new AnnotationLayerBuilder({\n          pdfPage,\n          annotationStorage,\n          imageResourcesPath: _this26.imageResourcesPath,\n          renderForms: _this26.#annotationMode === AnnotationMode.ENABLE_FORMS,\n          linkService,\n          downloadManager,\n          enableScripting,\n          hasJSActionsPromise,\n          fieldObjectsPromise,\n          annotationCanvasMap: _this26._annotationCanvasMap,\n          accessibilityManager: _this26._accessibilityManager,\n          annotationEditorUIManager,\n          onAppend: annotationLayerDiv => {\n            _this26.#addLayer(annotationLayerDiv, \"annotationLayer\");\n          }\n        });\n      }\n\n      const renderContinueCallback = cont => {\n        showCanvas?.(false);\n\n        if (_this26.renderingQueue && !_this26.renderingQueue.isHighestPriority(_this26)) {\n          _this26.renderingState = RenderingStates.PAUSED;\n\n          _this26.resume = () => {\n            _this26.renderingState = RenderingStates.RUNNING;\n            cont();\n          };\n\n          return;\n        }\n\n        cont();\n      };\n\n      const {\n        width,\n        height\n      } = viewport;\n      const canvas = document.createElement(\"canvas\");\n      canvas.setAttribute(\"role\", \"presentation\");\n      canvas.hidden = true;\n      const hasHCM = !!(pageColors?.background && pageColors?.foreground);\n\n      let showCanvas = isLastShow => {\n        if (!hasHCM || isLastShow) {\n          canvas.hidden = false;\n          showCanvas = null;\n        }\n      };\n\n      canvasWrapper.append(canvas);\n      _this26.canvas = canvas;\n      const ctx = canvas.getContext(\"2d\", {\n        alpha: false,\n        willReadFrequently: !_this26.#enableHWA\n      });\n      const outputScale = _this26.outputScale = new OutputScale();\n\n      if (_this26.maxCanvasPixels === 0) {\n        const invScale = 1 / _this26.scale;\n        outputScale.sx *= invScale;\n        outputScale.sy *= invScale;\n        _this26.#hasRestrictedScaling = true;\n      } else if (_this26.maxCanvasPixels > 0) {\n        const pixelsInViewport = width * height;\n        const maxScale = Math.sqrt(_this26.maxCanvasPixels / pixelsInViewport);\n\n        if (outputScale.sx > maxScale || outputScale.sy > maxScale) {\n          outputScale.sx = maxScale;\n          outputScale.sy = maxScale;\n          _this26.#hasRestrictedScaling = true;\n        } else {\n          _this26.#hasRestrictedScaling = false;\n        }\n      }\n\n      const sfx = approximateFraction(outputScale.sx);\n      const sfy = approximateFraction(outputScale.sy);\n      canvas.width = floorToDivide(width * outputScale.sx, sfx[0]);\n      canvas.height = floorToDivide(height * outputScale.sy, sfy[0]);\n      const {\n        style\n      } = canvas;\n      style.width = floorToDivide(width, sfx[1]) + \"px\";\n      style.height = floorToDivide(height, sfy[1]) + \"px\";\n\n      _this26.#viewportMap.set(canvas, viewport);\n\n      const transform = outputScale.scaled ? [outputScale.sx, 0, 0, outputScale.sy, 0, 0] : null;\n      const renderContext = {\n        canvasContext: ctx,\n        transform,\n        viewport,\n        annotationMode: _this26.#annotationMode,\n        optionalContentConfigPromise: _this26._optionalContentConfigPromise,\n        annotationCanvasMap: _this26._annotationCanvasMap,\n        pageColors,\n        isEditing: _this26.#isEditing\n      };\n      const renderTask = _this26.renderTask = pdfPage.render(renderContext);\n      renderTask.onContinue = renderContinueCallback;\n      const resultPromise = renderTask.promise.then( /*#__PURE__*/_asyncToGenerator(function* () {\n        showCanvas?.(true);\n        yield _this26.#finishRenderTask(renderTask);\n\n        _this26.#renderTextLayer();\n\n        if (_this26.annotationLayer) {\n          yield _this26.#renderAnnotationLayer();\n        }\n\n        const {\n          annotationEditorUIManager\n        } = _this26.#layerProperties;\n\n        if (!annotationEditorUIManager) {\n          return;\n        }\n\n        _this26.drawLayer ||= new DrawLayerBuilder({\n          pageIndex: _this26.id\n        });\n        yield _this26.#renderDrawLayer();\n\n        _this26.drawLayer.setParent(canvasWrapper);\n\n        _this26.annotationEditorLayer ||= new AnnotationEditorLayerBuilder({\n          uiManager: annotationEditorUIManager,\n          pdfPage,\n          l10n,\n          accessibilityManager: _this26._accessibilityManager,\n          annotationLayer: _this26.annotationLayer?.annotationLayer,\n          textLayer: _this26.textLayer,\n          drawLayer: _this26.drawLayer.getDrawLayer(),\n          onAppend: annotationEditorLayerDiv => {\n            _this26.#addLayer(annotationEditorLayerDiv, \"annotationEditorLayer\");\n          }\n        });\n\n        _this26.#renderAnnotationEditorLayer();\n      }), error => {\n        if (!(error instanceof RenderingCancelledException)) {\n          showCanvas?.(true);\n        }\n\n        return _this26.#finishRenderTask(renderTask, error);\n      });\n\n      if (pdfPage.isPureXfa) {\n        if (!_this26.xfaLayer) {\n          const {\n            annotationStorage,\n            linkService\n          } = _this26.#layerProperties;\n          _this26.xfaLayer = new XfaLayerBuilder({\n            pdfPage,\n            annotationStorage,\n            linkService\n          });\n        }\n\n        _this26.#renderXfaLayer();\n      }\n\n      div.setAttribute(\"data-loaded\", true);\n\n      _this26.eventBus.dispatch(\"pagerender\", {\n        source: _this26,\n        pageNumber: _this26.id\n      });\n\n      return resultPromise;\n    })();\n  }\n\n  setPageLabel(label) {\n    this.pageLabel = typeof label === \"string\" ? label : null;\n    this.div.setAttribute(\"data-l10n-args\", JSON.stringify({\n      page: this.pageLabel ?? this.id\n    }));\n\n    if (this.pageLabel !== null) {\n      this.div.setAttribute(\"data-page-label\", this.pageLabel);\n    } else {\n      this.div.removeAttribute(\"data-page-label\");\n    }\n  }\n\n  get thumbnailCanvas() {\n    const {\n      directDrawing,\n      initialOptionalContent,\n      regularAnnotations\n    } = this.#useThumbnailCanvas;\n    return directDrawing && initialOptionalContent && regularAnnotations ? this.canvas : null;\n  }\n\n}\n\n; // CONCATENATED MODULE: ./web/generic_scripting.js\n\nfunction docProperties(_x2) {\n  return _docProperties.apply(this, arguments);\n}\n\nfunction _docProperties() {\n  _docProperties = _asyncToGenerator(function* (pdfDocument) {\n    const url = \"\",\n          baseUrl = url.split(\"#\", 1)[0];\n    let {\n      info,\n      metadata,\n      contentDispositionFilename,\n      contentLength\n    } = yield pdfDocument.getMetadata();\n\n    if (!contentLength) {\n      const {\n        length\n      } = yield pdfDocument.getDownloadInfo();\n      contentLength = length;\n    }\n\n    return { ...info,\n      baseURL: baseUrl,\n      filesize: contentLength,\n      filename: contentDispositionFilename || getPdfFilenameFromUrl(url),\n      metadata: metadata?.getRaw(),\n      authors: metadata?.get(\"dc:creator\"),\n      numPages: pdfDocument.numPages,\n      URL: url\n    };\n  });\n  return _docProperties.apply(this, arguments);\n}\n\nclass GenericScripting {\n  constructor(sandboxBundleSrc) {\n    this._ready = new Promise((resolve, reject) => {\n      const sandbox = import(\n      /*webpackIgnore: true*/\n      sandboxBundleSrc);\n      sandbox.then(pdfjsSandbox => {\n        resolve(pdfjsSandbox.QuickJSSandbox());\n      }).catch(reject);\n    });\n  }\n\n  createSandbox(data) {\n    var _this27 = this;\n\n    return _asyncToGenerator(function* () {\n      const sandbox = yield _this27._ready;\n      sandbox.create(data);\n    })();\n  }\n\n  dispatchEventInSandbox(event) {\n    var _this28 = this;\n\n    return _asyncToGenerator(function* () {\n      const sandbox = yield _this28._ready;\n      setTimeout(() => sandbox.dispatchEvent(event), 0);\n    })();\n  }\n\n  destroySandbox() {\n    var _this29 = this;\n\n    return _asyncToGenerator(function* () {\n      const sandbox = yield _this29._ready;\n      sandbox.nukeSandbox();\n    })();\n  }\n\n}\n\n; // CONCATENATED MODULE: ./web/pdf_scripting_manager.js\n\nclass PDFScriptingManager {\n  #closeCapability = null;\n  #destroyCapability = null;\n  #docProperties = null;\n  #eventAbortController = null;\n  #eventBus = null;\n  #externalServices = null;\n  #pdfDocument = null;\n  #pdfViewer = null;\n  #ready = false;\n  #scripting = null;\n  #willPrintCapability = null;\n\n  constructor({\n    eventBus,\n    externalServices = null,\n    docProperties = null\n  }) {\n    this.#eventBus = eventBus;\n    this.#externalServices = externalServices;\n    this.#docProperties = docProperties;\n  }\n\n  setViewer(pdfViewer) {\n    this.#pdfViewer = pdfViewer;\n  }\n\n  setDocument(pdfDocument) {\n    var _this30 = this;\n\n    return _asyncToGenerator(function* () {\n      if (_this30.#pdfDocument) {\n        yield _this30.#destroyScripting();\n      }\n\n      _this30.#pdfDocument = pdfDocument;\n\n      if (!pdfDocument) {\n        return;\n      }\n\n      const [objects, calculationOrder, docActions] = yield Promise.all([pdfDocument.getFieldObjects(), pdfDocument.getCalculationOrderIds(), pdfDocument.getJSActions()]);\n\n      if (!objects && !docActions) {\n        yield _this30.#destroyScripting();\n        return;\n      }\n\n      if (pdfDocument !== _this30.#pdfDocument) {\n        return;\n      }\n\n      try {\n        _this30.#scripting = _this30.#initScripting();\n      } catch (error) {\n        console.error(`setDocument: \"${error.message}\".`);\n        yield _this30.#destroyScripting();\n        return;\n      }\n\n      const eventBus = _this30.#eventBus;\n      _this30.#eventAbortController = new AbortController();\n      const {\n        signal\n      } = _this30.#eventAbortController;\n\n      eventBus._on(\"updatefromsandbox\", event => {\n        if (event?.source === window) {\n          _this30.#updateFromSandbox(event.detail);\n        }\n      }, {\n        signal\n      });\n\n      eventBus._on(\"dispatcheventinsandbox\", event => {\n        _this30.#scripting?.dispatchEventInSandbox(event.detail);\n      }, {\n        signal\n      });\n\n      eventBus._on(\"pagechanging\", ({\n        pageNumber,\n        previous\n      }) => {\n        if (pageNumber === previous) {\n          return;\n        }\n\n        _this30.#dispatchPageClose(previous);\n\n        _this30.#dispatchPageOpen(pageNumber);\n      }, {\n        signal\n      });\n\n      eventBus._on(\"pagerendered\", ({\n        pageNumber\n      }) => {\n        if (!_this30._pageOpenPending.has(pageNumber)) {\n          return;\n        }\n\n        if (pageNumber !== _this30.#pdfViewer.currentPageNumber) {\n          return;\n        }\n\n        _this30.#dispatchPageOpen(pageNumber);\n      }, {\n        signal\n      });\n\n      eventBus._on(\"pagesdestroy\", /*#__PURE__*/_asyncToGenerator(function* () {\n        yield _this30.#dispatchPageClose(_this30.#pdfViewer.currentPageNumber);\n        yield _this30.#scripting?.dispatchEventInSandbox({\n          id: \"doc\",\n          name: \"WillClose\"\n        });\n        _this30.#closeCapability?.resolve();\n      }), {\n        signal\n      });\n\n      try {\n        const docProperties = yield _this30.#docProperties(pdfDocument);\n\n        if (pdfDocument !== _this30.#pdfDocument) {\n          return;\n        }\n\n        yield _this30.#scripting.createSandbox({\n          objects,\n          calculationOrder,\n          appInfo: {\n            platform: navigator.platform,\n            language: navigator.language\n          },\n          docInfo: { ...docProperties,\n            actions: docActions\n          }\n        });\n        eventBus.dispatch(\"sandboxcreated\", {\n          source: _this30\n        });\n      } catch (error) {\n        console.error(`setDocument: \"${error.message}\".`);\n        yield _this30.#destroyScripting();\n        return;\n      }\n\n      yield _this30.#scripting?.dispatchEventInSandbox({\n        id: \"doc\",\n        name: \"Open\"\n      });\n      yield _this30.#dispatchPageOpen(_this30.#pdfViewer.currentPageNumber, true);\n      Promise.resolve().then(() => {\n        if (pdfDocument === _this30.#pdfDocument) {\n          _this30.#ready = true;\n        }\n      });\n    })();\n  }\n\n  dispatchWillSave() {\n    var _this31 = this;\n\n    return _asyncToGenerator(function* () {\n      return _this31.#scripting?.dispatchEventInSandbox({\n        id: \"doc\",\n        name: \"WillSave\"\n      });\n    })();\n  }\n\n  dispatchDidSave() {\n    var _this32 = this;\n\n    return _asyncToGenerator(function* () {\n      return _this32.#scripting?.dispatchEventInSandbox({\n        id: \"doc\",\n        name: \"DidSave\"\n      });\n    })();\n  }\n\n  dispatchWillPrint() {\n    var _this33 = this;\n\n    return _asyncToGenerator(function* () {\n      if (!_this33.#scripting) {\n        return;\n      }\n\n      yield _this33.#willPrintCapability?.promise;\n      _this33.#willPrintCapability = Promise.withResolvers();\n\n      try {\n        yield _this33.#scripting.dispatchEventInSandbox({\n          id: \"doc\",\n          name: \"WillPrint\"\n        });\n      } catch (ex) {\n        _this33.#willPrintCapability.resolve();\n\n        _this33.#willPrintCapability = null;\n        throw ex;\n      }\n\n      yield _this33.#willPrintCapability.promise;\n    })();\n  }\n\n  dispatchDidPrint() {\n    var _this34 = this;\n\n    return _asyncToGenerator(function* () {\n      return _this34.#scripting?.dispatchEventInSandbox({\n        id: \"doc\",\n        name: \"DidPrint\"\n      });\n    })();\n  }\n\n  get destroyPromise() {\n    return this.#destroyCapability?.promise || null;\n  }\n\n  get ready() {\n    return this.#ready;\n  }\n\n  get _pageOpenPending() {\n    return shadow(this, \"_pageOpenPending\", new Set());\n  }\n\n  get _visitedPages() {\n    return shadow(this, \"_visitedPages\", new Map());\n  }\n\n  #updateFromSandbox(detail) {\n    var _this35 = this;\n\n    return _asyncToGenerator(function* () {\n      const pdfViewer = _this35.#pdfViewer;\n      const isInPresentationMode = pdfViewer.isInPresentationMode || pdfViewer.isChangingPresentationMode;\n      const {\n        id,\n        siblings,\n        command,\n        value\n      } = detail;\n\n      if (!id) {\n        switch (command) {\n          case \"clear\":\n            console.clear();\n            break;\n\n          case \"error\":\n            console.error(value);\n            break;\n\n          case \"layout\":\n            if (!isInPresentationMode) {\n              const modes = apiPageLayoutToViewerModes(value);\n              pdfViewer.spreadMode = modes.spreadMode;\n            }\n\n            break;\n\n          case \"page-num\":\n            pdfViewer.currentPageNumber = value + 1;\n            break;\n\n          case \"print\":\n            yield pdfViewer.pagesPromise;\n\n            _this35.#eventBus.dispatch(\"print\", {\n              source: _this35\n            });\n\n            break;\n\n          case \"println\":\n            console.log(value);\n            break;\n\n          case \"zoom\":\n            if (!isInPresentationMode) {\n              pdfViewer.currentScaleValue = value;\n            }\n\n            break;\n\n          case \"SaveAs\":\n            _this35.#eventBus.dispatch(\"download\", {\n              source: _this35\n            });\n\n            break;\n\n          case \"FirstPage\":\n            pdfViewer.currentPageNumber = 1;\n            break;\n\n          case \"LastPage\":\n            pdfViewer.currentPageNumber = pdfViewer.pagesCount;\n            break;\n\n          case \"NextPage\":\n            pdfViewer.nextPage();\n            break;\n\n          case \"PrevPage\":\n            pdfViewer.previousPage();\n            break;\n\n          case \"ZoomViewIn\":\n            if (!isInPresentationMode) {\n              pdfViewer.increaseScale();\n            }\n\n            break;\n\n          case \"ZoomViewOut\":\n            if (!isInPresentationMode) {\n              pdfViewer.decreaseScale();\n            }\n\n            break;\n\n          case \"WillPrintFinished\":\n            _this35.#willPrintCapability?.resolve();\n            _this35.#willPrintCapability = null;\n            break;\n        }\n\n        return;\n      }\n\n      if (isInPresentationMode && detail.focus) {\n        return;\n      }\n\n      delete detail.id;\n      delete detail.siblings;\n      const ids = siblings ? [id, ...siblings] : [id];\n\n      for (const elementId of ids) {\n        const element = document.querySelector(`[data-element-id=\"${elementId}\"]`);\n\n        if (element) {\n          element.dispatchEvent(new CustomEvent(\"updatefromsandbox\", {\n            detail\n          }));\n        } else {\n          _this35.#pdfDocument?.annotationStorage.setValue(elementId, detail);\n        }\n      }\n    })();\n  }\n\n  #dispatchPageOpen(pageNumber, initialize = false) {\n    var _this36 = this;\n\n    return _asyncToGenerator(function* () {\n      const pdfDocument = _this36.#pdfDocument,\n            visitedPages = _this36._visitedPages;\n\n      if (initialize) {\n        _this36.#closeCapability = Promise.withResolvers();\n      }\n\n      if (!_this36.#closeCapability) {\n        return;\n      }\n\n      const pageView = _this36.#pdfViewer.getPageView(pageNumber - 1);\n\n      if (pageView?.renderingState !== RenderingStates.FINISHED) {\n        _this36._pageOpenPending.add(pageNumber);\n\n        return;\n      }\n\n      _this36._pageOpenPending.delete(pageNumber);\n\n      const actionsPromise = _asyncToGenerator(function* () {\n        const actions = yield !visitedPages.has(pageNumber) ? pageView.pdfPage?.getJSActions() : null;\n\n        if (pdfDocument !== _this36.#pdfDocument) {\n          return;\n        }\n\n        yield _this36.#scripting?.dispatchEventInSandbox({\n          id: \"page\",\n          name: \"PageOpen\",\n          pageNumber,\n          actions\n        });\n      })();\n\n      visitedPages.set(pageNumber, actionsPromise);\n    })();\n  }\n\n  #dispatchPageClose(pageNumber) {\n    var _this37 = this;\n\n    return _asyncToGenerator(function* () {\n      const pdfDocument = _this37.#pdfDocument,\n            visitedPages = _this37._visitedPages;\n\n      if (!_this37.#closeCapability) {\n        return;\n      }\n\n      if (_this37._pageOpenPending.has(pageNumber)) {\n        return;\n      }\n\n      const actionsPromise = visitedPages.get(pageNumber);\n\n      if (!actionsPromise) {\n        return;\n      }\n\n      visitedPages.set(pageNumber, null);\n      yield actionsPromise;\n\n      if (pdfDocument !== _this37.#pdfDocument) {\n        return;\n      }\n\n      yield _this37.#scripting?.dispatchEventInSandbox({\n        id: \"page\",\n        name: \"PageClose\",\n        pageNumber\n      });\n    })();\n  }\n\n  #initScripting() {\n    this.#destroyCapability = Promise.withResolvers();\n\n    if (this.#scripting) {\n      throw new Error(\"#initScripting: Scripting already exists.\");\n    }\n\n    return this.#externalServices.createScripting();\n  }\n\n  #destroyScripting() {\n    var _this38 = this;\n\n    return _asyncToGenerator(function* () {\n      if (!_this38.#scripting) {\n        _this38.#pdfDocument = null;\n        _this38.#destroyCapability?.resolve();\n        return;\n      }\n\n      if (_this38.#closeCapability) {\n        yield Promise.race([_this38.#closeCapability.promise, new Promise(resolve => {\n          setTimeout(resolve, 1000);\n        })]).catch(() => {});\n        _this38.#closeCapability = null;\n      }\n\n      _this38.#pdfDocument = null;\n\n      try {\n        yield _this38.#scripting.destroySandbox();\n      } catch {}\n\n      _this38.#willPrintCapability?.reject(new Error(\"Scripting destroyed.\"));\n      _this38.#willPrintCapability = null;\n      _this38.#eventAbortController?.abort();\n      _this38.#eventAbortController = null;\n\n      _this38._pageOpenPending.clear();\n\n      _this38._visitedPages.clear();\n\n      _this38.#scripting = null;\n      _this38.#ready = false;\n      _this38.#destroyCapability?.resolve();\n    })();\n  }\n\n}\n\n; // CONCATENATED MODULE: ./web/pdf_scripting_manager.component.js\n\nclass PDFScriptingManagerComponents extends PDFScriptingManager {\n  constructor(options) {\n    if (!options.externalServices) {\n      window.addEventListener(\"updatefromsandbox\", event => {\n        options.eventBus.dispatch(\"updatefromsandbox\", {\n          source: window,\n          detail: event.detail\n        });\n      });\n    }\n\n    options.externalServices ||= {\n      createScripting: () => new GenericScripting(options.sandboxBundleSrc)\n    };\n\n    options.docProperties ||= pdfDocument => docProperties(pdfDocument);\n\n    super(options);\n  }\n\n}\n\n; // CONCATENATED MODULE: ./web/pdf_rendering_queue.js\n\nconst CLEANUP_TIMEOUT = 30000;\n\nclass PDFRenderingQueue {\n  constructor() {\n    this.pdfViewer = null;\n    this.pdfThumbnailViewer = null;\n    this.onIdle = null;\n    this.highestPriorityPage = null;\n    this.idleTimeout = null;\n    this.printing = false;\n    this.isThumbnailViewEnabled = false;\n    Object.defineProperty(this, \"hasViewer\", {\n      value: () => !!this.pdfViewer\n    });\n  }\n\n  setViewer(pdfViewer) {\n    this.pdfViewer = pdfViewer;\n  }\n\n  setThumbnailViewer(pdfThumbnailViewer) {\n    this.pdfThumbnailViewer = pdfThumbnailViewer;\n  }\n\n  isHighestPriority(view) {\n    return this.highestPriorityPage === view.renderingId;\n  }\n\n  renderHighestPriority(currentlyVisiblePages) {\n    if (this.idleTimeout) {\n      clearTimeout(this.idleTimeout);\n      this.idleTimeout = null;\n    }\n\n    if (this.pdfViewer.forceRendering(currentlyVisiblePages)) {\n      return;\n    }\n\n    if (this.isThumbnailViewEnabled && this.pdfThumbnailViewer?.forceRendering()) {\n      return;\n    }\n\n    if (this.printing) {\n      return;\n    }\n\n    if (this.onIdle) {\n      this.idleTimeout = setTimeout(this.onIdle.bind(this), CLEANUP_TIMEOUT);\n    }\n  }\n\n  getHighestPriority(visible, views, scrolledDown, preRenderExtra = false) {\n    const visibleViews = visible.views,\n          numVisible = visibleViews.length;\n\n    if (numVisible === 0) {\n      return null;\n    }\n\n    for (let i = 0; i < numVisible; i++) {\n      const view = visibleViews[i].view;\n\n      if (!this.isViewFinished(view)) {\n        return view;\n      }\n    }\n\n    const firstId = visible.first.id,\n          lastId = visible.last.id;\n\n    if (lastId - firstId + 1 > numVisible) {\n      const visibleIds = visible.ids;\n\n      for (let i = 1, ii = lastId - firstId; i < ii; i++) {\n        const holeId = scrolledDown ? firstId + i : lastId - i;\n\n        if (visibleIds.has(holeId)) {\n          continue;\n        }\n\n        const holeView = views[holeId - 1];\n\n        if (!this.isViewFinished(holeView)) {\n          return holeView;\n        }\n      }\n    }\n\n    let preRenderIndex = scrolledDown ? lastId : firstId - 2;\n    let preRenderView = views[preRenderIndex];\n\n    if (preRenderView && !this.isViewFinished(preRenderView)) {\n      return preRenderView;\n    }\n\n    if (preRenderExtra) {\n      preRenderIndex += scrolledDown ? 1 : -1;\n      preRenderView = views[preRenderIndex];\n\n      if (preRenderView && !this.isViewFinished(preRenderView)) {\n        return preRenderView;\n      }\n    }\n\n    return null;\n  }\n\n  isViewFinished(view) {\n    return view.renderingState === RenderingStates.FINISHED;\n  }\n\n  renderView(view) {\n    switch (view.renderingState) {\n      case RenderingStates.FINISHED:\n        return false;\n\n      case RenderingStates.PAUSED:\n        this.highestPriorityPage = view.renderingId;\n        view.resume();\n        break;\n\n      case RenderingStates.RUNNING:\n        this.highestPriorityPage = view.renderingId;\n        break;\n\n      case RenderingStates.INITIAL:\n        this.highestPriorityPage = view.renderingId;\n        view.draw().finally(() => {\n          this.renderHighestPriority();\n        }).catch(reason => {\n          if (reason instanceof RenderingCancelledException) {\n            return;\n          }\n\n          console.error(`renderView: \"${reason}\"`);\n        });\n        break;\n    }\n\n    return true;\n  }\n\n}\n\n; // CONCATENATED MODULE: ./web/pdf_viewer.js\n\nconst DEFAULT_CACHE_SIZE = 10;\nconst PagesCountLimit = {\n  FORCE_SCROLL_MODE_PAGE: 10000,\n  FORCE_LAZY_PAGE_INIT: 5000,\n  PAUSE_EAGER_PAGE_INIT: 250\n};\n\nfunction isValidAnnotationEditorMode(mode) {\n  return Object.values(AnnotationEditorType).includes(mode) && mode !== AnnotationEditorType.DISABLE;\n}\n\nclass PDFPageViewBuffer {\n  #buf = new Set();\n  #size = 0;\n\n  constructor(size) {\n    this.#size = size;\n  }\n\n  push(view) {\n    const buf = this.#buf;\n\n    if (buf.has(view)) {\n      buf.delete(view);\n    }\n\n    buf.add(view);\n\n    if (buf.size > this.#size) {\n      this.#destroyFirstView();\n    }\n  }\n\n  resize(newSize, idsToKeep = null) {\n    this.#size = newSize;\n    const buf = this.#buf;\n\n    if (idsToKeep) {\n      const ii = buf.size;\n      let i = 1;\n\n      for (const view of buf) {\n        if (idsToKeep.has(view.id)) {\n          buf.delete(view);\n          buf.add(view);\n        }\n\n        if (++i > ii) {\n          break;\n        }\n      }\n    }\n\n    while (buf.size > this.#size) {\n      this.#destroyFirstView();\n    }\n  }\n\n  has(view) {\n    return this.#buf.has(view);\n  }\n\n  [Symbol.iterator]() {\n    return this.#buf.keys();\n  }\n\n  #destroyFirstView() {\n    const firstView = this.#buf.keys().next().value;\n    firstView?.destroy();\n    this.#buf.delete(firstView);\n  }\n\n}\n\nclass PDFViewer {\n  #buffer = null;\n  #altTextManager = null;\n  #annotationEditorHighlightColors = null;\n  #annotationEditorMode = AnnotationEditorType.NONE;\n  #annotationEditorUIManager = null;\n  #annotationMode = AnnotationMode.ENABLE_FORMS;\n  #containerTopLeft = null;\n  #enableHWA = false;\n  #enableHighlightFloatingButton = false;\n  #enablePermissions = false;\n  #enableUpdatedAddImage = false;\n  #enableNewAltTextWhenAddingImage = false;\n  #eventAbortController = null;\n  #mlManager = null;\n  #onPageRenderedCallback = null;\n  #switchAnnotationEditorModeTimeoutId = null;\n  #getAllTextInProgress = false;\n  #hiddenCopyElement = null;\n  #interruptCopyCondition = false;\n  #previousContainerHeight = 0;\n  #resizeObserver = new ResizeObserver(this.#resizeObserverCallback.bind(this));\n  #scrollModePageState = null;\n  #scaleTimeoutId = null;\n  #textLayerMode = TextLayerMode.ENABLE;\n\n  constructor(options) {\n    const viewerVersion = \"4.6.82\";\n\n    if (version !== viewerVersion) {\n      throw new Error(`The API version \"${version}\" does not match the Viewer version \"${viewerVersion}\".`);\n    }\n\n    this.container = options.container;\n    this.viewer = options.viewer || options.container.firstElementChild;\n\n    if (this.container?.tagName !== \"DIV\" || this.viewer?.tagName !== \"DIV\") {\n      throw new Error(\"Invalid `container` and/or `viewer` option.\");\n    }\n\n    if (this.container.offsetParent && getComputedStyle(this.container).position !== \"absolute\") {\n      throw new Error(\"The `container` must be absolutely positioned.\");\n    }\n\n    this.#resizeObserver.observe(this.container);\n    this.eventBus = options.eventBus;\n    this.linkService = options.linkService || new SimpleLinkService();\n    this.downloadManager = options.downloadManager || null;\n    this.findController = options.findController || null;\n    this.#altTextManager = options.altTextManager || null;\n\n    if (this.findController) {\n      this.findController.onIsPageVisible = pageNumber => this._getVisiblePages().ids.has(pageNumber);\n    }\n\n    this._scriptingManager = options.scriptingManager || null;\n    this.#textLayerMode = options.textLayerMode ?? TextLayerMode.ENABLE;\n    this.#annotationMode = options.annotationMode ?? AnnotationMode.ENABLE_FORMS;\n    this.#annotationEditorMode = options.annotationEditorMode ?? AnnotationEditorType.NONE;\n    this.#annotationEditorHighlightColors = options.annotationEditorHighlightColors || null;\n    this.#enableHighlightFloatingButton = options.enableHighlightFloatingButton === true;\n    this.#enableUpdatedAddImage = options.enableUpdatedAddImage === true;\n    this.#enableNewAltTextWhenAddingImage = options.enableNewAltTextWhenAddingImage === true;\n    this.imageResourcesPath = options.imageResourcesPath || \"\";\n    this.enablePrintAutoRotate = options.enablePrintAutoRotate || false;\n    this.removePageBorders = options.removePageBorders || false;\n    this.maxCanvasPixels = options.maxCanvasPixels;\n    this.l10n = options.l10n;\n    this.l10n ||= new genericl10n_GenericL10n();\n    this.#enablePermissions = options.enablePermissions || false;\n    this.pageColors = options.pageColors || null;\n    this.#mlManager = options.mlManager || null;\n    this.#enableHWA = options.enableHWA || false;\n    this.defaultRenderingQueue = !options.renderingQueue;\n\n    if (this.defaultRenderingQueue) {\n      this.renderingQueue = new PDFRenderingQueue();\n      this.renderingQueue.setViewer(this);\n    } else {\n      this.renderingQueue = options.renderingQueue;\n    }\n\n    const {\n      abortSignal\n    } = options;\n    abortSignal?.addEventListener(\"abort\", () => {\n      this.#resizeObserver.disconnect();\n      this.#resizeObserver = null;\n    }, {\n      once: true\n    });\n    this.scroll = watchScroll(this.container, this._scrollUpdate.bind(this), abortSignal);\n    this.presentationModeState = PresentationModeState.UNKNOWN;\n\n    this._resetView();\n\n    if (this.removePageBorders) {\n      this.viewer.classList.add(\"removePageBorders\");\n    }\n\n    this.#updateContainerHeightCss();\n\n    this.eventBus._on(\"thumbnailrendered\", ({\n      pageNumber,\n      pdfPage\n    }) => {\n      const pageView = this._pages[pageNumber - 1];\n\n      if (!this.#buffer.has(pageView)) {\n        pdfPage?.cleanup();\n      }\n    });\n\n    if (!options.l10n) {\n      this.l10n.translate(this.container);\n    }\n  }\n\n  get pagesCount() {\n    return this._pages.length;\n  }\n\n  getPageView(index) {\n    return this._pages[index];\n  }\n\n  getCachedPageViews() {\n    return new Set(this.#buffer);\n  }\n\n  get pageViewsReady() {\n    return this._pages.every(pageView => pageView?.pdfPage);\n  }\n\n  get renderForms() {\n    return this.#annotationMode === AnnotationMode.ENABLE_FORMS;\n  }\n\n  get enableScripting() {\n    return !!this._scriptingManager;\n  }\n\n  get currentPageNumber() {\n    return this._currentPageNumber;\n  }\n\n  set currentPageNumber(val) {\n    if (!Number.isInteger(val)) {\n      throw new Error(\"Invalid page number.\");\n    }\n\n    if (!this.pdfDocument) {\n      return;\n    }\n\n    if (!this._setCurrentPageNumber(val, true)) {\n      console.error(`currentPageNumber: \"${val}\" is not a valid page.`);\n    }\n  }\n\n  _setCurrentPageNumber(val, resetCurrentPageView = false) {\n    if (this._currentPageNumber === val) {\n      if (resetCurrentPageView) {\n        this.#resetCurrentPageView();\n      }\n\n      return true;\n    }\n\n    if (!(0 < val && val <= this.pagesCount)) {\n      return false;\n    }\n\n    const previous = this._currentPageNumber;\n    this._currentPageNumber = val;\n    this.eventBus.dispatch(\"pagechanging\", {\n      source: this,\n      pageNumber: val,\n      pageLabel: this._pageLabels?.[val - 1] ?? null,\n      previous\n    });\n\n    if (resetCurrentPageView) {\n      this.#resetCurrentPageView();\n    }\n\n    return true;\n  }\n\n  get currentPageLabel() {\n    return this._pageLabels?.[this._currentPageNumber - 1] ?? null;\n  }\n\n  set currentPageLabel(val) {\n    if (!this.pdfDocument) {\n      return;\n    }\n\n    let page = val | 0;\n\n    if (this._pageLabels) {\n      const i = this._pageLabels.indexOf(val);\n\n      if (i >= 0) {\n        page = i + 1;\n      }\n    }\n\n    if (!this._setCurrentPageNumber(page, true)) {\n      console.error(`currentPageLabel: \"${val}\" is not a valid page.`);\n    }\n  }\n\n  get currentScale() {\n    return this._currentScale !== UNKNOWN_SCALE ? this._currentScale : DEFAULT_SCALE;\n  }\n\n  set currentScale(val) {\n    if (isNaN(val)) {\n      throw new Error(\"Invalid numeric scale.\");\n    }\n\n    if (!this.pdfDocument) {\n      return;\n    }\n\n    this.#setScale(val, {\n      noScroll: false\n    });\n  }\n\n  get currentScaleValue() {\n    return this._currentScaleValue;\n  }\n\n  set currentScaleValue(val) {\n    if (!this.pdfDocument) {\n      return;\n    }\n\n    this.#setScale(val, {\n      noScroll: false\n    });\n  }\n\n  get pagesRotation() {\n    return this._pagesRotation;\n  }\n\n  set pagesRotation(rotation) {\n    if (!isValidRotation(rotation)) {\n      throw new Error(\"Invalid pages rotation angle.\");\n    }\n\n    if (!this.pdfDocument) {\n      return;\n    }\n\n    rotation %= 360;\n\n    if (rotation < 0) {\n      rotation += 360;\n    }\n\n    if (this._pagesRotation === rotation) {\n      return;\n    }\n\n    this._pagesRotation = rotation;\n    const pageNumber = this._currentPageNumber;\n    this.refresh(true, {\n      rotation\n    });\n\n    if (this._currentScaleValue) {\n      this.#setScale(this._currentScaleValue, {\n        noScroll: true\n      });\n    }\n\n    this.eventBus.dispatch(\"rotationchanging\", {\n      source: this,\n      pagesRotation: rotation,\n      pageNumber\n    });\n\n    if (this.defaultRenderingQueue) {\n      this.update();\n    }\n  }\n\n  get firstPagePromise() {\n    return this.pdfDocument ? this._firstPageCapability.promise : null;\n  }\n\n  get onePageRendered() {\n    return this.pdfDocument ? this._onePageRenderedCapability.promise : null;\n  }\n\n  get pagesPromise() {\n    return this.pdfDocument ? this._pagesCapability.promise : null;\n  }\n\n  get _layerProperties() {\n    const self = this;\n    return shadow(this, \"_layerProperties\", {\n      get annotationEditorUIManager() {\n        return self.#annotationEditorUIManager;\n      },\n\n      get annotationStorage() {\n        return self.pdfDocument?.annotationStorage;\n      },\n\n      get downloadManager() {\n        return self.downloadManager;\n      },\n\n      get enableScripting() {\n        return !!self._scriptingManager;\n      },\n\n      get fieldObjectsPromise() {\n        return self.pdfDocument?.getFieldObjects();\n      },\n\n      get findController() {\n        return self.findController;\n      },\n\n      get hasJSActionsPromise() {\n        return self.pdfDocument?.hasJSActions();\n      },\n\n      get linkService() {\n        return self.linkService;\n      }\n\n    });\n  }\n\n  #initializePermissions(permissions) {\n    const params = {\n      annotationEditorMode: this.#annotationEditorMode,\n      annotationMode: this.#annotationMode,\n      textLayerMode: this.#textLayerMode\n    };\n\n    if (!permissions) {\n      return params;\n    }\n\n    if (!permissions.includes(PermissionFlag.COPY) && this.#textLayerMode === TextLayerMode.ENABLE) {\n      params.textLayerMode = TextLayerMode.ENABLE_PERMISSIONS;\n    }\n\n    if (!permissions.includes(PermissionFlag.MODIFY_CONTENTS)) {\n      params.annotationEditorMode = AnnotationEditorType.DISABLE;\n    }\n\n    if (!permissions.includes(PermissionFlag.MODIFY_ANNOTATIONS) && !permissions.includes(PermissionFlag.FILL_INTERACTIVE_FORMS) && this.#annotationMode === AnnotationMode.ENABLE_FORMS) {\n      params.annotationMode = AnnotationMode.ENABLE;\n    }\n\n    return params;\n  }\n\n  #onePageRenderedOrForceFetch(signal) {\n    var _this39 = this;\n\n    return _asyncToGenerator(function* () {\n      if (document.visibilityState === \"hidden\" || !_this39.container.offsetParent || _this39._getVisiblePages().views.length === 0) {\n        return;\n      }\n\n      const hiddenCapability = Promise.withResolvers();\n\n      function onVisibilityChange() {\n        if (document.visibilityState === \"hidden\") {\n          hiddenCapability.resolve();\n        }\n      }\n\n      document.addEventListener(\"visibilitychange\", onVisibilityChange, {\n        signal\n      });\n      yield Promise.race([_this39._onePageRenderedCapability.promise, hiddenCapability.promise]);\n      document.removeEventListener(\"visibilitychange\", onVisibilityChange);\n    })();\n  }\n\n  getAllText() {\n    var _this40 = this;\n\n    return _asyncToGenerator(function* () {\n      const texts = [];\n      const buffer = [];\n\n      for (let pageNum = 1, pagesCount = _this40.pdfDocument.numPages; pageNum <= pagesCount; ++pageNum) {\n        if (_this40.#interruptCopyCondition) {\n          return null;\n        }\n\n        buffer.length = 0;\n        const page = yield _this40.pdfDocument.getPage(pageNum);\n        const {\n          items\n        } = yield page.getTextContent();\n\n        for (const item of items) {\n          if (item.str) {\n            buffer.push(item.str);\n          }\n\n          if (item.hasEOL) {\n            buffer.push(\"\\n\");\n          }\n        }\n\n        texts.push(removeNullCharacters(buffer.join(\"\")));\n      }\n\n      return texts.join(\"\\n\");\n    })();\n  }\n\n  #copyCallback(textLayerMode, event) {\n    const selection = document.getSelection();\n    const {\n      focusNode,\n      anchorNode\n    } = selection;\n\n    if (anchorNode && focusNode && selection.containsNode(this.#hiddenCopyElement)) {\n      if (this.#getAllTextInProgress || textLayerMode === TextLayerMode.ENABLE_PERMISSIONS) {\n        event.preventDefault();\n        event.stopPropagation();\n        return;\n      }\n\n      this.#getAllTextInProgress = true;\n      const {\n        classList\n      } = this.viewer;\n      classList.add(\"copyAll\");\n      const ac = new AbortController();\n      window.addEventListener(\"keydown\", ev => this.#interruptCopyCondition = ev.key === \"Escape\", {\n        signal: ac.signal\n      });\n      this.getAllText().then( /*#__PURE__*/function () {\n        var _ref4 = _asyncToGenerator(function* (text) {\n          if (text !== null) {\n            yield navigator.clipboard.writeText(text);\n          }\n        });\n\n        return function (_x3) {\n          return _ref4.apply(this, arguments);\n        };\n      }()).catch(reason => {\n        console.warn(`Something goes wrong when extracting the text: ${reason.message}`);\n      }).finally(() => {\n        this.#getAllTextInProgress = false;\n        this.#interruptCopyCondition = false;\n        ac.abort();\n        classList.remove(\"copyAll\");\n      });\n      event.preventDefault();\n      event.stopPropagation();\n    }\n  }\n\n  setDocument(pdfDocument) {\n    var _this41 = this;\n\n    if (this.pdfDocument) {\n      this.eventBus.dispatch(\"pagesdestroy\", {\n        source: this\n      });\n\n      this._cancelRendering();\n\n      this._resetView();\n\n      this.findController?.setDocument(null);\n      this._scriptingManager?.setDocument(null);\n      this.#annotationEditorUIManager?.destroy();\n      this.#annotationEditorUIManager = null;\n    }\n\n    this.pdfDocument = pdfDocument;\n\n    if (!pdfDocument) {\n      return;\n    }\n\n    const pagesCount = pdfDocument.numPages;\n    const firstPagePromise = pdfDocument.getPage(1);\n    const optionalContentConfigPromise = pdfDocument.getOptionalContentConfig({\n      intent: \"display\"\n    });\n    const permissionsPromise = this.#enablePermissions ? pdfDocument.getPermissions() : Promise.resolve();\n    const {\n      eventBus,\n      pageColors,\n      viewer\n    } = this;\n    this.#eventAbortController = new AbortController();\n    const {\n      signal\n    } = this.#eventAbortController;\n\n    if (pagesCount > PagesCountLimit.FORCE_SCROLL_MODE_PAGE) {\n      console.warn(\"Forcing PAGE-scrolling for performance reasons, given the length of the document.\");\n      const mode = this._scrollMode = ScrollMode.PAGE;\n      eventBus.dispatch(\"scrollmodechanged\", {\n        source: this,\n        mode\n      });\n    }\n\n    this._pagesCapability.promise.then(() => {\n      eventBus.dispatch(\"pagesloaded\", {\n        source: this,\n        pagesCount\n      });\n    }, () => {});\n\n    const onBeforeDraw = evt => {\n      const pageView = this._pages[evt.pageNumber - 1];\n\n      if (!pageView) {\n        return;\n      }\n\n      this.#buffer.push(pageView);\n    };\n\n    eventBus._on(\"pagerender\", onBeforeDraw, {\n      signal\n    });\n\n    const onAfterDraw = evt => {\n      if (evt.cssTransform) {\n        return;\n      }\n\n      this._onePageRenderedCapability.resolve({\n        timestamp: evt.timestamp\n      });\n\n      eventBus._off(\"pagerendered\", onAfterDraw);\n    };\n\n    eventBus._on(\"pagerendered\", onAfterDraw, {\n      signal\n    });\n\n    Promise.all([firstPagePromise, permissionsPromise]).then(([firstPdfPage, permissions]) => {\n      if (pdfDocument !== this.pdfDocument) {\n        return;\n      }\n\n      this._firstPageCapability.resolve(firstPdfPage);\n\n      this._optionalContentConfigPromise = optionalContentConfigPromise;\n      const {\n        annotationEditorMode,\n        annotationMode,\n        textLayerMode\n      } = this.#initializePermissions(permissions);\n\n      if (textLayerMode !== TextLayerMode.DISABLE) {\n        const element = this.#hiddenCopyElement = document.createElement(\"div\");\n        element.id = \"hiddenCopyElement\";\n        viewer.before(element);\n      }\n\n      if (typeof AbortSignal.any === \"function\" && annotationEditorMode !== AnnotationEditorType.DISABLE) {\n        const mode = annotationEditorMode;\n\n        if (pdfDocument.isPureXfa) {\n          console.warn(\"Warning: XFA-editing is not implemented.\");\n        } else if (isValidAnnotationEditorMode(mode)) {\n          this.#annotationEditorUIManager = new AnnotationEditorUIManager(this.container, viewer, this.#altTextManager, eventBus, pdfDocument, pageColors, this.#annotationEditorHighlightColors, this.#enableHighlightFloatingButton, this.#enableUpdatedAddImage, this.#enableNewAltTextWhenAddingImage, this.#mlManager);\n          eventBus.dispatch(\"annotationeditoruimanager\", {\n            source: this,\n            uiManager: this.#annotationEditorUIManager\n          });\n\n          if (mode !== AnnotationEditorType.NONE) {\n            if (mode === AnnotationEditorType.STAMP) {\n              this.#mlManager?.loadModel(\"altText\");\n            }\n\n            this.#annotationEditorUIManager.updateMode(mode);\n          }\n        } else {\n          console.error(`Invalid AnnotationEditor mode: ${mode}`);\n        }\n      }\n\n      const viewerElement = this._scrollMode === ScrollMode.PAGE ? null : viewer;\n      const scale = this.currentScale;\n      const viewport = firstPdfPage.getViewport({\n        scale: scale * PixelsPerInch.PDF_TO_CSS_UNITS\n      });\n      viewer.style.setProperty(\"--scale-factor\", viewport.scale);\n\n      if (pageColors?.foreground === \"CanvasText\" || pageColors?.background === \"Canvas\") {\n        viewer.style.setProperty(\"--hcm-highlight-filter\", pdfDocument.filterFactory.addHighlightHCMFilter(\"highlight\", \"CanvasText\", \"Canvas\", \"HighlightText\", \"Highlight\"));\n        viewer.style.setProperty(\"--hcm-highlight-selected-filter\", pdfDocument.filterFactory.addHighlightHCMFilter(\"highlight_selected\", \"CanvasText\", \"Canvas\", \"HighlightText\", \"ButtonText\"));\n      }\n\n      for (let pageNum = 1; pageNum <= pagesCount; ++pageNum) {\n        const pageView = new PDFPageView({\n          container: viewerElement,\n          eventBus,\n          id: pageNum,\n          scale,\n          defaultViewport: viewport.clone(),\n          optionalContentConfigPromise,\n          renderingQueue: this.renderingQueue,\n          textLayerMode,\n          annotationMode,\n          imageResourcesPath: this.imageResourcesPath,\n          maxCanvasPixels: this.maxCanvasPixels,\n          pageColors,\n          l10n: this.l10n,\n          layerProperties: this._layerProperties,\n          enableHWA: this.#enableHWA\n        });\n\n        this._pages.push(pageView);\n      }\n\n      this._pages[0]?.setPdfPage(firstPdfPage);\n\n      if (this._scrollMode === ScrollMode.PAGE) {\n        this.#ensurePageViewVisible();\n      } else if (this._spreadMode !== SpreadMode.NONE) {\n        this._updateSpreadMode();\n      }\n\n      this.#onePageRenderedOrForceFetch(signal).then( /*#__PURE__*/_asyncToGenerator(function* () {\n        if (pdfDocument !== _this41.pdfDocument) {\n          return;\n        }\n\n        _this41.findController?.setDocument(pdfDocument);\n        _this41._scriptingManager?.setDocument(pdfDocument);\n\n        if (_this41.#hiddenCopyElement) {\n          document.addEventListener(\"copy\", _this41.#copyCallback.bind(_this41, textLayerMode), {\n            signal\n          });\n        }\n\n        if (_this41.#annotationEditorUIManager) {\n          eventBus.dispatch(\"annotationeditormodechanged\", {\n            source: _this41,\n            mode: _this41.#annotationEditorMode\n          });\n        }\n\n        if (pdfDocument.loadingParams.disableAutoFetch || pagesCount > PagesCountLimit.FORCE_LAZY_PAGE_INIT) {\n          _this41._pagesCapability.resolve();\n\n          return;\n        }\n\n        let getPagesLeft = pagesCount - 1;\n\n        if (getPagesLeft <= 0) {\n          _this41._pagesCapability.resolve();\n\n          return;\n        }\n\n        for (let pageNum = 2; pageNum <= pagesCount; ++pageNum) {\n          const promise = pdfDocument.getPage(pageNum).then(pdfPage => {\n            const pageView = _this41._pages[pageNum - 1];\n\n            if (!pageView.pdfPage) {\n              pageView.setPdfPage(pdfPage);\n            }\n\n            if (--getPagesLeft === 0) {\n              _this41._pagesCapability.resolve();\n            }\n          }, reason => {\n            console.error(`Unable to get page ${pageNum} to initialize viewer`, reason);\n\n            if (--getPagesLeft === 0) {\n              _this41._pagesCapability.resolve();\n            }\n          });\n\n          if (pageNum % PagesCountLimit.PAUSE_EAGER_PAGE_INIT === 0) {\n            yield promise;\n          }\n        }\n      }));\n      eventBus.dispatch(\"pagesinit\", {\n        source: this\n      });\n      pdfDocument.getMetadata().then(({\n        info\n      }) => {\n        if (pdfDocument !== this.pdfDocument) {\n          return;\n        }\n\n        if (info.Language) {\n          viewer.lang = info.Language;\n        }\n      });\n\n      if (this.defaultRenderingQueue) {\n        this.update();\n      }\n    }).catch(reason => {\n      console.error(\"Unable to initialize viewer\", reason);\n\n      this._pagesCapability.reject(reason);\n    });\n  }\n\n  setPageLabels(labels) {\n    if (!this.pdfDocument) {\n      return;\n    }\n\n    if (!labels) {\n      this._pageLabels = null;\n    } else if (!(Array.isArray(labels) && this.pdfDocument.numPages === labels.length)) {\n      this._pageLabels = null;\n      console.error(`setPageLabels: Invalid page labels.`);\n    } else {\n      this._pageLabels = labels;\n    }\n\n    for (let i = 0, ii = this._pages.length; i < ii; i++) {\n      this._pages[i].setPageLabel(this._pageLabels?.[i] ?? null);\n    }\n  }\n\n  _resetView() {\n    this._pages = [];\n    this._currentPageNumber = 1;\n    this._currentScale = UNKNOWN_SCALE;\n    this._currentScaleValue = null;\n    this._pageLabels = null;\n    this.#buffer = new PDFPageViewBuffer(DEFAULT_CACHE_SIZE);\n    this._location = null;\n    this._pagesRotation = 0;\n    this._optionalContentConfigPromise = null;\n    this._firstPageCapability = Promise.withResolvers();\n    this._onePageRenderedCapability = Promise.withResolvers();\n    this._pagesCapability = Promise.withResolvers();\n    this._scrollMode = ScrollMode.VERTICAL;\n    this._previousScrollMode = ScrollMode.UNKNOWN;\n    this._spreadMode = SpreadMode.NONE;\n    this.#scrollModePageState = {\n      previousPageNumber: 1,\n      scrollDown: true,\n      pages: []\n    };\n    this.#eventAbortController?.abort();\n    this.#eventAbortController = null;\n    this.viewer.textContent = \"\";\n\n    this._updateScrollMode();\n\n    this.viewer.removeAttribute(\"lang\");\n    this.#hiddenCopyElement?.remove();\n    this.#hiddenCopyElement = null;\n    this.#cleanupSwitchAnnotationEditorMode();\n  }\n\n  #ensurePageViewVisible() {\n    if (this._scrollMode !== ScrollMode.PAGE) {\n      throw new Error(\"#ensurePageViewVisible: Invalid scrollMode value.\");\n    }\n\n    const pageNumber = this._currentPageNumber,\n          state = this.#scrollModePageState,\n          viewer = this.viewer;\n    viewer.textContent = \"\";\n    state.pages.length = 0;\n\n    if (this._spreadMode === SpreadMode.NONE && !this.isInPresentationMode) {\n      const pageView = this._pages[pageNumber - 1];\n      viewer.append(pageView.div);\n      state.pages.push(pageView);\n    } else {\n      const pageIndexSet = new Set(),\n            parity = this._spreadMode - 1;\n\n      if (parity === -1) {\n        pageIndexSet.add(pageNumber - 1);\n      } else if (pageNumber % 2 !== parity) {\n        pageIndexSet.add(pageNumber - 1);\n        pageIndexSet.add(pageNumber);\n      } else {\n        pageIndexSet.add(pageNumber - 2);\n        pageIndexSet.add(pageNumber - 1);\n      }\n\n      const spread = document.createElement(\"div\");\n      spread.className = \"spread\";\n\n      if (this.isInPresentationMode) {\n        const dummyPage = document.createElement(\"div\");\n        dummyPage.className = \"dummyPage\";\n        spread.append(dummyPage);\n      }\n\n      for (const i of pageIndexSet) {\n        const pageView = this._pages[i];\n\n        if (!pageView) {\n          continue;\n        }\n\n        spread.append(pageView.div);\n        state.pages.push(pageView);\n      }\n\n      viewer.append(spread);\n    }\n\n    state.scrollDown = pageNumber >= state.previousPageNumber;\n    state.previousPageNumber = pageNumber;\n  }\n\n  _scrollUpdate() {\n    if (this.pagesCount === 0) {\n      return;\n    }\n\n    this.update();\n  }\n\n  #scrollIntoView(pageView, pageSpot = null) {\n    const {\n      div,\n      id\n    } = pageView;\n\n    if (this._currentPageNumber !== id) {\n      this._setCurrentPageNumber(id);\n    }\n\n    if (this._scrollMode === ScrollMode.PAGE) {\n      this.#ensurePageViewVisible();\n      this.update();\n    }\n\n    if (!pageSpot && !this.isInPresentationMode) {\n      const left = div.offsetLeft + div.clientLeft,\n            right = left + div.clientWidth;\n      const {\n        scrollLeft,\n        clientWidth\n      } = this.container;\n\n      if (this._scrollMode === ScrollMode.HORIZONTAL || left < scrollLeft || right > scrollLeft + clientWidth) {\n        pageSpot = {\n          left: 0,\n          top: 0\n        };\n      }\n    }\n\n    scrollIntoView(div, pageSpot);\n\n    if (!this._currentScaleValue && this._location) {\n      this._location = null;\n    }\n  }\n\n  #isSameScale(newScale) {\n    return newScale === this._currentScale || Math.abs(newScale - this._currentScale) < 1e-15;\n  }\n\n  #setScaleUpdatePages(newScale, newValue, {\n    noScroll = false,\n    preset = false,\n    drawingDelay = -1,\n    origin = null\n  }) {\n    this._currentScaleValue = newValue.toString();\n\n    if (this.#isSameScale(newScale)) {\n      if (preset) {\n        this.eventBus.dispatch(\"scalechanging\", {\n          source: this,\n          scale: newScale,\n          presetValue: newValue\n        });\n      }\n\n      return;\n    }\n\n    this.viewer.style.setProperty(\"--scale-factor\", newScale * PixelsPerInch.PDF_TO_CSS_UNITS);\n    const postponeDrawing = drawingDelay >= 0 && drawingDelay < 1000;\n    this.refresh(true, {\n      scale: newScale,\n      drawingDelay: postponeDrawing ? drawingDelay : -1\n    });\n\n    if (postponeDrawing) {\n      this.#scaleTimeoutId = setTimeout(() => {\n        this.#scaleTimeoutId = null;\n        this.refresh();\n      }, drawingDelay);\n    }\n\n    const previousScale = this._currentScale;\n    this._currentScale = newScale;\n\n    if (!noScroll) {\n      let page = this._currentPageNumber,\n          dest;\n\n      if (this._location && !(this.isInPresentationMode || this.isChangingPresentationMode)) {\n        page = this._location.pageNumber;\n        dest = [null, {\n          name: \"XYZ\"\n        }, this._location.left, this._location.top, null];\n      }\n\n      this.scrollPageIntoView({\n        pageNumber: page,\n        destArray: dest,\n        allowNegativeOffset: true\n      });\n\n      if (Array.isArray(origin)) {\n        const scaleDiff = newScale / previousScale - 1;\n        const [top, left] = this.containerTopLeft;\n        this.container.scrollLeft += (origin[0] - left) * scaleDiff;\n        this.container.scrollTop += (origin[1] - top) * scaleDiff;\n      }\n    }\n\n    this.eventBus.dispatch(\"scalechanging\", {\n      source: this,\n      scale: newScale,\n      presetValue: preset ? newValue : undefined\n    });\n\n    if (this.defaultRenderingQueue) {\n      this.update();\n    }\n  }\n\n  get #pageWidthScaleFactor() {\n    if (this._spreadMode !== SpreadMode.NONE && this._scrollMode !== ScrollMode.HORIZONTAL) {\n      return 2;\n    }\n\n    return 1;\n  }\n\n  #setScale(value, options) {\n    let scale = parseFloat(value);\n\n    if (scale > 0) {\n      options.preset = false;\n      this.#setScaleUpdatePages(scale, value, options);\n    } else {\n      const currentPage = this._pages[this._currentPageNumber - 1];\n\n      if (!currentPage) {\n        return;\n      }\n\n      let hPadding = SCROLLBAR_PADDING,\n          vPadding = VERTICAL_PADDING;\n\n      if (this.isInPresentationMode) {\n        hPadding = vPadding = 4;\n\n        if (this._spreadMode !== SpreadMode.NONE) {\n          hPadding *= 2;\n        }\n      } else if (this.removePageBorders) {\n        hPadding = vPadding = 0;\n      } else if (this._scrollMode === ScrollMode.HORIZONTAL) {\n        [hPadding, vPadding] = [vPadding, hPadding];\n      }\n\n      const pageWidthScale = (this.container.clientWidth - hPadding) / currentPage.width * currentPage.scale / this.#pageWidthScaleFactor;\n      const pageHeightScale = (this.container.clientHeight - vPadding) / currentPage.height * currentPage.scale;\n\n      switch (value) {\n        case \"page-actual\":\n          scale = 1;\n          break;\n\n        case \"page-width\":\n          scale = pageWidthScale;\n          break;\n\n        case \"page-height\":\n          scale = pageHeightScale;\n          break;\n\n        case \"page-fit\":\n          scale = Math.min(pageWidthScale, pageHeightScale);\n          break;\n\n        case \"auto\":\n          const horizontalScale = isPortraitOrientation(currentPage) ? pageWidthScale : Math.min(pageHeightScale, pageWidthScale);\n          scale = Math.min(MAX_AUTO_SCALE, horizontalScale);\n          break;\n\n        default:\n          console.error(`#setScale: \"${value}\" is an unknown zoom value.`);\n          return;\n      }\n\n      options.preset = true;\n      this.#setScaleUpdatePages(scale, value, options);\n    }\n  }\n\n  #resetCurrentPageView() {\n    const pageView = this._pages[this._currentPageNumber - 1];\n\n    if (this.isInPresentationMode) {\n      this.#setScale(this._currentScaleValue, {\n        noScroll: true\n      });\n    }\n\n    this.#scrollIntoView(pageView);\n  }\n\n  pageLabelToPageNumber(label) {\n    if (!this._pageLabels) {\n      return null;\n    }\n\n    const i = this._pageLabels.indexOf(label);\n\n    if (i < 0) {\n      return null;\n    }\n\n    return i + 1;\n  }\n\n  scrollPageIntoView({\n    pageNumber,\n    destArray = null,\n    allowNegativeOffset = false,\n    ignoreDestinationZoom = false\n  }) {\n    if (!this.pdfDocument) {\n      return;\n    }\n\n    const pageView = Number.isInteger(pageNumber) && this._pages[pageNumber - 1];\n\n    if (!pageView) {\n      console.error(`scrollPageIntoView: \"${pageNumber}\" is not a valid pageNumber parameter.`);\n      return;\n    }\n\n    if (this.isInPresentationMode || !destArray) {\n      this._setCurrentPageNumber(pageNumber, true);\n\n      return;\n    }\n\n    let x = 0,\n        y = 0;\n    let width = 0,\n        height = 0,\n        widthScale,\n        heightScale;\n    const changeOrientation = pageView.rotation % 180 !== 0;\n    const pageWidth = (changeOrientation ? pageView.height : pageView.width) / pageView.scale / PixelsPerInch.PDF_TO_CSS_UNITS;\n    const pageHeight = (changeOrientation ? pageView.width : pageView.height) / pageView.scale / PixelsPerInch.PDF_TO_CSS_UNITS;\n    let scale = 0;\n\n    switch (destArray[1].name) {\n      case \"XYZ\":\n        x = destArray[2];\n        y = destArray[3];\n        scale = destArray[4];\n        x = x !== null ? x : 0;\n        y = y !== null ? y : pageHeight;\n        break;\n\n      case \"Fit\":\n      case \"FitB\":\n        scale = \"page-fit\";\n        break;\n\n      case \"FitH\":\n      case \"FitBH\":\n        y = destArray[2];\n        scale = \"page-width\";\n\n        if (y === null && this._location) {\n          x = this._location.left;\n          y = this._location.top;\n        } else if (typeof y !== \"number\" || y < 0) {\n          y = pageHeight;\n        }\n\n        break;\n\n      case \"FitV\":\n      case \"FitBV\":\n        x = destArray[2];\n        width = pageWidth;\n        height = pageHeight;\n        scale = \"page-height\";\n        break;\n\n      case \"FitR\":\n        x = destArray[2];\n        y = destArray[3];\n        width = destArray[4] - x;\n        height = destArray[5] - y;\n        let hPadding = SCROLLBAR_PADDING,\n            vPadding = VERTICAL_PADDING;\n\n        if (this.removePageBorders) {\n          hPadding = vPadding = 0;\n        }\n\n        widthScale = (this.container.clientWidth - hPadding) / width / PixelsPerInch.PDF_TO_CSS_UNITS;\n        heightScale = (this.container.clientHeight - vPadding) / height / PixelsPerInch.PDF_TO_CSS_UNITS;\n        scale = Math.min(Math.abs(widthScale), Math.abs(heightScale));\n        break;\n\n      default:\n        console.error(`scrollPageIntoView: \"${destArray[1].name}\" is not a valid destination type.`);\n        return;\n    }\n\n    if (!ignoreDestinationZoom) {\n      if (scale && scale !== this._currentScale) {\n        this.currentScaleValue = scale;\n      } else if (this._currentScale === UNKNOWN_SCALE) {\n        this.currentScaleValue = DEFAULT_SCALE_VALUE;\n      }\n    }\n\n    if (scale === \"page-fit\" && !destArray[4]) {\n      this.#scrollIntoView(pageView);\n      return;\n    }\n\n    const boundingRect = [pageView.viewport.convertToViewportPoint(x, y), pageView.viewport.convertToViewportPoint(x + width, y + height)];\n    let left = Math.min(boundingRect[0][0], boundingRect[1][0]);\n    let top = Math.min(boundingRect[0][1], boundingRect[1][1]);\n\n    if (!allowNegativeOffset) {\n      left = Math.max(left, 0);\n      top = Math.max(top, 0);\n    }\n\n    this.#scrollIntoView(pageView, {\n      left,\n      top\n    });\n  }\n\n  _updateLocation(firstPage) {\n    const currentScale = this._currentScale;\n    const currentScaleValue = this._currentScaleValue;\n    const normalizedScaleValue = parseFloat(currentScaleValue) === currentScale ? Math.round(currentScale * 10000) / 100 : currentScaleValue;\n    const pageNumber = firstPage.id;\n    const currentPageView = this._pages[pageNumber - 1];\n    const container = this.container;\n    const topLeft = currentPageView.getPagePoint(container.scrollLeft - firstPage.x, container.scrollTop - firstPage.y);\n    const intLeft = Math.round(topLeft[0]);\n    const intTop = Math.round(topLeft[1]);\n    let pdfOpenParams = `#page=${pageNumber}`;\n\n    if (!this.isInPresentationMode) {\n      pdfOpenParams += `&zoom=${normalizedScaleValue},${intLeft},${intTop}`;\n    }\n\n    this._location = {\n      pageNumber,\n      scale: normalizedScaleValue,\n      top: intTop,\n      left: intLeft,\n      rotation: this._pagesRotation,\n      pdfOpenParams\n    };\n  }\n\n  update() {\n    const visible = this._getVisiblePages();\n\n    const visiblePages = visible.views,\n          numVisiblePages = visiblePages.length;\n\n    if (numVisiblePages === 0) {\n      return;\n    }\n\n    const newCacheSize = Math.max(DEFAULT_CACHE_SIZE, 2 * numVisiblePages + 1);\n    this.#buffer.resize(newCacheSize, visible.ids);\n    this.renderingQueue.renderHighestPriority(visible);\n    const isSimpleLayout = this._spreadMode === SpreadMode.NONE && (this._scrollMode === ScrollMode.PAGE || this._scrollMode === ScrollMode.VERTICAL);\n    const currentId = this._currentPageNumber;\n    let stillFullyVisible = false;\n\n    for (const page of visiblePages) {\n      if (page.percent < 100) {\n        break;\n      }\n\n      if (page.id === currentId && isSimpleLayout) {\n        stillFullyVisible = true;\n        break;\n      }\n    }\n\n    this._setCurrentPageNumber(stillFullyVisible ? currentId : visiblePages[0].id);\n\n    this._updateLocation(visible.first);\n\n    this.eventBus.dispatch(\"updateviewarea\", {\n      source: this,\n      location: this._location\n    });\n  }\n\n  #switchToEditAnnotationMode() {\n    const visible = this._getVisiblePages();\n\n    const pagesToRefresh = [];\n    const {\n      ids,\n      views\n    } = visible;\n\n    for (const page of views) {\n      const {\n        view\n      } = page;\n\n      if (!view.hasEditableAnnotations()) {\n        ids.delete(view.id);\n        continue;\n      }\n\n      pagesToRefresh.push(page);\n    }\n\n    if (pagesToRefresh.length === 0) {\n      return null;\n    }\n\n    this.renderingQueue.renderHighestPriority({\n      first: pagesToRefresh[0],\n      last: pagesToRefresh.at(-1),\n      views: pagesToRefresh,\n      ids\n    });\n    return ids;\n  }\n\n  containsElement(element) {\n    return this.container.contains(element);\n  }\n\n  focus() {\n    this.container.focus();\n  }\n\n  get _isContainerRtl() {\n    return getComputedStyle(this.container).direction === \"rtl\";\n  }\n\n  get isInPresentationMode() {\n    return this.presentationModeState === PresentationModeState.FULLSCREEN;\n  }\n\n  get isChangingPresentationMode() {\n    return this.presentationModeState === PresentationModeState.CHANGING;\n  }\n\n  get isHorizontalScrollbarEnabled() {\n    return this.isInPresentationMode ? false : this.container.scrollWidth > this.container.clientWidth;\n  }\n\n  get isVerticalScrollbarEnabled() {\n    return this.isInPresentationMode ? false : this.container.scrollHeight > this.container.clientHeight;\n  }\n\n  _getVisiblePages() {\n    const views = this._scrollMode === ScrollMode.PAGE ? this.#scrollModePageState.pages : this._pages,\n          horizontal = this._scrollMode === ScrollMode.HORIZONTAL,\n          rtl = horizontal && this._isContainerRtl;\n    return getVisibleElements({\n      scrollEl: this.container,\n      views,\n      sortByVisibility: true,\n      horizontal,\n      rtl\n    });\n  }\n\n  cleanup() {\n    for (const pageView of this._pages) {\n      if (pageView.renderingState !== RenderingStates.FINISHED) {\n        pageView.reset();\n      }\n    }\n  }\n\n  _cancelRendering() {\n    for (const pageView of this._pages) {\n      pageView.cancelRendering();\n    }\n  }\n\n  #ensurePdfPageLoaded(pageView) {\n    var _this42 = this;\n\n    return _asyncToGenerator(function* () {\n      if (pageView.pdfPage) {\n        return pageView.pdfPage;\n      }\n\n      try {\n        const pdfPage = yield _this42.pdfDocument.getPage(pageView.id);\n\n        if (!pageView.pdfPage) {\n          pageView.setPdfPage(pdfPage);\n        }\n\n        return pdfPage;\n      } catch (reason) {\n        console.error(\"Unable to get page for page view\", reason);\n        return null;\n      }\n    })();\n  }\n\n  #getScrollAhead(visible) {\n    if (visible.first?.id === 1) {\n      return true;\n    } else if (visible.last?.id === this.pagesCount) {\n      return false;\n    }\n\n    switch (this._scrollMode) {\n      case ScrollMode.PAGE:\n        return this.#scrollModePageState.scrollDown;\n\n      case ScrollMode.HORIZONTAL:\n        return this.scroll.right;\n    }\n\n    return this.scroll.down;\n  }\n\n  forceRendering(currentlyVisiblePages) {\n    const visiblePages = currentlyVisiblePages || this._getVisiblePages();\n\n    const scrollAhead = this.#getScrollAhead(visiblePages);\n    const preRenderExtra = this._spreadMode !== SpreadMode.NONE && this._scrollMode !== ScrollMode.HORIZONTAL;\n    const pageView = this.renderingQueue.getHighestPriority(visiblePages, this._pages, scrollAhead, preRenderExtra);\n\n    if (pageView) {\n      this.#ensurePdfPageLoaded(pageView).then(() => {\n        this.renderingQueue.renderView(pageView);\n      });\n      return true;\n    }\n\n    return false;\n  }\n\n  get hasEqualPageSizes() {\n    const firstPageView = this._pages[0];\n\n    for (let i = 1, ii = this._pages.length; i < ii; ++i) {\n      const pageView = this._pages[i];\n\n      if (pageView.width !== firstPageView.width || pageView.height !== firstPageView.height) {\n        return false;\n      }\n    }\n\n    return true;\n  }\n\n  getPagesOverview() {\n    let initialOrientation;\n    return this._pages.map(pageView => {\n      const viewport = pageView.pdfPage.getViewport({\n        scale: 1\n      });\n      const orientation = isPortraitOrientation(viewport);\n\n      if (initialOrientation === undefined) {\n        initialOrientation = orientation;\n      } else if (this.enablePrintAutoRotate && orientation !== initialOrientation) {\n        return {\n          width: viewport.height,\n          height: viewport.width,\n          rotation: (viewport.rotation - 90) % 360\n        };\n      }\n\n      return {\n        width: viewport.width,\n        height: viewport.height,\n        rotation: viewport.rotation\n      };\n    });\n  }\n\n  get optionalContentConfigPromise() {\n    if (!this.pdfDocument) {\n      return Promise.resolve(null);\n    }\n\n    if (!this._optionalContentConfigPromise) {\n      console.error(\"optionalContentConfigPromise: Not initialized yet.\");\n      return this.pdfDocument.getOptionalContentConfig({\n        intent: \"display\"\n      });\n    }\n\n    return this._optionalContentConfigPromise;\n  }\n\n  set optionalContentConfigPromise(promise) {\n    if (!(promise instanceof Promise)) {\n      throw new Error(`Invalid optionalContentConfigPromise: ${promise}`);\n    }\n\n    if (!this.pdfDocument) {\n      return;\n    }\n\n    if (!this._optionalContentConfigPromise) {\n      return;\n    }\n\n    this._optionalContentConfigPromise = promise;\n    this.refresh(false, {\n      optionalContentConfigPromise: promise\n    });\n    this.eventBus.dispatch(\"optionalcontentconfigchanged\", {\n      source: this,\n      promise\n    });\n  }\n\n  get scrollMode() {\n    return this._scrollMode;\n  }\n\n  set scrollMode(mode) {\n    if (this._scrollMode === mode) {\n      return;\n    }\n\n    if (!isValidScrollMode(mode)) {\n      throw new Error(`Invalid scroll mode: ${mode}`);\n    }\n\n    if (this.pagesCount > PagesCountLimit.FORCE_SCROLL_MODE_PAGE) {\n      return;\n    }\n\n    this._previousScrollMode = this._scrollMode;\n    this._scrollMode = mode;\n    this.eventBus.dispatch(\"scrollmodechanged\", {\n      source: this,\n      mode\n    });\n\n    this._updateScrollMode(this._currentPageNumber);\n  }\n\n  _updateScrollMode(pageNumber = null) {\n    const scrollMode = this._scrollMode,\n          viewer = this.viewer;\n    viewer.classList.toggle(\"scrollHorizontal\", scrollMode === ScrollMode.HORIZONTAL);\n    viewer.classList.toggle(\"scrollWrapped\", scrollMode === ScrollMode.WRAPPED);\n\n    if (!this.pdfDocument || !pageNumber) {\n      return;\n    }\n\n    if (scrollMode === ScrollMode.PAGE) {\n      this.#ensurePageViewVisible();\n    } else if (this._previousScrollMode === ScrollMode.PAGE) {\n      this._updateSpreadMode();\n    }\n\n    if (this._currentScaleValue && isNaN(this._currentScaleValue)) {\n      this.#setScale(this._currentScaleValue, {\n        noScroll: true\n      });\n    }\n\n    this._setCurrentPageNumber(pageNumber, true);\n\n    this.update();\n  }\n\n  get spreadMode() {\n    return this._spreadMode;\n  }\n\n  set spreadMode(mode) {\n    if (this._spreadMode === mode) {\n      return;\n    }\n\n    if (!isValidSpreadMode(mode)) {\n      throw new Error(`Invalid spread mode: ${mode}`);\n    }\n\n    this._spreadMode = mode;\n    this.eventBus.dispatch(\"spreadmodechanged\", {\n      source: this,\n      mode\n    });\n\n    this._updateSpreadMode(this._currentPageNumber);\n  }\n\n  _updateSpreadMode(pageNumber = null) {\n    if (!this.pdfDocument) {\n      return;\n    }\n\n    const viewer = this.viewer,\n          pages = this._pages;\n\n    if (this._scrollMode === ScrollMode.PAGE) {\n      this.#ensurePageViewVisible();\n    } else {\n      viewer.textContent = \"\";\n\n      if (this._spreadMode === SpreadMode.NONE) {\n        for (const pageView of this._pages) {\n          viewer.append(pageView.div);\n        }\n      } else {\n        const parity = this._spreadMode - 1;\n        let spread = null;\n\n        for (let i = 0, ii = pages.length; i < ii; ++i) {\n          if (spread === null) {\n            spread = document.createElement(\"div\");\n            spread.className = \"spread\";\n            viewer.append(spread);\n          } else if (i % 2 === parity) {\n            spread = spread.cloneNode(false);\n            viewer.append(spread);\n          }\n\n          spread.append(pages[i].div);\n        }\n      }\n    }\n\n    if (!pageNumber) {\n      return;\n    }\n\n    if (this._currentScaleValue && isNaN(this._currentScaleValue)) {\n      this.#setScale(this._currentScaleValue, {\n        noScroll: true\n      });\n    }\n\n    this._setCurrentPageNumber(pageNumber, true);\n\n    this.update();\n  }\n\n  _getPageAdvance(currentPageNumber, previous = false) {\n    switch (this._scrollMode) {\n      case ScrollMode.WRAPPED:\n        {\n          const {\n            views\n          } = this._getVisiblePages(),\n                pageLayout = new Map();\n\n          for (const {\n            id,\n            y,\n            percent,\n            widthPercent\n          } of views) {\n            if (percent === 0 || widthPercent < 100) {\n              continue;\n            }\n\n            let yArray = pageLayout.get(y);\n\n            if (!yArray) {\n              pageLayout.set(y, yArray ||= []);\n            }\n\n            yArray.push(id);\n          }\n\n          for (const yArray of pageLayout.values()) {\n            const currentIndex = yArray.indexOf(currentPageNumber);\n\n            if (currentIndex === -1) {\n              continue;\n            }\n\n            const numPages = yArray.length;\n\n            if (numPages === 1) {\n              break;\n            }\n\n            if (previous) {\n              for (let i = currentIndex - 1, ii = 0; i >= ii; i--) {\n                const currentId = yArray[i],\n                      expectedId = yArray[i + 1] - 1;\n\n                if (currentId < expectedId) {\n                  return currentPageNumber - expectedId;\n                }\n              }\n            } else {\n              for (let i = currentIndex + 1, ii = numPages; i < ii; i++) {\n                const currentId = yArray[i],\n                      expectedId = yArray[i - 1] + 1;\n\n                if (currentId > expectedId) {\n                  return expectedId - currentPageNumber;\n                }\n              }\n            }\n\n            if (previous) {\n              const firstId = yArray[0];\n\n              if (firstId < currentPageNumber) {\n                return currentPageNumber - firstId + 1;\n              }\n            } else {\n              const lastId = yArray[numPages - 1];\n\n              if (lastId > currentPageNumber) {\n                return lastId - currentPageNumber + 1;\n              }\n            }\n\n            break;\n          }\n\n          break;\n        }\n\n      case ScrollMode.HORIZONTAL:\n        {\n          break;\n        }\n\n      case ScrollMode.PAGE:\n      case ScrollMode.VERTICAL:\n        {\n          if (this._spreadMode === SpreadMode.NONE) {\n            break;\n          }\n\n          const parity = this._spreadMode - 1;\n\n          if (previous && currentPageNumber % 2 !== parity) {\n            break;\n          } else if (!previous && currentPageNumber % 2 === parity) {\n            break;\n          }\n\n          const {\n            views\n          } = this._getVisiblePages(),\n                expectedId = previous ? currentPageNumber - 1 : currentPageNumber + 1;\n\n          for (const {\n            id,\n            percent,\n            widthPercent\n          } of views) {\n            if (id !== expectedId) {\n              continue;\n            }\n\n            if (percent > 0 && widthPercent === 100) {\n              return 2;\n            }\n\n            break;\n          }\n\n          break;\n        }\n    }\n\n    return 1;\n  }\n\n  nextPage() {\n    const currentPageNumber = this._currentPageNumber,\n          pagesCount = this.pagesCount;\n\n    if (currentPageNumber >= pagesCount) {\n      return false;\n    }\n\n    const advance = this._getPageAdvance(currentPageNumber, false) || 1;\n    this.currentPageNumber = Math.min(currentPageNumber + advance, pagesCount);\n    return true;\n  }\n\n  previousPage() {\n    const currentPageNumber = this._currentPageNumber;\n\n    if (currentPageNumber <= 1) {\n      return false;\n    }\n\n    const advance = this._getPageAdvance(currentPageNumber, true) || 1;\n    this.currentPageNumber = Math.max(currentPageNumber - advance, 1);\n    return true;\n  }\n\n  updateScale({\n    drawingDelay,\n    scaleFactor = null,\n    steps = null,\n    origin\n  }) {\n    if (steps === null && scaleFactor === null) {\n      throw new Error(\"Invalid updateScale options: either `steps` or `scaleFactor` must be provided.\");\n    }\n\n    if (!this.pdfDocument) {\n      return;\n    }\n\n    let newScale = this._currentScale;\n\n    if (scaleFactor > 0 && scaleFactor !== 1) {\n      newScale = Math.round(newScale * scaleFactor * 100) / 100;\n    } else if (steps) {\n      const delta = steps > 0 ? DEFAULT_SCALE_DELTA : 1 / DEFAULT_SCALE_DELTA;\n      const round = steps > 0 ? Math.ceil : Math.floor;\n      steps = Math.abs(steps);\n\n      do {\n        newScale = round((newScale * delta).toFixed(2) * 10) / 10;\n      } while (--steps > 0);\n    }\n\n    newScale = Math.max(MIN_SCALE, Math.min(MAX_SCALE, newScale));\n    this.#setScale(newScale, {\n      noScroll: false,\n      drawingDelay,\n      origin\n    });\n  }\n\n  increaseScale(options = {}) {\n    this.updateScale({ ...options,\n      steps: options.steps ?? 1\n    });\n  }\n\n  decreaseScale(options = {}) {\n    this.updateScale({ ...options,\n      steps: -(options.steps ?? 1)\n    });\n  }\n\n  #updateContainerHeightCss(height = this.container.clientHeight) {\n    if (height !== this.#previousContainerHeight) {\n      this.#previousContainerHeight = height;\n      docStyle.setProperty(\"--viewer-container-height\", `${height}px`);\n    }\n  }\n\n  #resizeObserverCallback(entries) {\n    for (const entry of entries) {\n      if (entry.target === this.container) {\n        this.#updateContainerHeightCss(Math.floor(entry.borderBoxSize[0].blockSize));\n        this.#containerTopLeft = null;\n        break;\n      }\n    }\n  }\n\n  get containerTopLeft() {\n    return this.#containerTopLeft ||= [this.container.offsetTop, this.container.offsetLeft];\n  }\n\n  #cleanupSwitchAnnotationEditorMode() {\n    if (this.#onPageRenderedCallback) {\n      this.eventBus._off(\"pagerendered\", this.#onPageRenderedCallback);\n\n      this.#onPageRenderedCallback = null;\n    }\n\n    if (this.#switchAnnotationEditorModeTimeoutId !== null) {\n      clearTimeout(this.#switchAnnotationEditorModeTimeoutId);\n      this.#switchAnnotationEditorModeTimeoutId = null;\n    }\n  }\n\n  get annotationEditorMode() {\n    return this.#annotationEditorUIManager ? this.#annotationEditorMode : AnnotationEditorType.DISABLE;\n  }\n\n  set annotationEditorMode({\n    mode,\n    editId = null,\n    isFromKeyboard = false\n  }) {\n    if (!this.#annotationEditorUIManager) {\n      throw new Error(`The AnnotationEditor is not enabled.`);\n    }\n\n    if (this.#annotationEditorMode === mode) {\n      return;\n    }\n\n    if (!isValidAnnotationEditorMode(mode)) {\n      throw new Error(`Invalid AnnotationEditor mode: ${mode}`);\n    }\n\n    if (!this.pdfDocument) {\n      return;\n    }\n\n    if (mode === AnnotationEditorType.STAMP) {\n      this.#mlManager?.loadModel(\"altText\");\n    }\n\n    const {\n      eventBus\n    } = this;\n\n    const updater = () => {\n      this.#cleanupSwitchAnnotationEditorMode();\n      this.#annotationEditorMode = mode;\n      this.#annotationEditorUIManager.updateMode(mode, editId, isFromKeyboard);\n      eventBus.dispatch(\"annotationeditormodechanged\", {\n        source: this,\n        mode\n      });\n    };\n\n    if (mode === AnnotationEditorType.NONE || this.#annotationEditorMode === AnnotationEditorType.NONE) {\n      const isEditing = mode !== AnnotationEditorType.NONE;\n\n      if (!isEditing) {\n        this.pdfDocument.annotationStorage.resetModifiedIds();\n      }\n\n      for (const pageView of this._pages) {\n        pageView.toggleEditingMode(isEditing);\n      }\n\n      const idsToRefresh = this.#switchToEditAnnotationMode();\n\n      if (isEditing && idsToRefresh) {\n        this.#cleanupSwitchAnnotationEditorMode();\n\n        this.#onPageRenderedCallback = ({\n          pageNumber\n        }) => {\n          idsToRefresh.delete(pageNumber);\n\n          if (idsToRefresh.size === 0) {\n            this.#switchAnnotationEditorModeTimeoutId = setTimeout(updater, 0);\n          }\n        };\n\n        const {\n          signal\n        } = this.#eventAbortController;\n\n        eventBus._on(\"pagerendered\", this.#onPageRenderedCallback, {\n          signal\n        });\n\n        return;\n      }\n    }\n\n    updater();\n  }\n\n  refresh(noUpdate = false, updateArgs = Object.create(null)) {\n    if (!this.pdfDocument) {\n      return;\n    }\n\n    for (const pageView of this._pages) {\n      pageView.update(updateArgs);\n    }\n\n    if (this.#scaleTimeoutId !== null) {\n      clearTimeout(this.#scaleTimeoutId);\n      this.#scaleTimeoutId = null;\n    }\n\n    if (!noUpdate) {\n      this.update();\n    }\n  }\n\n}\n\n; // CONCATENATED MODULE: ./web/pdf_single_page_viewer.js\n\nclass PDFSinglePageViewer extends PDFViewer {\n  _resetView() {\n    super._resetView();\n\n    this._scrollMode = ScrollMode.PAGE;\n    this._spreadMode = SpreadMode.NONE;\n  }\n\n  set scrollMode(mode) {}\n\n  _updateScrollMode() {}\n\n  set spreadMode(mode) {}\n\n  _updateSpreadMode() {}\n\n}\n\n; // CONCATENATED MODULE: ./web/pdf_viewer.component.js\n\nconst pdfjsVersion = \"4.6.82\";\nconst pdfjsBuild = \"9b541910f\";\nvar __webpack_exports__AnnotationLayerBuilder = __webpack_exports__.AnnotationLayerBuilder;\nvar __webpack_exports__DownloadManager = __webpack_exports__.DownloadManager;\nvar __webpack_exports__EventBus = __webpack_exports__.EventBus;\nvar __webpack_exports__FindState = __webpack_exports__.FindState;\nvar __webpack_exports__GenericL10n = __webpack_exports__.GenericL10n;\nvar __webpack_exports__LinkTarget = __webpack_exports__.LinkTarget;\nvar __webpack_exports__PDFFindController = __webpack_exports__.PDFFindController;\nvar __webpack_exports__PDFHistory = __webpack_exports__.PDFHistory;\nvar __webpack_exports__PDFLinkService = __webpack_exports__.PDFLinkService;\nvar __webpack_exports__PDFPageView = __webpack_exports__.PDFPageView;\nvar __webpack_exports__PDFScriptingManager = __webpack_exports__.PDFScriptingManager;\nvar __webpack_exports__PDFSinglePageViewer = __webpack_exports__.PDFSinglePageViewer;\nvar __webpack_exports__PDFViewer = __webpack_exports__.PDFViewer;\nvar __webpack_exports__ProgressBar = __webpack_exports__.ProgressBar;\nvar __webpack_exports__RenderingStates = __webpack_exports__.RenderingStates;\nvar __webpack_exports__ScrollMode = __webpack_exports__.ScrollMode;\nvar __webpack_exports__SimpleLinkService = __webpack_exports__.SimpleLinkService;\nvar __webpack_exports__SpreadMode = __webpack_exports__.SpreadMode;\nvar __webpack_exports__StructTreeLayerBuilder = __webpack_exports__.StructTreeLayerBuilder;\nvar __webpack_exports__TextLayerBuilder = __webpack_exports__.TextLayerBuilder;\nvar __webpack_exports__XfaLayerBuilder = __webpack_exports__.XfaLayerBuilder;\nvar __webpack_exports__parseQueryString = __webpack_exports__.parseQueryString;\nexport { __webpack_exports__AnnotationLayerBuilder as AnnotationLayerBuilder, __webpack_exports__DownloadManager as DownloadManager, __webpack_exports__EventBus as EventBus, __webpack_exports__FindState as FindState, __webpack_exports__GenericL10n as GenericL10n, __webpack_exports__LinkTarget as LinkTarget, __webpack_exports__PDFFindController as PDFFindController, __webpack_exports__PDFHistory as PDFHistory, __webpack_exports__PDFLinkService as PDFLinkService, __webpack_exports__PDFPageView as PDFPageView, __webpack_exports__PDFScriptingManager as PDFScriptingManager, __webpack_exports__PDFSinglePageViewer as PDFSinglePageViewer, __webpack_exports__PDFViewer as PDFViewer, __webpack_exports__ProgressBar as ProgressBar, __webpack_exports__RenderingStates as RenderingStates, __webpack_exports__ScrollMode as ScrollMode, __webpack_exports__SimpleLinkService as SimpleLinkService, __webpack_exports__SpreadMode as SpreadMode, __webpack_exports__StructTreeLayerBuilder as StructTreeLayerBuilder, __webpack_exports__TextLayerBuilder as TextLayerBuilder, __webpack_exports__XfaLayerBuilder as XfaLayerBuilder, __webpack_exports__parseQueryString as parseQueryString };","map":{"version":3,"names":["__webpack_require__","d","exports","definition","key","o","Object","defineProperty","enumerable","get","obj","prop","prototype","hasOwnProperty","call","__webpack_exports__","globalThis","pdfjsViewer","AnnotationLayerBuilder","DownloadManager","EventBus","FindState","GenericL10n","genericl10n_GenericL10n","LinkTarget","PDFFindController","PDFHistory","PDFLinkService","PDFPageView","PDFScriptingManager","PDFScriptingManagerComponents","PDFSinglePageViewer","PDFViewer","ProgressBar","RenderingStates","ScrollMode","SimpleLinkService","SpreadMode","StructTreeLayerBuilder","TextLayerBuilder","XfaLayerBuilder","parseQueryString","DEFAULT_SCALE_VALUE","DEFAULT_SCALE","DEFAULT_SCALE_DELTA","MIN_SCALE","MAX_SCALE","UNKNOWN_SCALE","MAX_AUTO_SCALE","SCROLLBAR_PADDING","VERTICAL_PADDING","INITIAL","RUNNING","PAUSED","FINISHED","PresentationModeState","UNKNOWN","NORMAL","CHANGING","FULLSCREEN","SidebarView","NONE","THUMBS","OUTLINE","ATTACHMENTS","LAYERS","TextLayerMode","DISABLE","ENABLE","ENABLE_PERMISSIONS","VERTICAL","HORIZONTAL","WRAPPED","PAGE","ODD","EVEN","CursorTool","SELECT","HAND","ZOOM","AutoPrintRegExp","OutputScale","constructor","pixelRatio","window","devicePixelRatio","sx","sy","scaled","scrollIntoView","element","spot","scrollMatches","parent","offsetParent","console","error","offsetY","offsetTop","clientTop","offsetX","offsetLeft","clientLeft","clientHeight","scrollHeight","clientWidth","scrollWidth","classList","contains","getComputedStyle","overflow","top","undefined","left","scrollLeft","scrollTop","watchScroll","viewAreaElement","callback","abortSignal","debounceScroll","evt","rAF","requestAnimationFrame","viewAreaElementScrolled","currentX","lastX","state","right","currentY","lastY","down","_eventHandler","addEventListener","useCapture","signal","cancelAnimationFrame","once","query","params","Map","value","URLSearchParams","set","toLowerCase","InvisibleCharsRegExp","removeNullCharacters","str","replaceInvisible","test","replaceAll","m","binarySearchFirstItem","items","condition","start","minIndex","maxIndex","length","currentIndex","currentItem","approximateFraction","x","Math","floor","xinv","limit","x_","a","b","c","p","q","result","floorToDivide","div","getPageSizeInches","view","userUnit","rotate","x1","y1","x2","y2","changeOrientation","width","height","backtrackBeforeAllVisibleElements","index","views","elt","pageTop","i","getVisibleElements","scrollEl","sortByVisibility","horizontal","rtl","bottom","isElementBottomAfterViewTop","elementBottom","isElementNextAfterViewHorizontally","elementLeft","elementRight","visible","ids","Set","numViews","firstVisibleElementInd","lastEdge","currentWidth","currentHeight","viewWidth","viewHeight","viewRight","viewBottom","hiddenHeight","max","hiddenWidth","fractionHeight","fractionWidth","percent","push","id","y","widthPercent","add","first","last","at","sort","pc","abs","normalizeWheelEventDirection","delta","hypot","deltaX","deltaY","angle","atan2","PI","normalizeWheelEventDelta","deltaMode","MOUSE_PIXELS_PER_LINE","MOUSE_LINES_PER_PAGE","WheelEvent","DOM_DELTA_PIXEL","DOM_DELTA_LINE","isValidRotation","Number","isInteger","isValidScrollMode","mode","values","includes","isValidSpreadMode","isPortraitOrientation","size","animationStarted","Promise","resolve","docStyle","document","documentElement","style","clamp","v","min","disableAutoFetchTimeout","bar","val","isNaN","remove","setProperty","setWidth","viewer","container","parentNode","scrollbarWidth","offsetWidth","setDisableAutoFetch","delay","clearTimeout","show","setTimeout","hide","getActiveOrFocusedElement","curRoot","curActiveOrFocused","activeElement","querySelector","shadowRoot","apiPageLayoutToViewerModes","layout","scrollMode","spreadMode","apiPageModeToSidebarView","toggleCheckedBtn","button","toggle","setAttribute","toggleExpandedBtn","CharacterType","SPACE","ALPHA_LETTER","PUNCT","HAN_LETTER","KATAKANA_LETTER","HIRAGANA_LETTER","HALFWIDTH_KATAKANA_LETTER","THAI_LETTER","isAlphabeticalScript","charCode","isAscii","isAsciiAlpha","isAsciiDigit","isAsciiSpace","isHan","isKatakana","isHiragana","isHalfwidthKatakana","isThai","getCharacterType","NormalizeWithNFKC","getNormalizeWithNFKC","FOUND","NOT_FOUND","PENDING","FIND_TIMEOUT","MATCH_SCROLL_OFFSET_TOP","MATCH_SCROLL_OFFSET_LEFT","CHARACTERS_TO_NORMALIZE","DIACRITICS_EXCEPTION","DIACRITICS_EXCEPTION_STR","DIACRITICS_REG_EXP","SPECIAL_CHARS_REG_EXP","NOT_DIACRITIC_FROM_END_REG_EXP","NOT_DIACRITIC_FROM_START_REG_EXP","SYLLABLES_REG_EXP","SYLLABLES_LENGTHS","FIRST_CHAR_SYLLABLES_REG_EXP","NFKC_CHARS_TO_NORMALIZE","noSyllablesRegExp","withSyllablesRegExp","normalize","text","syllablePositions","exec","char","len","normalizationRegex","replace","keys","join","toNormalizeWithNFKC","CJK","HKDiacritics","regexp","RegExp","rawDiacriticsPositions","normalized","positions","rawDiacriticsIndex","syllableIndex","shift","shiftOrigin","eol","hasDiacritics","match","p1","p2","p3","p4","p5","p6","p7","p8","replacement","jj","j","charAt","hasTrailingDashEOL","endsWith","slice","newCharLen","getOriginalIndex","diffs","pos","end","oldStart","oldEnd","oldLen","updateMatchesCountOnProgress","visitedPagesCount","linkService","eventBus","_linkService","_eventBus","onIsPageVisible","reset","_on","onFind","bind","onFindBarClose","highlightMatches","_highlightMatches","pageMatches","_pageMatches","pageMatchesLength","_pageMatchesLength","selected","_selected","setDocument","pdfDocument","_pdfDocument","_firstPageCapability","type","shouldDirtyMatch","_dirtyMatch","updateUIState","promise","then","extractText","findbarClosed","pendingTimeout","_findTimeout","nextMatch","highlightAll","updateAllPages","scrollMatchIntoView","selectedLeft","pageIndex","matchIndex","_scrollMatches","matchIdx","pageIdx","_offset","wrapped","_extractTextPromises","_pageContents","_pageDiffs","_hasDiacritics","_matchesCountTotal","_pagesToSearch","_pendingFindMatches","_resumePageIdx","withResolvers","_rawQuery","_normalizedQuery","filter","map","newQuery","prevQuery","newType","prevType","JSON","stringify","pageNumber","pagesCount","page","isEntireWord","content","startIdx","charCodeAt","convertToRegExpString","matchDiacritics","isUnicode","has","trailingSpaces","String","fromCharCode","calculateMatch","pageContent","matcherResult","matches","matchesLength","forEach","matchPos","matchLen","updatePage","nextPageMatch","pageMatchesCount","updateUIResultsCount","reverse","isUnicodePart","queryPart","caseSensitive","entireWord","flags","deferred","textOptions","disableNormalization","ii","getPage","pdfPage","getTextContent","textContent","strBuf","textItem","hasEOL","reason","dispatch","source","previous","findPrevious","currentPageIndex","numPages","delete","offset","numPageMatches","updateMatch","advanceOffsetPage","matchesReady","numMatches","found","previousPage","requestMatchesCount","current","total","matchesCount","rawQuery","DEFAULT_LINK_REL","SELF","BLANK","PARENT","TOP","externalLinkEnabled","externalLinkTarget","externalLinkRel","ignoreDestinationZoom","_ignoreDestinationZoom","baseUrl","pdfViewer","pdfHistory","setViewer","setHistory","currentPageNumber","rotation","pagesRotation","isInPresentationMode","goToDestination","dest","namedDest","explicitDest","getDestination","Array","isArray","destRef","cachedPageNumber","getPageIndex","pushCurrentPosition","scrollPageIntoView","destArray","goToPage","pageLabelToPageNumber","pushPage","addLinkAttributes","link","url","newWindow","Error","target","rel","href","title","onclick","targetStr","getDestinationHash","getAnchorUrl","escape","anchor","setHash","hash","phrase","zoomArgs","split","zoomArg","zoomArgNumber","parseFloat","name","allowNegativeOffset","unescape","parse","toString","isValidExplicitDest","executeNamedAction","action","back","forward","nextPage","executeSetOCGState","optionalContentConfig","optionalContentConfigPromise","setOCGState","zoom","args","num","gen","argsLen","allowNull","arg","AbortException","AnnotationEditorLayer","AnnotationEditorParamsType","AnnotationEditorType","AnnotationEditorUIManager","AnnotationLayer","AnnotationMode","build","CMapCompressionType","ColorPicker","createValidAbsoluteUrl","DOMSVGFactory","DrawLayer","FeatureTest","fetchData","getDocument","getFilenameFromUrl","getPdfFilenameFromUrl","getXfaPageViewport","GlobalWorkerOptions","ImageKind","InvalidPDFException","isDataScheme","isPdfFile","MissingPDFException","noContextMenu","normalizeUnicode","OPS","PasswordResponses","PDFDataRangeTransport","PDFDateString","PDFWorker","PermissionFlag","PixelsPerInch","RenderingCancelledException","setLayerDimensions","shadow","TextLayer","UnexpectedResponseException","Util","VerbosityLevel","version","XfaLayer","pdfjsLib","onAppend","eventAbortController","downloadManager","annotationStorage","imageResourcesPath","renderForms","enableScripting","hasJSActionsPromise","fieldObjectsPromise","annotationCanvasMap","accessibilityManager","annotationEditorUIManager","_hasJSActionsPromise","_fieldObjectsPromise","_annotationCanvasMap","_accessibilityManager","_annotationEditorUIManager","annotationLayer","_cancelled","render","viewport","intent","update","clone","dontFlip","annotations","hasJSActions","fieldObjects","all","getAnnotations","createElement","className","updatePresentationModeState","AbortController","cancel","abort","hidden","hasEditableAnnotations","disableFormElements","section","childNodes","hasAttribute","inert","download","blobUrl","filename","click","body","append","openBlobUrls","WeakMap","downloadData","data","contentType","URL","createObjectURL","Blob","openOrDownloadData","isPdfData","WaitOnType","EVENT","TIMEOUT","waitOnEventOrTimeout","ac","handler","timeout","evtMethod","listeners","create","on","eventName","listener","options","external","off","_off","eventListeners","externalListeners","rmAbort","AbortSignal","aborted","onAbort","removeEventListener","splice","FirefoxEventBus","externalServices","globalEventNames","isInAutomation","FluentType","valueOf","FluentNone","scope","FluentNumber","opts","nf","memoizeIntlObject","Intl","NumberFormat","format","err","reportError","FluentDateTime","dtf","DateTimeFormat","Date","toISOString","MAX_PLACEABLES","FSI","PDI","selector","category","PluralRules","select","getDefault","variants","star","resolvePattern","RangeError","getArguments","positional","named","resolveExpression","expr","minimumFractionDigits","precision","resolveVariableReference","resolveMessageReference","resolveTermReference","resolveFunctionReference","resolveSelectExpression","ReferenceError","getTime","TypeError","attr","message","bundle","_messages","attribute","attributes","term","_terms","resolved","func","_functions","sel","variant","resolveComplexPattern","ptn","dirty","useIsolating","_useIsolating","elem","_transform","placeables","Scope","errors","WeakSet","ctor","cache","_intls","locales","allowed","unwrapped","opt","entries","NUMBER_ALLOWED","NUMBER","DATETIME_ALLOWED","DATETIME","getMemoizerForLocale","stringLocale","memoizer","FluentBundle","functions","transform","hasMessage","getMessage","addResource","res","allowOverrides","entry","startsWith","formatPattern","pattern","RE_MESSAGE_START","RE_ATTRIBUTE_START","RE_VARIANT_START","RE_NUMBER_LITERAL","RE_IDENTIFIER","RE_REFERENCE","RE_FUNCTION_NAME","RE_TEXT_RUN","RE_STRING_RUN","RE_STRING_ESCAPE","RE_UNICODE_ESCAPE","RE_LEADING_NEWLINES","RE_TRAILING_SPACES","RE_BLANK_LINES","RE_INDENT","TOKEN_BRACE_OPEN","TOKEN_BRACE_CLOSE","TOKEN_BRACKET_OPEN","TOKEN_BRACKET_CLOSE","TOKEN_PAREN_OPEN","TOKEN_ARROW","TOKEN_COLON","TOKEN_COMMA","TOKEN_BLANK","FluentResource","lastIndex","cursor","next","parseMessage","SyntaxError","re","consumeChar","errorClass","consumeToken","match1","parsePattern","parseAttributes","attrs","parsePatternElements","Infinity","indent","parseIndent","trim","elements","commonIndent","parsePlaceable","lastElement","baked","Indent","parseInlineExpression","parseVariants","sigil","parseArguments","parseLiteral","parseArgument","count","parseVariantKey","parseNumberLiteral","parseStringLiteral","fraction","parseEscapeSequence","codepoint4","codepoint6","codepoint","parseInt","fromCodePoint","makeIndent","blank","reOverlay","TEXT_LEVEL_ELEMENTS","LOCALIZABLE_ATTRIBUTES","global","area","input","menuitem","menu","optgroup","option","track","img","textarea","th","description","label","textbox","translateElement","translation","localName","namespaceURI","templateElement","ownerDocument","createElementNS","innerHTML","overlayChildNodes","overlayAttributes","fromFragment","toElement","childNode","nodeType","TEXT_NODE","sanitized","getNodeForNamedElement","replaceChild","isElementAllowed","createSanitizedElement","warn","createTextNodeFromTextContent","appendChild","fromElement","explicitlyAllowed","getAttribute","from","isAttrNameLocalizable","removeAttribute","sourceElement","translatedChild","childName","sourceChild","removeChild","cloneNode","shallowPopulateUsing","createTextNode","attrName","elemName","CachedIterable","iterable","CachedSyncIterable","Symbol","iterator","cached","cur","touchNext","idx","done","CachedAsyncIterable","asyncIterator","Localization","resourceIds","generateBundles","onChange","addResourceIds","eager","removeResourceIds","r","formatWithFallback","method","translations","hasAtLeastOneBundle","bundles","missingIds","keysFromBundle","locale","formatMessages","messageFromBundle","formatValues","valueFromBundle","formatValue","handleEvent","formatted","attrNames","messageErrors","L10NID_ATTR_NAME","L10NARGS_ATTR_NAME","L10N_ELEMENT_QUERY","DOMLocalization","roots","pendingrAF","pendingElements","windowElement","mutationObserver","observerConfig","characterData","childList","subtree","attributeFilter","translateRoots","setAttributes","getAttributes","connectRoot","newRoot","root","defaultView","MutationObserver","mutations","translateMutations","observe","disconnectRoot","pauseObserving","clear","resumeObserving","translateFragment","takeRecords","disconnect","mutation","addedNode","addedNodes","ELEMENT_NODE","childElementCount","getTranslatables","translateElements","frag","getKeysForElement","applyTranslations","nodes","querySelectorAll","L10n","dir","lang","l10n","isRTL","fixupLangCode","_setL10n","getLanguage","getDirection","fallback","messages","translate","translateOnce","ex","destroy","pause","resume","langCode","PARTIAL_LANG_CODES","en","es","fy","ga","gu","hi","hy","nb","ne","nn","pa","pt","sv","zh","shortCode","createBundle","resource","generateBundlesFallback","defaultLang","baseLang","baseURL","paths","getPaths","langs","shortLang","createBundleFallback","path","HASH_CHANGE_TIMEOUT","POSITION_UPDATED_THRESHOLD","UPDATE_VIEWAREA_TIMEOUT","getCurrentHash","location","_initialized","_fingerprint","_isPagesLoaded","initialize","fingerprint","resetHistory","updateUrl","reInitialized","_updateUrl","bindEvents","history","_popStateInProgress","_blockHashChange","_currentHash","_numPositionUpdates","_uid","_maxUid","_destination","_position","isValidState","parseCurrentHash","pushOrReplaceState","destination","updateInternalState","uid","_initialRotation","_initialBookmark","pageHide","unbindEvents","_updateViewareaTimeout","isValidPage","forceReplace","isDestHashesEqual","isDestArraysEqual","tryPushCurrentPosition","popStateInProgress","initialBookmark","initialRotation","shouldReplace","newState","newUrl","replaceState","pushState","temporary","position","assign","checkReload","perfEntry","performance","getEntriesByType","removeTemporary","checkNameddest","substring","nameddest","updateViewarea","pdfOpenParams","popState","newHash","hashChanged","destHash","pushHash","firstDest","secondDest","isEntryEqual","second","AnnotationEditorLayerBuilder","drawLayer","textLayer","uiManager","annotationEditorLayer","clonedViewport","direction","parameters","isInvisible","compatParams","userAgent","navigator","platform","maxTouchPoints","isAndroid","isIOS","OptionKind","BROWSER","VIEWER","API","WORKER","EVENT_DISPATCH","PREFERENCE","Type","BOOLEAN","OBJECT","STRING","UNDEFINED","defaultOptions","allowedGlobalEvents","kind","canvasMaxAreaInBytes","localeProperties","language","nimbusDataStr","supportsCaretBrowsingMode","supportsDocumentFonts","supportsIntegratedFind","supportsMouseWheelZoomCtrlKey","supportsMouseWheelZoomMetaKey","supportsPinchToZoom","toolbarDensity","altTextLearnMoreUrl","annotationEditorMode","annotationMode","cursorToolOnLoad","debuggerSrc","defaultZoomDelay","defaultZoomValue","disableHistory","disablePageLabels","enableAltText","enableAltTextModelDownload","enableGuessAltText","enableHighlightFloatingButton","enableNewAltTextWhenAddingImage","enablePermissions","enablePrintAutoRotate","enableUpdatedAddImage","highlightEditorColors","historyUpdateUrl","maxCanvasPixels","forcePageColors","pageColorsBackground","pageColorsForeground","pdfBugEnabled","printResolution","sidebarViewOnLoad","scrollModeOnLoad","spreadModeOnLoad","textLayerMode","viewOnLoad","cMapPacked","cMapUrl","disableAutoFetch","disableFontFace","disableRange","disableStream","docBaseUrl","enableHWA","enableXfa","fontExtraProperties","isEvalSupported","isOffscreenCanvasSupported","maxImageSize","pdfBug","standardFontDataUrl","useSystemFonts","verbosity","workerPort","workerSrc","defaultUrl","sandboxBundleSrc","viewerCssTheme","enableFakeMLManager","disablePreferences","AppOptions","_hasInvokedSet","_checkDisablePreferences","getAll","defaultOnly","defaultOpt","setAll","prefs","events","userOpt","toUpperCase","DrawLayerBuilder","setParent","getDrawLayer","PDF_ROLE_TO_HTML_ROLE","Document","DocumentFragment","Part","Sect","Div","Aside","NonStruct","P","H","Title","FENote","Sub","Lbl","Span","Em","Strong","Link","Annot","Form","Ruby","RB","RT","RP","Warichu","WT","WP","L","LI","LBody","Table","TR","TH","TD","THead","TBody","TFoot","Caption","Figure","Formula","Artifact","HEADING_PATTERN","treeDom","renderingDone","structTree","walk","structElement","htmlElement","alt","node","role","children","kid","TextAccessibilityManager","enabled","textChildren","textNodes","waitingElements","setTextMapping","textDivs","compareElementPositions","e1","e2","rect1","getBoundingClientRect","rect2","top1","bot1","mid1","top2","bot2","mid2","centerX1","centerX2","enable","nodeIndex","getElementById","addIdToAriaOwns","isRemovable","addPointerInTextLayer","disable","removePointerInTextLayer","owns","child","moveElementInDOM","contentElement","hasChildNodes","elementToCompare","before","after","TextHighlighter","findController","textContentItemsStr","divs","texts","_updateMatches","_convertMatches","iIndex","mm","begin","divIdx","_renderMatches","isSelectedPage","selectedMatchIdx","prevEnd","infinity","beginText","appendTextToDiv","fromOffset","toOffset","Node","span","i0","i1","lastDivIdx","lastOffset","isSelected","highlightSuffix","n0","n1","clearedUntilDivIdx","n","textLayers","selectionChangeAbortController","highlighter","tabIndex","textContentParams","onBefore","textContentSource","streamTextContent","includeMarkedContent","endOfContent","bindMouse","removeGlobalSelectionListener","event","selection","getSelection","clipboardData","setData","preventDefault","stopPropagation","enableGlobalSelectionListener","textLayerDiv","isPointerDown","isFirefox","prevRange","rangeCount","activeTextLayers","range","getRangeAt","intersectsNode","endDiv","getPropertyValue","modifyStart","compareBoundaryPoints","Range","END_TO_END","START_TO_END","startContainer","endContainer","parentTextLayer","parentElement","closest","insertBefore","nextSibling","cloneRange","xfaHtml","getXfa","DEFAULT_LAYER_PROPERTIES","LAYERS_ORDER","ENABLE_FORMS","hasRestrictedScaling","isEditing","layerProperties","loadingId","previousRotation","renderError","renderingState","useThumbnailCanvas","directDrawing","initialOptionalContent","regularAnnotations","viewportMap","layers","defaultViewport","renderingId","pageLabel","scale","pdfPageRotate","_optionalContentConfigPromise","pageColors","renderingQueue","renderTask","_isStandalone","hasViewer","_container","zoomLayer","xfaLayer","structTreeLayer","setDimensions","PDF_TO_CSS_UNITS","hasInitialVisibility","addLayer","oldDiv","replaceWith","layer","prepend","setPdfPage","foreground","background","filterFactory","addHighlightHCMFilter","totalRotation","getViewport","cleanup","_textHighlighter","dispatchLayerRendered","renderAnnotationLayer","renderAnnotationEditorLayer","renderDrawLayer","renderXfaLayer","buildXfaTextContentItems","renderTextLayer","renderStructTreeLayer","tree","getStructTree","canvas","item","_resetZoomLayer","removeFromDOM","zoomLayerCanvas","firstChild","keepZoomLayer","keepAnnotationLayer","keepAnnotationEditorLayer","keepXfaLayer","keepTextLayer","cancelRendering","zoomLayerNode","annotationLayerNode","annotationEditorLayerNode","xfaLayerNode","textLayerNode","layerIndex","indexOf","toggleEditingMode","drawingDelay","onlyCssZoom","outputScale","postponeDrawing","cancelExtraDelay","cssTransform","redrawAnnotationLayer","redrawAnnotationEditorLayer","redrawXfaLayer","redrawTextLayer","hideTextLayer","timestamp","now","originalViewport","relativeRotation","absRotation","scaleX","scaleY","getPagePoint","convertToPdfPoint","finishRenderTask","separateAnnots","draw","canvasWrapper","isPureXfa","annotationLayerDiv","renderContinueCallback","cont","showCanvas","isHighestPriority","hasHCM","isLastShow","ctx","getContext","alpha","willReadFrequently","invScale","pixelsInViewport","maxScale","sqrt","sfx","sfy","renderContext","canvasContext","onContinue","resultPromise","annotationEditorLayerDiv","setPageLabel","thumbnailCanvas","docProperties","info","metadata","contentDispositionFilename","contentLength","getMetadata","getDownloadInfo","filesize","getRaw","authors","GenericScripting","_ready","reject","sandbox","pdfjsSandbox","QuickJSSandbox","catch","createSandbox","dispatchEventInSandbox","dispatchEvent","destroySandbox","nukeSandbox","closeCapability","destroyCapability","ready","scripting","willPrintCapability","destroyScripting","objects","calculationOrder","docActions","getFieldObjects","getCalculationOrderIds","getJSActions","initScripting","updateFromSandbox","detail","dispatchPageClose","dispatchPageOpen","_pageOpenPending","appInfo","docInfo","actions","dispatchWillSave","dispatchDidSave","dispatchWillPrint","dispatchDidPrint","destroyPromise","_visitedPages","isChangingPresentationMode","siblings","command","modes","pagesPromise","log","currentScaleValue","increaseScale","decreaseScale","focus","elementId","CustomEvent","setValue","visitedPages","pageView","getPageView","actionsPromise","createScripting","race","CLEANUP_TIMEOUT","PDFRenderingQueue","pdfThumbnailViewer","onIdle","highestPriorityPage","idleTimeout","printing","isThumbnailViewEnabled","setThumbnailViewer","renderHighestPriority","currentlyVisiblePages","forceRendering","getHighestPriority","scrolledDown","preRenderExtra","visibleViews","numVisible","isViewFinished","firstId","lastId","visibleIds","holeId","holeView","preRenderIndex","preRenderView","renderView","finally","DEFAULT_CACHE_SIZE","PagesCountLimit","FORCE_SCROLL_MODE_PAGE","FORCE_LAZY_PAGE_INIT","PAUSE_EAGER_PAGE_INIT","isValidAnnotationEditorMode","PDFPageViewBuffer","buf","destroyFirstView","resize","newSize","idsToKeep","firstView","buffer","altTextManager","annotationEditorHighlightColors","containerTopLeft","mlManager","onPageRenderedCallback","switchAnnotationEditorModeTimeoutId","getAllTextInProgress","hiddenCopyElement","interruptCopyCondition","previousContainerHeight","resizeObserver","ResizeObserver","resizeObserverCallback","scrollModePageState","scaleTimeoutId","viewerVersion","firstElementChild","tagName","_getVisiblePages","_scriptingManager","scriptingManager","removePageBorders","defaultRenderingQueue","scroll","_scrollUpdate","presentationModeState","_resetView","updateContainerHeightCss","_pages","getCachedPageViews","pageViewsReady","every","_currentPageNumber","_setCurrentPageNumber","resetCurrentPageView","_pageLabels","currentPageLabel","currentScale","_currentScale","setScale","noScroll","_currentScaleValue","_pagesRotation","refresh","firstPagePromise","onePageRendered","_onePageRenderedCapability","_pagesCapability","_layerProperties","self","initializePermissions","permissions","COPY","MODIFY_CONTENTS","MODIFY_ANNOTATIONS","FILL_INTERACTIVE_FORMS","onePageRenderedOrForceFetch","visibilityState","hiddenCapability","onVisibilityChange","getAllText","pageNum","copyCallback","focusNode","anchorNode","containsNode","ev","clipboard","writeText","_cancelRendering","getOptionalContentConfig","permissionsPromise","getPermissions","_scrollMode","onBeforeDraw","onAfterDraw","firstPdfPage","any","STAMP","loadModel","updateMode","viewerElement","ensurePageViewVisible","_spreadMode","_updateSpreadMode","loadingParams","getPagesLeft","Language","setPageLabels","labels","_location","_previousScrollMode","previousPageNumber","scrollDown","pages","_updateScrollMode","cleanupSwitchAnnotationEditorMode","pageIndexSet","parity","spread","dummyPage","pageSpot","isSameScale","newScale","setScaleUpdatePages","newValue","preset","origin","presetValue","previousScale","scaleDiff","pageWidthScaleFactor","currentPage","hPadding","vPadding","pageWidthScale","pageHeightScale","horizontalScale","widthScale","heightScale","pageWidth","pageHeight","boundingRect","convertToViewportPoint","_updateLocation","firstPage","normalizedScaleValue","round","currentPageView","topLeft","intLeft","intTop","visiblePages","numVisiblePages","newCacheSize","isSimpleLayout","currentId","stillFullyVisible","switchToEditAnnotationMode","pagesToRefresh","containsElement","_isContainerRtl","isHorizontalScrollbarEnabled","isVerticalScrollbarEnabled","ensurePdfPageLoaded","getScrollAhead","scrollAhead","hasEqualPageSizes","firstPageView","getPagesOverview","initialOrientation","orientation","_getPageAdvance","pageLayout","yArray","expectedId","advance","updateScale","scaleFactor","steps","ceil","toFixed","borderBoxSize","blockSize","editId","isFromKeyboard","updater","resetModifiedIds","idsToRefresh","noUpdate","updateArgs","pdfjsVersion","pdfjsBuild","__webpack_exports__AnnotationLayerBuilder","__webpack_exports__DownloadManager","__webpack_exports__EventBus","__webpack_exports__FindState","__webpack_exports__GenericL10n","__webpack_exports__LinkTarget","__webpack_exports__PDFFindController","__webpack_exports__PDFHistory","__webpack_exports__PDFLinkService","__webpack_exports__PDFPageView","__webpack_exports__PDFScriptingManager","__webpack_exports__PDFSinglePageViewer","__webpack_exports__PDFViewer","__webpack_exports__ProgressBar","__webpack_exports__RenderingStates","__webpack_exports__ScrollMode","__webpack_exports__SimpleLinkService","__webpack_exports__SpreadMode","__webpack_exports__StructTreeLayerBuilder","__webpack_exports__TextLayerBuilder","__webpack_exports__XfaLayerBuilder","__webpack_exports__parseQueryString"],"sources":["/Users/valentina/Documents/DEVELOP/ANGULAR/PORTAFOLIO-WEB-ANGULAR/node_modules/pdfjs-dist/web/pdf_viewer.mjs"],"sourcesContent":["/**\n * @licstart The following is the entire license notice for the\n * JavaScript code in this page\n *\n * Copyright 2024 Mozilla Foundation\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n *\n * @licend The above is the entire license notice for the\n * JavaScript code in this page\n */\n\n/******/ // The require scope\n/******/ var __webpack_require__ = {};\n/******/ \n/************************************************************************/\n/******/ /* webpack/runtime/define property getters */\n/******/ (() => {\n/******/ \t// define getter functions for harmony exports\n/******/ \t__webpack_require__.d = (exports, definition) => {\n/******/ \t\tfor(var key in definition) {\n/******/ \t\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n/******/ \t\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n/******/ \t\t\t}\n/******/ \t\t}\n/******/ \t};\n/******/ })();\n/******/ \n/******/ /* webpack/runtime/hasOwnProperty shorthand */\n/******/ (() => {\n/******/ \t__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))\n/******/ })();\n/******/ \n/************************************************************************/\nvar __webpack_exports__ = globalThis.pdfjsViewer = {};\n\n// EXPORTS\n__webpack_require__.d(__webpack_exports__, {\n  AnnotationLayerBuilder: () => (/* reexport */ AnnotationLayerBuilder),\n  DownloadManager: () => (/* reexport */ DownloadManager),\n  EventBus: () => (/* reexport */ EventBus),\n  FindState: () => (/* reexport */ FindState),\n  GenericL10n: () => (/* reexport */ genericl10n_GenericL10n),\n  LinkTarget: () => (/* reexport */ LinkTarget),\n  PDFFindController: () => (/* reexport */ PDFFindController),\n  PDFHistory: () => (/* reexport */ PDFHistory),\n  PDFLinkService: () => (/* reexport */ PDFLinkService),\n  PDFPageView: () => (/* reexport */ PDFPageView),\n  PDFScriptingManager: () => (/* reexport */ PDFScriptingManagerComponents),\n  PDFSinglePageViewer: () => (/* reexport */ PDFSinglePageViewer),\n  PDFViewer: () => (/* reexport */ PDFViewer),\n  ProgressBar: () => (/* reexport */ ProgressBar),\n  RenderingStates: () => (/* reexport */ RenderingStates),\n  ScrollMode: () => (/* reexport */ ScrollMode),\n  SimpleLinkService: () => (/* reexport */ SimpleLinkService),\n  SpreadMode: () => (/* reexport */ SpreadMode),\n  StructTreeLayerBuilder: () => (/* reexport */ StructTreeLayerBuilder),\n  TextLayerBuilder: () => (/* reexport */ TextLayerBuilder),\n  XfaLayerBuilder: () => (/* reexport */ XfaLayerBuilder),\n  parseQueryString: () => (/* reexport */ parseQueryString)\n});\n\n;// CONCATENATED MODULE: ./web/ui_utils.js\nconst DEFAULT_SCALE_VALUE = \"auto\";\nconst DEFAULT_SCALE = 1.0;\nconst DEFAULT_SCALE_DELTA = 1.1;\nconst MIN_SCALE = 0.1;\nconst MAX_SCALE = 10.0;\nconst UNKNOWN_SCALE = 0;\nconst MAX_AUTO_SCALE = 1.25;\nconst SCROLLBAR_PADDING = 40;\nconst VERTICAL_PADDING = 5;\nconst RenderingStates = {\n  INITIAL: 0,\n  RUNNING: 1,\n  PAUSED: 2,\n  FINISHED: 3\n};\nconst PresentationModeState = {\n  UNKNOWN: 0,\n  NORMAL: 1,\n  CHANGING: 2,\n  FULLSCREEN: 3\n};\nconst SidebarView = {\n  UNKNOWN: -1,\n  NONE: 0,\n  THUMBS: 1,\n  OUTLINE: 2,\n  ATTACHMENTS: 3,\n  LAYERS: 4\n};\nconst TextLayerMode = {\n  DISABLE: 0,\n  ENABLE: 1,\n  ENABLE_PERMISSIONS: 2\n};\nconst ScrollMode = {\n  UNKNOWN: -1,\n  VERTICAL: 0,\n  HORIZONTAL: 1,\n  WRAPPED: 2,\n  PAGE: 3\n};\nconst SpreadMode = {\n  UNKNOWN: -1,\n  NONE: 0,\n  ODD: 1,\n  EVEN: 2\n};\nconst CursorTool = {\n  SELECT: 0,\n  HAND: 1,\n  ZOOM: 2\n};\nconst AutoPrintRegExp = /\\bprint\\s*\\(/;\nclass OutputScale {\n  constructor() {\n    const pixelRatio = window.devicePixelRatio || 1;\n    this.sx = pixelRatio;\n    this.sy = pixelRatio;\n  }\n  get scaled() {\n    return this.sx !== 1 || this.sy !== 1;\n  }\n}\nfunction scrollIntoView(element, spot, scrollMatches = false) {\n  let parent = element.offsetParent;\n  if (!parent) {\n    console.error(\"offsetParent is not set -- cannot scroll\");\n    return;\n  }\n  let offsetY = element.offsetTop + element.clientTop;\n  let offsetX = element.offsetLeft + element.clientLeft;\n  while (parent.clientHeight === parent.scrollHeight && parent.clientWidth === parent.scrollWidth || scrollMatches && (parent.classList.contains(\"markedContent\") || getComputedStyle(parent).overflow === \"hidden\")) {\n    offsetY += parent.offsetTop;\n    offsetX += parent.offsetLeft;\n    parent = parent.offsetParent;\n    if (!parent) {\n      return;\n    }\n  }\n  if (spot) {\n    if (spot.top !== undefined) {\n      offsetY += spot.top;\n    }\n    if (spot.left !== undefined) {\n      offsetX += spot.left;\n      parent.scrollLeft = offsetX;\n    }\n  }\n  parent.scrollTop = offsetY;\n}\nfunction watchScroll(viewAreaElement, callback, abortSignal = undefined) {\n  const debounceScroll = function (evt) {\n    if (rAF) {\n      return;\n    }\n    rAF = window.requestAnimationFrame(function viewAreaElementScrolled() {\n      rAF = null;\n      const currentX = viewAreaElement.scrollLeft;\n      const lastX = state.lastX;\n      if (currentX !== lastX) {\n        state.right = currentX > lastX;\n      }\n      state.lastX = currentX;\n      const currentY = viewAreaElement.scrollTop;\n      const lastY = state.lastY;\n      if (currentY !== lastY) {\n        state.down = currentY > lastY;\n      }\n      state.lastY = currentY;\n      callback(state);\n    });\n  };\n  const state = {\n    right: true,\n    down: true,\n    lastX: viewAreaElement.scrollLeft,\n    lastY: viewAreaElement.scrollTop,\n    _eventHandler: debounceScroll\n  };\n  let rAF = null;\n  viewAreaElement.addEventListener(\"scroll\", debounceScroll, {\n    useCapture: true,\n    signal: abortSignal\n  });\n  abortSignal?.addEventListener(\"abort\", () => window.cancelAnimationFrame(rAF), {\n    once: true\n  });\n  return state;\n}\nfunction parseQueryString(query) {\n  const params = new Map();\n  for (const [key, value] of new URLSearchParams(query)) {\n    params.set(key.toLowerCase(), value);\n  }\n  return params;\n}\nconst InvisibleCharsRegExp = /[\\x00-\\x1F]/g;\nfunction removeNullCharacters(str, replaceInvisible = false) {\n  if (!InvisibleCharsRegExp.test(str)) {\n    return str;\n  }\n  if (replaceInvisible) {\n    return str.replaceAll(InvisibleCharsRegExp, m => m === \"\\x00\" ? \"\" : \" \");\n  }\n  return str.replaceAll(\"\\x00\", \"\");\n}\nfunction binarySearchFirstItem(items, condition, start = 0) {\n  let minIndex = start;\n  let maxIndex = items.length - 1;\n  if (maxIndex < 0 || !condition(items[maxIndex])) {\n    return items.length;\n  }\n  if (condition(items[minIndex])) {\n    return minIndex;\n  }\n  while (minIndex < maxIndex) {\n    const currentIndex = minIndex + maxIndex >> 1;\n    const currentItem = items[currentIndex];\n    if (condition(currentItem)) {\n      maxIndex = currentIndex;\n    } else {\n      minIndex = currentIndex + 1;\n    }\n  }\n  return minIndex;\n}\nfunction approximateFraction(x) {\n  if (Math.floor(x) === x) {\n    return [x, 1];\n  }\n  const xinv = 1 / x;\n  const limit = 8;\n  if (xinv > limit) {\n    return [1, limit];\n  } else if (Math.floor(xinv) === xinv) {\n    return [1, xinv];\n  }\n  const x_ = x > 1 ? xinv : x;\n  let a = 0,\n    b = 1,\n    c = 1,\n    d = 1;\n  while (true) {\n    const p = a + c,\n      q = b + d;\n    if (q > limit) {\n      break;\n    }\n    if (x_ <= p / q) {\n      c = p;\n      d = q;\n    } else {\n      a = p;\n      b = q;\n    }\n  }\n  let result;\n  if (x_ - a / b < c / d - x_) {\n    result = x_ === x ? [a, b] : [b, a];\n  } else {\n    result = x_ === x ? [c, d] : [d, c];\n  }\n  return result;\n}\nfunction floorToDivide(x, div) {\n  return x - x % div;\n}\nfunction getPageSizeInches({\n  view,\n  userUnit,\n  rotate\n}) {\n  const [x1, y1, x2, y2] = view;\n  const changeOrientation = rotate % 180 !== 0;\n  const width = (x2 - x1) / 72 * userUnit;\n  const height = (y2 - y1) / 72 * userUnit;\n  return {\n    width: changeOrientation ? height : width,\n    height: changeOrientation ? width : height\n  };\n}\nfunction backtrackBeforeAllVisibleElements(index, views, top) {\n  if (index < 2) {\n    return index;\n  }\n  let elt = views[index].div;\n  let pageTop = elt.offsetTop + elt.clientTop;\n  if (pageTop >= top) {\n    elt = views[index - 1].div;\n    pageTop = elt.offsetTop + elt.clientTop;\n  }\n  for (let i = index - 2; i >= 0; --i) {\n    elt = views[i].div;\n    if (elt.offsetTop + elt.clientTop + elt.clientHeight <= pageTop) {\n      break;\n    }\n    index = i;\n  }\n  return index;\n}\nfunction getVisibleElements({\n  scrollEl,\n  views,\n  sortByVisibility = false,\n  horizontal = false,\n  rtl = false\n}) {\n  const top = scrollEl.scrollTop,\n    bottom = top + scrollEl.clientHeight;\n  const left = scrollEl.scrollLeft,\n    right = left + scrollEl.clientWidth;\n  function isElementBottomAfterViewTop(view) {\n    const element = view.div;\n    const elementBottom = element.offsetTop + element.clientTop + element.clientHeight;\n    return elementBottom > top;\n  }\n  function isElementNextAfterViewHorizontally(view) {\n    const element = view.div;\n    const elementLeft = element.offsetLeft + element.clientLeft;\n    const elementRight = elementLeft + element.clientWidth;\n    return rtl ? elementLeft < right : elementRight > left;\n  }\n  const visible = [],\n    ids = new Set(),\n    numViews = views.length;\n  let firstVisibleElementInd = binarySearchFirstItem(views, horizontal ? isElementNextAfterViewHorizontally : isElementBottomAfterViewTop);\n  if (firstVisibleElementInd > 0 && firstVisibleElementInd < numViews && !horizontal) {\n    firstVisibleElementInd = backtrackBeforeAllVisibleElements(firstVisibleElementInd, views, top);\n  }\n  let lastEdge = horizontal ? right : -1;\n  for (let i = firstVisibleElementInd; i < numViews; i++) {\n    const view = views[i],\n      element = view.div;\n    const currentWidth = element.offsetLeft + element.clientLeft;\n    const currentHeight = element.offsetTop + element.clientTop;\n    const viewWidth = element.clientWidth,\n      viewHeight = element.clientHeight;\n    const viewRight = currentWidth + viewWidth;\n    const viewBottom = currentHeight + viewHeight;\n    if (lastEdge === -1) {\n      if (viewBottom >= bottom) {\n        lastEdge = viewBottom;\n      }\n    } else if ((horizontal ? currentWidth : currentHeight) > lastEdge) {\n      break;\n    }\n    if (viewBottom <= top || currentHeight >= bottom || viewRight <= left || currentWidth >= right) {\n      continue;\n    }\n    const hiddenHeight = Math.max(0, top - currentHeight) + Math.max(0, viewBottom - bottom);\n    const hiddenWidth = Math.max(0, left - currentWidth) + Math.max(0, viewRight - right);\n    const fractionHeight = (viewHeight - hiddenHeight) / viewHeight,\n      fractionWidth = (viewWidth - hiddenWidth) / viewWidth;\n    const percent = fractionHeight * fractionWidth * 100 | 0;\n    visible.push({\n      id: view.id,\n      x: currentWidth,\n      y: currentHeight,\n      view,\n      percent,\n      widthPercent: fractionWidth * 100 | 0\n    });\n    ids.add(view.id);\n  }\n  const first = visible[0],\n    last = visible.at(-1);\n  if (sortByVisibility) {\n    visible.sort(function (a, b) {\n      const pc = a.percent - b.percent;\n      if (Math.abs(pc) > 0.001) {\n        return -pc;\n      }\n      return a.id - b.id;\n    });\n  }\n  return {\n    first,\n    last,\n    views: visible,\n    ids\n  };\n}\nfunction normalizeWheelEventDirection(evt) {\n  let delta = Math.hypot(evt.deltaX, evt.deltaY);\n  const angle = Math.atan2(evt.deltaY, evt.deltaX);\n  if (-0.25 * Math.PI < angle && angle < 0.75 * Math.PI) {\n    delta = -delta;\n  }\n  return delta;\n}\nfunction normalizeWheelEventDelta(evt) {\n  const deltaMode = evt.deltaMode;\n  let delta = normalizeWheelEventDirection(evt);\n  const MOUSE_PIXELS_PER_LINE = 30;\n  const MOUSE_LINES_PER_PAGE = 30;\n  if (deltaMode === WheelEvent.DOM_DELTA_PIXEL) {\n    delta /= MOUSE_PIXELS_PER_LINE * MOUSE_LINES_PER_PAGE;\n  } else if (deltaMode === WheelEvent.DOM_DELTA_LINE) {\n    delta /= MOUSE_LINES_PER_PAGE;\n  }\n  return delta;\n}\nfunction isValidRotation(angle) {\n  return Number.isInteger(angle) && angle % 90 === 0;\n}\nfunction isValidScrollMode(mode) {\n  return Number.isInteger(mode) && Object.values(ScrollMode).includes(mode) && mode !== ScrollMode.UNKNOWN;\n}\nfunction isValidSpreadMode(mode) {\n  return Number.isInteger(mode) && Object.values(SpreadMode).includes(mode) && mode !== SpreadMode.UNKNOWN;\n}\nfunction isPortraitOrientation(size) {\n  return size.width <= size.height;\n}\nconst animationStarted = new Promise(function (resolve) {\n  window.requestAnimationFrame(resolve);\n});\nconst docStyle = document.documentElement.style;\nfunction clamp(v, min, max) {\n  return Math.min(Math.max(v, min), max);\n}\nclass ProgressBar {\n  #classList = null;\n  #disableAutoFetchTimeout = null;\n  #percent = 0;\n  #style = null;\n  #visible = true;\n  constructor(bar) {\n    this.#classList = bar.classList;\n    this.#style = bar.style;\n  }\n  get percent() {\n    return this.#percent;\n  }\n  set percent(val) {\n    this.#percent = clamp(val, 0, 100);\n    if (isNaN(val)) {\n      this.#classList.add(\"indeterminate\");\n      return;\n    }\n    this.#classList.remove(\"indeterminate\");\n    this.#style.setProperty(\"--progressBar-percent\", `${this.#percent}%`);\n  }\n  setWidth(viewer) {\n    if (!viewer) {\n      return;\n    }\n    const container = viewer.parentNode;\n    const scrollbarWidth = container.offsetWidth - viewer.offsetWidth;\n    if (scrollbarWidth > 0) {\n      this.#style.setProperty(\"--progressBar-end-offset\", `${scrollbarWidth}px`);\n    }\n  }\n  setDisableAutoFetch(delay = 5000) {\n    if (this.#percent === 100 || isNaN(this.#percent)) {\n      return;\n    }\n    if (this.#disableAutoFetchTimeout) {\n      clearTimeout(this.#disableAutoFetchTimeout);\n    }\n    this.show();\n    this.#disableAutoFetchTimeout = setTimeout(() => {\n      this.#disableAutoFetchTimeout = null;\n      this.hide();\n    }, delay);\n  }\n  hide() {\n    if (!this.#visible) {\n      return;\n    }\n    this.#visible = false;\n    this.#classList.add(\"hidden\");\n  }\n  show() {\n    if (this.#visible) {\n      return;\n    }\n    this.#visible = true;\n    this.#classList.remove(\"hidden\");\n  }\n}\nfunction getActiveOrFocusedElement() {\n  let curRoot = document;\n  let curActiveOrFocused = curRoot.activeElement || curRoot.querySelector(\":focus\");\n  while (curActiveOrFocused?.shadowRoot) {\n    curRoot = curActiveOrFocused.shadowRoot;\n    curActiveOrFocused = curRoot.activeElement || curRoot.querySelector(\":focus\");\n  }\n  return curActiveOrFocused;\n}\nfunction apiPageLayoutToViewerModes(layout) {\n  let scrollMode = ScrollMode.VERTICAL,\n    spreadMode = SpreadMode.NONE;\n  switch (layout) {\n    case \"SinglePage\":\n      scrollMode = ScrollMode.PAGE;\n      break;\n    case \"OneColumn\":\n      break;\n    case \"TwoPageLeft\":\n      scrollMode = ScrollMode.PAGE;\n    case \"TwoColumnLeft\":\n      spreadMode = SpreadMode.ODD;\n      break;\n    case \"TwoPageRight\":\n      scrollMode = ScrollMode.PAGE;\n    case \"TwoColumnRight\":\n      spreadMode = SpreadMode.EVEN;\n      break;\n  }\n  return {\n    scrollMode,\n    spreadMode\n  };\n}\nfunction apiPageModeToSidebarView(mode) {\n  switch (mode) {\n    case \"UseNone\":\n      return SidebarView.NONE;\n    case \"UseThumbs\":\n      return SidebarView.THUMBS;\n    case \"UseOutlines\":\n      return SidebarView.OUTLINE;\n    case \"UseAttachments\":\n      return SidebarView.ATTACHMENTS;\n    case \"UseOC\":\n      return SidebarView.LAYERS;\n  }\n  return SidebarView.NONE;\n}\nfunction toggleCheckedBtn(button, toggle, view = null) {\n  button.classList.toggle(\"toggled\", toggle);\n  button.setAttribute(\"aria-checked\", toggle);\n  view?.classList.toggle(\"hidden\", !toggle);\n}\nfunction toggleExpandedBtn(button, toggle, view = null) {\n  button.classList.toggle(\"toggled\", toggle);\n  button.setAttribute(\"aria-expanded\", toggle);\n  view?.classList.toggle(\"hidden\", !toggle);\n}\n\n;// CONCATENATED MODULE: ./web/pdf_find_utils.js\nconst CharacterType = {\n  SPACE: 0,\n  ALPHA_LETTER: 1,\n  PUNCT: 2,\n  HAN_LETTER: 3,\n  KATAKANA_LETTER: 4,\n  HIRAGANA_LETTER: 5,\n  HALFWIDTH_KATAKANA_LETTER: 6,\n  THAI_LETTER: 7\n};\nfunction isAlphabeticalScript(charCode) {\n  return charCode < 0x2e80;\n}\nfunction isAscii(charCode) {\n  return (charCode & 0xff80) === 0;\n}\nfunction isAsciiAlpha(charCode) {\n  return charCode >= 0x61 && charCode <= 0x7a || charCode >= 0x41 && charCode <= 0x5a;\n}\nfunction isAsciiDigit(charCode) {\n  return charCode >= 0x30 && charCode <= 0x39;\n}\nfunction isAsciiSpace(charCode) {\n  return charCode === 0x20 || charCode === 0x09 || charCode === 0x0d || charCode === 0x0a;\n}\nfunction isHan(charCode) {\n  return charCode >= 0x3400 && charCode <= 0x9fff || charCode >= 0xf900 && charCode <= 0xfaff;\n}\nfunction isKatakana(charCode) {\n  return charCode >= 0x30a0 && charCode <= 0x30ff;\n}\nfunction isHiragana(charCode) {\n  return charCode >= 0x3040 && charCode <= 0x309f;\n}\nfunction isHalfwidthKatakana(charCode) {\n  return charCode >= 0xff60 && charCode <= 0xff9f;\n}\nfunction isThai(charCode) {\n  return (charCode & 0xff80) === 0x0e00;\n}\nfunction getCharacterType(charCode) {\n  if (isAlphabeticalScript(charCode)) {\n    if (isAscii(charCode)) {\n      if (isAsciiSpace(charCode)) {\n        return CharacterType.SPACE;\n      } else if (isAsciiAlpha(charCode) || isAsciiDigit(charCode) || charCode === 0x5f) {\n        return CharacterType.ALPHA_LETTER;\n      }\n      return CharacterType.PUNCT;\n    } else if (isThai(charCode)) {\n      return CharacterType.THAI_LETTER;\n    } else if (charCode === 0xa0) {\n      return CharacterType.SPACE;\n    }\n    return CharacterType.ALPHA_LETTER;\n  }\n  if (isHan(charCode)) {\n    return CharacterType.HAN_LETTER;\n  } else if (isKatakana(charCode)) {\n    return CharacterType.KATAKANA_LETTER;\n  } else if (isHiragana(charCode)) {\n    return CharacterType.HIRAGANA_LETTER;\n  } else if (isHalfwidthKatakana(charCode)) {\n    return CharacterType.HALFWIDTH_KATAKANA_LETTER;\n  }\n  return CharacterType.ALPHA_LETTER;\n}\nlet NormalizeWithNFKC;\nfunction getNormalizeWithNFKC() {\n  NormalizeWithNFKC ||= ` ¨ª¯²-µ¸-º¼-¾Ĳ-ĳĿ-ŀŉſǄ-ǌǱ-ǳʰ-ʸ˘-˝ˠ-ˤʹͺ;΄-΅·ϐ-ϖϰ-ϲϴ-ϵϹևٵ-ٸक़-य़ড়-ঢ়য়ਲ਼ਸ਼ਖ਼-ਜ਼ਫ਼ଡ଼-ଢ଼ำຳໜ-ໝ༌གྷཌྷདྷབྷཛྷཀྵჼᴬ-ᴮᴰ-ᴺᴼ-ᵍᵏ-ᵪᵸᶛ-ᶿẚ-ẛάέήίόύώΆ᾽-῁ΈΉ῍-῏ΐΊ῝-῟ΰΎ῭-`ΌΏ´-῾ - ‑‗․-… ″-‴‶-‷‼‾⁇-⁉⁗ ⁰-ⁱ⁴-₎ₐ-ₜ₨℀-℃℅-ℇ℉-ℓℕ-№ℙ-ℝ℠-™ℤΩℨK-ℭℯ-ℱℳ-ℹ℻-⅀ⅅ-ⅉ⅐-ⅿ↉∬-∭∯-∰〈-〉①-⓪⨌⩴-⩶⫝̸ⱼ-ⱽⵯ⺟⻳⼀-⿕　〶〸-〺゛-゜ゟヿㄱ-ㆎ㆒-㆟㈀-㈞㈠-㉇㉐-㉾㊀-㏿ꚜ-ꚝꝰꟲ-ꟴꟸ-ꟹꭜ-ꭟꭩ豈-嗀塚晴凞-羽蘒諸逸-都飯-舘並-龎ﬀ-ﬆﬓ-ﬗיִײַ-זּטּ-לּמּנּ-סּףּ-פּצּ-ﮱﯓ-ﴽﵐ-ﶏﶒ-ﷇﷰ-﷼︐-︙︰-﹄﹇-﹒﹔-﹦﹨-﹫ﹰ-ﹲﹴﹶ-ﻼ！-ﾾￂ-ￇￊ-ￏￒ-ￗￚ-ￜ￠-￦`;\n  return NormalizeWithNFKC;\n}\n\n;// CONCATENATED MODULE: ./web/pdf_find_controller.js\n\n\nconst FindState = {\n  FOUND: 0,\n  NOT_FOUND: 1,\n  WRAPPED: 2,\n  PENDING: 3\n};\nconst FIND_TIMEOUT = 250;\nconst MATCH_SCROLL_OFFSET_TOP = -50;\nconst MATCH_SCROLL_OFFSET_LEFT = -400;\nconst CHARACTERS_TO_NORMALIZE = {\n  \"\\u2010\": \"-\",\n  \"\\u2018\": \"'\",\n  \"\\u2019\": \"'\",\n  \"\\u201A\": \"'\",\n  \"\\u201B\": \"'\",\n  \"\\u201C\": '\"',\n  \"\\u201D\": '\"',\n  \"\\u201E\": '\"',\n  \"\\u201F\": '\"',\n  \"\\u00BC\": \"1/4\",\n  \"\\u00BD\": \"1/2\",\n  \"\\u00BE\": \"3/4\"\n};\nconst DIACRITICS_EXCEPTION = new Set([0x3099, 0x309a, 0x094d, 0x09cd, 0x0a4d, 0x0acd, 0x0b4d, 0x0bcd, 0x0c4d, 0x0ccd, 0x0d3b, 0x0d3c, 0x0d4d, 0x0dca, 0x0e3a, 0x0eba, 0x0f84, 0x1039, 0x103a, 0x1714, 0x1734, 0x17d2, 0x1a60, 0x1b44, 0x1baa, 0x1bab, 0x1bf2, 0x1bf3, 0x2d7f, 0xa806, 0xa82c, 0xa8c4, 0xa953, 0xa9c0, 0xaaf6, 0xabed, 0x0c56, 0x0f71, 0x0f72, 0x0f7a, 0x0f7b, 0x0f7c, 0x0f7d, 0x0f80, 0x0f74]);\nlet DIACRITICS_EXCEPTION_STR;\nconst DIACRITICS_REG_EXP = /\\p{M}+/gu;\nconst SPECIAL_CHARS_REG_EXP = /([.*+?^${}()|[\\]\\\\])|(\\p{P})|(\\s+)|(\\p{M})|(\\p{L})/gu;\nconst NOT_DIACRITIC_FROM_END_REG_EXP = /([^\\p{M}])\\p{M}*$/u;\nconst NOT_DIACRITIC_FROM_START_REG_EXP = /^\\p{M}*([^\\p{M}])/u;\nconst SYLLABLES_REG_EXP = /[\\uAC00-\\uD7AF\\uFA6C\\uFACF-\\uFAD1\\uFAD5-\\uFAD7]+/g;\nconst SYLLABLES_LENGTHS = new Map();\nconst FIRST_CHAR_SYLLABLES_REG_EXP = \"[\\\\u1100-\\\\u1112\\\\ud7a4-\\\\ud7af\\\\ud84a\\\\ud84c\\\\ud850\\\\ud854\\\\ud857\\\\ud85f]\";\nconst NFKC_CHARS_TO_NORMALIZE = new Map();\nlet noSyllablesRegExp = null;\nlet withSyllablesRegExp = null;\nfunction normalize(text) {\n  const syllablePositions = [];\n  let m;\n  while ((m = SYLLABLES_REG_EXP.exec(text)) !== null) {\n    let {\n      index\n    } = m;\n    for (const char of m[0]) {\n      let len = SYLLABLES_LENGTHS.get(char);\n      if (!len) {\n        len = char.normalize(\"NFD\").length;\n        SYLLABLES_LENGTHS.set(char, len);\n      }\n      syllablePositions.push([len, index++]);\n    }\n  }\n  let normalizationRegex;\n  if (syllablePositions.length === 0 && noSyllablesRegExp) {\n    normalizationRegex = noSyllablesRegExp;\n  } else if (syllablePositions.length > 0 && withSyllablesRegExp) {\n    normalizationRegex = withSyllablesRegExp;\n  } else {\n    const replace = Object.keys(CHARACTERS_TO_NORMALIZE).join(\"\");\n    const toNormalizeWithNFKC = getNormalizeWithNFKC();\n    const CJK = \"(?:\\\\p{Ideographic}|[\\u3040-\\u30FF])\";\n    const HKDiacritics = \"(?:\\u3099|\\u309A)\";\n    const regexp = `([${replace}])|([${toNormalizeWithNFKC}])|(${HKDiacritics}\\\\n)|(\\\\p{M}+(?:-\\\\n)?)|(\\\\S-\\\\n)|(${CJK}\\\\n)|(\\\\n)`;\n    if (syllablePositions.length === 0) {\n      normalizationRegex = noSyllablesRegExp = new RegExp(regexp + \"|(\\\\u0000)\", \"gum\");\n    } else {\n      normalizationRegex = withSyllablesRegExp = new RegExp(regexp + `|(${FIRST_CHAR_SYLLABLES_REG_EXP})`, \"gum\");\n    }\n  }\n  const rawDiacriticsPositions = [];\n  while ((m = DIACRITICS_REG_EXP.exec(text)) !== null) {\n    rawDiacriticsPositions.push([m[0].length, m.index]);\n  }\n  let normalized = text.normalize(\"NFD\");\n  const positions = [[0, 0]];\n  let rawDiacriticsIndex = 0;\n  let syllableIndex = 0;\n  let shift = 0;\n  let shiftOrigin = 0;\n  let eol = 0;\n  let hasDiacritics = false;\n  normalized = normalized.replace(normalizationRegex, (match, p1, p2, p3, p4, p5, p6, p7, p8, i) => {\n    i -= shiftOrigin;\n    if (p1) {\n      const replacement = CHARACTERS_TO_NORMALIZE[p1];\n      const jj = replacement.length;\n      for (let j = 1; j < jj; j++) {\n        positions.push([i - shift + j, shift - j]);\n      }\n      shift -= jj - 1;\n      return replacement;\n    }\n    if (p2) {\n      let replacement = NFKC_CHARS_TO_NORMALIZE.get(p2);\n      if (!replacement) {\n        replacement = p2.normalize(\"NFKC\");\n        NFKC_CHARS_TO_NORMALIZE.set(p2, replacement);\n      }\n      const jj = replacement.length;\n      for (let j = 1; j < jj; j++) {\n        positions.push([i - shift + j, shift - j]);\n      }\n      shift -= jj - 1;\n      return replacement;\n    }\n    if (p3) {\n      hasDiacritics = true;\n      if (i + eol === rawDiacriticsPositions[rawDiacriticsIndex]?.[1]) {\n        ++rawDiacriticsIndex;\n      } else {\n        positions.push([i - 1 - shift + 1, shift - 1]);\n        shift -= 1;\n        shiftOrigin += 1;\n      }\n      positions.push([i - shift + 1, shift]);\n      shiftOrigin += 1;\n      eol += 1;\n      return p3.charAt(0);\n    }\n    if (p4) {\n      const hasTrailingDashEOL = p4.endsWith(\"\\n\");\n      const len = hasTrailingDashEOL ? p4.length - 2 : p4.length;\n      hasDiacritics = true;\n      let jj = len;\n      if (i + eol === rawDiacriticsPositions[rawDiacriticsIndex]?.[1]) {\n        jj -= rawDiacriticsPositions[rawDiacriticsIndex][0];\n        ++rawDiacriticsIndex;\n      }\n      for (let j = 1; j <= jj; j++) {\n        positions.push([i - 1 - shift + j, shift - j]);\n      }\n      shift -= jj;\n      shiftOrigin += jj;\n      if (hasTrailingDashEOL) {\n        i += len - 1;\n        positions.push([i - shift + 1, 1 + shift]);\n        shift += 1;\n        shiftOrigin += 1;\n        eol += 1;\n        return p4.slice(0, len);\n      }\n      return p4;\n    }\n    if (p5) {\n      const len = p5.length - 2;\n      positions.push([i - shift + len, 1 + shift]);\n      shift += 1;\n      shiftOrigin += 1;\n      eol += 1;\n      return p5.slice(0, -2);\n    }\n    if (p6) {\n      const len = p6.length - 1;\n      positions.push([i - shift + len, shift]);\n      shiftOrigin += 1;\n      eol += 1;\n      return p6.slice(0, -1);\n    }\n    if (p7) {\n      positions.push([i - shift + 1, shift - 1]);\n      shift -= 1;\n      shiftOrigin += 1;\n      eol += 1;\n      return \" \";\n    }\n    if (i + eol === syllablePositions[syllableIndex]?.[1]) {\n      const newCharLen = syllablePositions[syllableIndex][0] - 1;\n      ++syllableIndex;\n      for (let j = 1; j <= newCharLen; j++) {\n        positions.push([i - (shift - j), shift - j]);\n      }\n      shift -= newCharLen;\n      shiftOrigin += newCharLen;\n    }\n    return p8;\n  });\n  positions.push([normalized.length, shift]);\n  return [normalized, positions, hasDiacritics];\n}\nfunction getOriginalIndex(diffs, pos, len) {\n  if (!diffs) {\n    return [pos, len];\n  }\n  const start = pos;\n  const end = pos + len - 1;\n  let i = binarySearchFirstItem(diffs, x => x[0] >= start);\n  if (diffs[i][0] > start) {\n    --i;\n  }\n  let j = binarySearchFirstItem(diffs, x => x[0] >= end, i);\n  if (diffs[j][0] > end) {\n    --j;\n  }\n  const oldStart = start + diffs[i][1];\n  const oldEnd = end + diffs[j][1];\n  const oldLen = oldEnd + 1 - oldStart;\n  return [oldStart, oldLen];\n}\nclass PDFFindController {\n  #state = null;\n  #updateMatchesCountOnProgress = true;\n  #visitedPagesCount = 0;\n  constructor({\n    linkService,\n    eventBus,\n    updateMatchesCountOnProgress = true\n  }) {\n    this._linkService = linkService;\n    this._eventBus = eventBus;\n    this.#updateMatchesCountOnProgress = updateMatchesCountOnProgress;\n    this.onIsPageVisible = null;\n    this.#reset();\n    eventBus._on(\"find\", this.#onFind.bind(this));\n    eventBus._on(\"findbarclose\", this.#onFindBarClose.bind(this));\n  }\n  get highlightMatches() {\n    return this._highlightMatches;\n  }\n  get pageMatches() {\n    return this._pageMatches;\n  }\n  get pageMatchesLength() {\n    return this._pageMatchesLength;\n  }\n  get selected() {\n    return this._selected;\n  }\n  get state() {\n    return this.#state;\n  }\n  setDocument(pdfDocument) {\n    if (this._pdfDocument) {\n      this.#reset();\n    }\n    if (!pdfDocument) {\n      return;\n    }\n    this._pdfDocument = pdfDocument;\n    this._firstPageCapability.resolve();\n  }\n  #onFind(state) {\n    if (!state) {\n      return;\n    }\n    const pdfDocument = this._pdfDocument;\n    const {\n      type\n    } = state;\n    if (this.#state === null || this.#shouldDirtyMatch(state)) {\n      this._dirtyMatch = true;\n    }\n    this.#state = state;\n    if (type !== \"highlightallchange\") {\n      this.#updateUIState(FindState.PENDING);\n    }\n    this._firstPageCapability.promise.then(() => {\n      if (!this._pdfDocument || pdfDocument && this._pdfDocument !== pdfDocument) {\n        return;\n      }\n      this.#extractText();\n      const findbarClosed = !this._highlightMatches;\n      const pendingTimeout = !!this._findTimeout;\n      if (this._findTimeout) {\n        clearTimeout(this._findTimeout);\n        this._findTimeout = null;\n      }\n      if (!type) {\n        this._findTimeout = setTimeout(() => {\n          this.#nextMatch();\n          this._findTimeout = null;\n        }, FIND_TIMEOUT);\n      } else if (this._dirtyMatch) {\n        this.#nextMatch();\n      } else if (type === \"again\") {\n        this.#nextMatch();\n        if (findbarClosed && this.#state.highlightAll) {\n          this.#updateAllPages();\n        }\n      } else if (type === \"highlightallchange\") {\n        if (pendingTimeout) {\n          this.#nextMatch();\n        } else {\n          this._highlightMatches = true;\n        }\n        this.#updateAllPages();\n      } else {\n        this.#nextMatch();\n      }\n    });\n  }\n  scrollMatchIntoView({\n    element = null,\n    selectedLeft = 0,\n    pageIndex = -1,\n    matchIndex = -1\n  }) {\n    if (!this._scrollMatches || !element) {\n      return;\n    } else if (matchIndex === -1 || matchIndex !== this._selected.matchIdx) {\n      return;\n    } else if (pageIndex === -1 || pageIndex !== this._selected.pageIdx) {\n      return;\n    }\n    this._scrollMatches = false;\n    const spot = {\n      top: MATCH_SCROLL_OFFSET_TOP,\n      left: selectedLeft + MATCH_SCROLL_OFFSET_LEFT\n    };\n    scrollIntoView(element, spot, true);\n  }\n  #reset() {\n    this._highlightMatches = false;\n    this._scrollMatches = false;\n    this._pdfDocument = null;\n    this._pageMatches = [];\n    this._pageMatchesLength = [];\n    this.#visitedPagesCount = 0;\n    this.#state = null;\n    this._selected = {\n      pageIdx: -1,\n      matchIdx: -1\n    };\n    this._offset = {\n      pageIdx: null,\n      matchIdx: null,\n      wrapped: false\n    };\n    this._extractTextPromises = [];\n    this._pageContents = [];\n    this._pageDiffs = [];\n    this._hasDiacritics = [];\n    this._matchesCountTotal = 0;\n    this._pagesToSearch = null;\n    this._pendingFindMatches = new Set();\n    this._resumePageIdx = null;\n    this._dirtyMatch = false;\n    clearTimeout(this._findTimeout);\n    this._findTimeout = null;\n    this._firstPageCapability = Promise.withResolvers();\n  }\n  get #query() {\n    const {\n      query\n    } = this.#state;\n    if (typeof query === \"string\") {\n      if (query !== this._rawQuery) {\n        this._rawQuery = query;\n        [this._normalizedQuery] = normalize(query);\n      }\n      return this._normalizedQuery;\n    }\n    return (query || []).filter(q => !!q).map(q => normalize(q)[0]);\n  }\n  #shouldDirtyMatch(state) {\n    const newQuery = state.query,\n      prevQuery = this.#state.query;\n    const newType = typeof newQuery,\n      prevType = typeof prevQuery;\n    if (newType !== prevType) {\n      return true;\n    }\n    if (newType === \"string\") {\n      if (newQuery !== prevQuery) {\n        return true;\n      }\n    } else if (JSON.stringify(newQuery) !== JSON.stringify(prevQuery)) {\n      return true;\n    }\n    switch (state.type) {\n      case \"again\":\n        const pageNumber = this._selected.pageIdx + 1;\n        const linkService = this._linkService;\n        return pageNumber >= 1 && pageNumber <= linkService.pagesCount && pageNumber !== linkService.page && !(this.onIsPageVisible?.(pageNumber) ?? true);\n      case \"highlightallchange\":\n        return false;\n    }\n    return true;\n  }\n  #isEntireWord(content, startIdx, length) {\n    let match = content.slice(0, startIdx).match(NOT_DIACRITIC_FROM_END_REG_EXP);\n    if (match) {\n      const first = content.charCodeAt(startIdx);\n      const limit = match[1].charCodeAt(0);\n      if (getCharacterType(first) === getCharacterType(limit)) {\n        return false;\n      }\n    }\n    match = content.slice(startIdx + length).match(NOT_DIACRITIC_FROM_START_REG_EXP);\n    if (match) {\n      const last = content.charCodeAt(startIdx + length - 1);\n      const limit = match[1].charCodeAt(0);\n      if (getCharacterType(last) === getCharacterType(limit)) {\n        return false;\n      }\n    }\n    return true;\n  }\n  #convertToRegExpString(query, hasDiacritics) {\n    const {\n      matchDiacritics\n    } = this.#state;\n    let isUnicode = false;\n    query = query.replaceAll(SPECIAL_CHARS_REG_EXP, (match, p1, p2, p3, p4, p5) => {\n      if (p1) {\n        return `[ ]*\\\\${p1}[ ]*`;\n      }\n      if (p2) {\n        return `[ ]*${p2}[ ]*`;\n      }\n      if (p3) {\n        return \"[ ]+\";\n      }\n      if (matchDiacritics) {\n        return p4 || p5;\n      }\n      if (p4) {\n        return DIACRITICS_EXCEPTION.has(p4.charCodeAt(0)) ? p4 : \"\";\n      }\n      if (hasDiacritics) {\n        isUnicode = true;\n        return `${p5}\\\\p{M}*`;\n      }\n      return p5;\n    });\n    const trailingSpaces = \"[ ]*\";\n    if (query.endsWith(trailingSpaces)) {\n      query = query.slice(0, query.length - trailingSpaces.length);\n    }\n    if (matchDiacritics) {\n      if (hasDiacritics) {\n        DIACRITICS_EXCEPTION_STR ||= String.fromCharCode(...DIACRITICS_EXCEPTION);\n        isUnicode = true;\n        query = `${query}(?=[${DIACRITICS_EXCEPTION_STR}]|[^\\\\p{M}]|$)`;\n      }\n    }\n    return [isUnicode, query];\n  }\n  #calculateMatch(pageIndex) {\n    const query = this.#query;\n    if (query.length === 0) {\n      return;\n    }\n    const pageContent = this._pageContents[pageIndex];\n    const matcherResult = this.match(query, pageContent, pageIndex);\n    const matches = this._pageMatches[pageIndex] = [];\n    const matchesLength = this._pageMatchesLength[pageIndex] = [];\n    const diffs = this._pageDiffs[pageIndex];\n    matcherResult?.forEach(({\n      index,\n      length\n    }) => {\n      const [matchPos, matchLen] = getOriginalIndex(diffs, index, length);\n      if (matchLen) {\n        matches.push(matchPos);\n        matchesLength.push(matchLen);\n      }\n    });\n    if (this.#state.highlightAll) {\n      this.#updatePage(pageIndex);\n    }\n    if (this._resumePageIdx === pageIndex) {\n      this._resumePageIdx = null;\n      this.#nextPageMatch();\n    }\n    const pageMatchesCount = matches.length;\n    this._matchesCountTotal += pageMatchesCount;\n    if (this.#updateMatchesCountOnProgress) {\n      if (pageMatchesCount > 0) {\n        this.#updateUIResultsCount();\n      }\n    } else if (++this.#visitedPagesCount === this._linkService.pagesCount) {\n      this.#updateUIResultsCount();\n    }\n  }\n  match(query, pageContent, pageIndex) {\n    const hasDiacritics = this._hasDiacritics[pageIndex];\n    let isUnicode = false;\n    if (typeof query === \"string\") {\n      [isUnicode, query] = this.#convertToRegExpString(query, hasDiacritics);\n    } else {\n      query = query.sort().reverse().map(q => {\n        const [isUnicodePart, queryPart] = this.#convertToRegExpString(q, hasDiacritics);\n        isUnicode ||= isUnicodePart;\n        return `(${queryPart})`;\n      }).join(\"|\");\n    }\n    if (!query) {\n      return undefined;\n    }\n    const {\n      caseSensitive,\n      entireWord\n    } = this.#state;\n    const flags = `g${isUnicode ? \"u\" : \"\"}${caseSensitive ? \"\" : \"i\"}`;\n    query = new RegExp(query, flags);\n    const matches = [];\n    let match;\n    while ((match = query.exec(pageContent)) !== null) {\n      if (entireWord && !this.#isEntireWord(pageContent, match.index, match[0].length)) {\n        continue;\n      }\n      matches.push({\n        index: match.index,\n        length: match[0].length\n      });\n    }\n    return matches;\n  }\n  #extractText() {\n    if (this._extractTextPromises.length > 0) {\n      return;\n    }\n    let deferred = Promise.resolve();\n    const textOptions = {\n      disableNormalization: true\n    };\n    for (let i = 0, ii = this._linkService.pagesCount; i < ii; i++) {\n      const {\n        promise,\n        resolve\n      } = Promise.withResolvers();\n      this._extractTextPromises[i] = promise;\n      deferred = deferred.then(() => {\n        return this._pdfDocument.getPage(i + 1).then(pdfPage => pdfPage.getTextContent(textOptions)).then(textContent => {\n          const strBuf = [];\n          for (const textItem of textContent.items) {\n            strBuf.push(textItem.str);\n            if (textItem.hasEOL) {\n              strBuf.push(\"\\n\");\n            }\n          }\n          [this._pageContents[i], this._pageDiffs[i], this._hasDiacritics[i]] = normalize(strBuf.join(\"\"));\n          resolve();\n        }, reason => {\n          console.error(`Unable to get text content for page ${i + 1}`, reason);\n          this._pageContents[i] = \"\";\n          this._pageDiffs[i] = null;\n          this._hasDiacritics[i] = false;\n          resolve();\n        });\n      });\n    }\n  }\n  #updatePage(index) {\n    if (this._scrollMatches && this._selected.pageIdx === index) {\n      this._linkService.page = index + 1;\n    }\n    this._eventBus.dispatch(\"updatetextlayermatches\", {\n      source: this,\n      pageIndex: index\n    });\n  }\n  #updateAllPages() {\n    this._eventBus.dispatch(\"updatetextlayermatches\", {\n      source: this,\n      pageIndex: -1\n    });\n  }\n  #nextMatch() {\n    const previous = this.#state.findPrevious;\n    const currentPageIndex = this._linkService.page - 1;\n    const numPages = this._linkService.pagesCount;\n    this._highlightMatches = true;\n    if (this._dirtyMatch) {\n      this._dirtyMatch = false;\n      this._selected.pageIdx = this._selected.matchIdx = -1;\n      this._offset.pageIdx = currentPageIndex;\n      this._offset.matchIdx = null;\n      this._offset.wrapped = false;\n      this._resumePageIdx = null;\n      this._pageMatches.length = 0;\n      this._pageMatchesLength.length = 0;\n      this.#visitedPagesCount = 0;\n      this._matchesCountTotal = 0;\n      this.#updateAllPages();\n      for (let i = 0; i < numPages; i++) {\n        if (this._pendingFindMatches.has(i)) {\n          continue;\n        }\n        this._pendingFindMatches.add(i);\n        this._extractTextPromises[i].then(() => {\n          this._pendingFindMatches.delete(i);\n          this.#calculateMatch(i);\n        });\n      }\n    }\n    const query = this.#query;\n    if (query.length === 0) {\n      this.#updateUIState(FindState.FOUND);\n      return;\n    }\n    if (this._resumePageIdx) {\n      return;\n    }\n    const offset = this._offset;\n    this._pagesToSearch = numPages;\n    if (offset.matchIdx !== null) {\n      const numPageMatches = this._pageMatches[offset.pageIdx].length;\n      if (!previous && offset.matchIdx + 1 < numPageMatches || previous && offset.matchIdx > 0) {\n        offset.matchIdx = previous ? offset.matchIdx - 1 : offset.matchIdx + 1;\n        this.#updateMatch(true);\n        return;\n      }\n      this.#advanceOffsetPage(previous);\n    }\n    this.#nextPageMatch();\n  }\n  #matchesReady(matches) {\n    const offset = this._offset;\n    const numMatches = matches.length;\n    const previous = this.#state.findPrevious;\n    if (numMatches) {\n      offset.matchIdx = previous ? numMatches - 1 : 0;\n      this.#updateMatch(true);\n      return true;\n    }\n    this.#advanceOffsetPage(previous);\n    if (offset.wrapped) {\n      offset.matchIdx = null;\n      if (this._pagesToSearch < 0) {\n        this.#updateMatch(false);\n        return true;\n      }\n    }\n    return false;\n  }\n  #nextPageMatch() {\n    if (this._resumePageIdx !== null) {\n      console.error(\"There can only be one pending page.\");\n    }\n    let matches = null;\n    do {\n      const pageIdx = this._offset.pageIdx;\n      matches = this._pageMatches[pageIdx];\n      if (!matches) {\n        this._resumePageIdx = pageIdx;\n        break;\n      }\n    } while (!this.#matchesReady(matches));\n  }\n  #advanceOffsetPage(previous) {\n    const offset = this._offset;\n    const numPages = this._linkService.pagesCount;\n    offset.pageIdx = previous ? offset.pageIdx - 1 : offset.pageIdx + 1;\n    offset.matchIdx = null;\n    this._pagesToSearch--;\n    if (offset.pageIdx >= numPages || offset.pageIdx < 0) {\n      offset.pageIdx = previous ? numPages - 1 : 0;\n      offset.wrapped = true;\n    }\n  }\n  #updateMatch(found = false) {\n    let state = FindState.NOT_FOUND;\n    const wrapped = this._offset.wrapped;\n    this._offset.wrapped = false;\n    if (found) {\n      const previousPage = this._selected.pageIdx;\n      this._selected.pageIdx = this._offset.pageIdx;\n      this._selected.matchIdx = this._offset.matchIdx;\n      state = wrapped ? FindState.WRAPPED : FindState.FOUND;\n      if (previousPage !== -1 && previousPage !== this._selected.pageIdx) {\n        this.#updatePage(previousPage);\n      }\n    }\n    this.#updateUIState(state, this.#state.findPrevious);\n    if (this._selected.pageIdx !== -1) {\n      this._scrollMatches = true;\n      this.#updatePage(this._selected.pageIdx);\n    }\n  }\n  #onFindBarClose(evt) {\n    const pdfDocument = this._pdfDocument;\n    this._firstPageCapability.promise.then(() => {\n      if (!this._pdfDocument || pdfDocument && this._pdfDocument !== pdfDocument) {\n        return;\n      }\n      if (this._findTimeout) {\n        clearTimeout(this._findTimeout);\n        this._findTimeout = null;\n      }\n      if (this._resumePageIdx) {\n        this._resumePageIdx = null;\n        this._dirtyMatch = true;\n      }\n      this.#updateUIState(FindState.FOUND);\n      this._highlightMatches = false;\n      this.#updateAllPages();\n    });\n  }\n  #requestMatchesCount() {\n    const {\n      pageIdx,\n      matchIdx\n    } = this._selected;\n    let current = 0,\n      total = this._matchesCountTotal;\n    if (matchIdx !== -1) {\n      for (let i = 0; i < pageIdx; i++) {\n        current += this._pageMatches[i]?.length || 0;\n      }\n      current += matchIdx + 1;\n    }\n    if (current < 1 || current > total) {\n      current = total = 0;\n    }\n    return {\n      current,\n      total\n    };\n  }\n  #updateUIResultsCount() {\n    this._eventBus.dispatch(\"updatefindmatchescount\", {\n      source: this,\n      matchesCount: this.#requestMatchesCount()\n    });\n  }\n  #updateUIState(state, previous = false) {\n    if (!this.#updateMatchesCountOnProgress && (this.#visitedPagesCount !== this._linkService.pagesCount || state === FindState.PENDING)) {\n      return;\n    }\n    this._eventBus.dispatch(\"updatefindcontrolstate\", {\n      source: this,\n      state,\n      previous,\n      entireWord: this.#state?.entireWord ?? null,\n      matchesCount: this.#requestMatchesCount(),\n      rawQuery: this.#state?.query ?? null\n    });\n  }\n}\n\n;// CONCATENATED MODULE: ./web/pdf_link_service.js\n\nconst DEFAULT_LINK_REL = \"noopener noreferrer nofollow\";\nconst LinkTarget = {\n  NONE: 0,\n  SELF: 1,\n  BLANK: 2,\n  PARENT: 3,\n  TOP: 4\n};\nclass PDFLinkService {\n  externalLinkEnabled = true;\n  constructor({\n    eventBus,\n    externalLinkTarget = null,\n    externalLinkRel = null,\n    ignoreDestinationZoom = false\n  } = {}) {\n    this.eventBus = eventBus;\n    this.externalLinkTarget = externalLinkTarget;\n    this.externalLinkRel = externalLinkRel;\n    this._ignoreDestinationZoom = ignoreDestinationZoom;\n    this.baseUrl = null;\n    this.pdfDocument = null;\n    this.pdfViewer = null;\n    this.pdfHistory = null;\n  }\n  setDocument(pdfDocument, baseUrl = null) {\n    this.baseUrl = baseUrl;\n    this.pdfDocument = pdfDocument;\n  }\n  setViewer(pdfViewer) {\n    this.pdfViewer = pdfViewer;\n  }\n  setHistory(pdfHistory) {\n    this.pdfHistory = pdfHistory;\n  }\n  get pagesCount() {\n    return this.pdfDocument ? this.pdfDocument.numPages : 0;\n  }\n  get page() {\n    return this.pdfDocument ? this.pdfViewer.currentPageNumber : 1;\n  }\n  set page(value) {\n    if (this.pdfDocument) {\n      this.pdfViewer.currentPageNumber = value;\n    }\n  }\n  get rotation() {\n    return this.pdfDocument ? this.pdfViewer.pagesRotation : 0;\n  }\n  set rotation(value) {\n    if (this.pdfDocument) {\n      this.pdfViewer.pagesRotation = value;\n    }\n  }\n  get isInPresentationMode() {\n    return this.pdfDocument ? this.pdfViewer.isInPresentationMode : false;\n  }\n  async goToDestination(dest) {\n    if (!this.pdfDocument) {\n      return;\n    }\n    let namedDest, explicitDest, pageNumber;\n    if (typeof dest === \"string\") {\n      namedDest = dest;\n      explicitDest = await this.pdfDocument.getDestination(dest);\n    } else {\n      namedDest = null;\n      explicitDest = await dest;\n    }\n    if (!Array.isArray(explicitDest)) {\n      console.error(`goToDestination: \"${explicitDest}\" is not a valid destination array, for dest=\"${dest}\".`);\n      return;\n    }\n    const [destRef] = explicitDest;\n    if (destRef && typeof destRef === \"object\") {\n      pageNumber = this.pdfDocument.cachedPageNumber(destRef);\n      if (!pageNumber) {\n        try {\n          pageNumber = (await this.pdfDocument.getPageIndex(destRef)) + 1;\n        } catch {\n          console.error(`goToDestination: \"${destRef}\" is not a valid page reference, for dest=\"${dest}\".`);\n          return;\n        }\n      }\n    } else if (Number.isInteger(destRef)) {\n      pageNumber = destRef + 1;\n    }\n    if (!pageNumber || pageNumber < 1 || pageNumber > this.pagesCount) {\n      console.error(`goToDestination: \"${pageNumber}\" is not a valid page number, for dest=\"${dest}\".`);\n      return;\n    }\n    if (this.pdfHistory) {\n      this.pdfHistory.pushCurrentPosition();\n      this.pdfHistory.push({\n        namedDest,\n        explicitDest,\n        pageNumber\n      });\n    }\n    this.pdfViewer.scrollPageIntoView({\n      pageNumber,\n      destArray: explicitDest,\n      ignoreDestinationZoom: this._ignoreDestinationZoom\n    });\n  }\n  goToPage(val) {\n    if (!this.pdfDocument) {\n      return;\n    }\n    const pageNumber = typeof val === \"string\" && this.pdfViewer.pageLabelToPageNumber(val) || val | 0;\n    if (!(Number.isInteger(pageNumber) && pageNumber > 0 && pageNumber <= this.pagesCount)) {\n      console.error(`PDFLinkService.goToPage: \"${val}\" is not a valid page.`);\n      return;\n    }\n    if (this.pdfHistory) {\n      this.pdfHistory.pushCurrentPosition();\n      this.pdfHistory.pushPage(pageNumber);\n    }\n    this.pdfViewer.scrollPageIntoView({\n      pageNumber\n    });\n  }\n  addLinkAttributes(link, url, newWindow = false) {\n    if (!url || typeof url !== \"string\") {\n      throw new Error('A valid \"url\" parameter must provided.');\n    }\n    const target = newWindow ? LinkTarget.BLANK : this.externalLinkTarget,\n      rel = this.externalLinkRel;\n    if (this.externalLinkEnabled) {\n      link.href = link.title = url;\n    } else {\n      link.href = \"\";\n      link.title = `Disabled: ${url}`;\n      link.onclick = () => false;\n    }\n    let targetStr = \"\";\n    switch (target) {\n      case LinkTarget.NONE:\n        break;\n      case LinkTarget.SELF:\n        targetStr = \"_self\";\n        break;\n      case LinkTarget.BLANK:\n        targetStr = \"_blank\";\n        break;\n      case LinkTarget.PARENT:\n        targetStr = \"_parent\";\n        break;\n      case LinkTarget.TOP:\n        targetStr = \"_top\";\n        break;\n    }\n    link.target = targetStr;\n    link.rel = typeof rel === \"string\" ? rel : DEFAULT_LINK_REL;\n  }\n  getDestinationHash(dest) {\n    if (typeof dest === \"string\") {\n      if (dest.length > 0) {\n        return this.getAnchorUrl(\"#\" + escape(dest));\n      }\n    } else if (Array.isArray(dest)) {\n      const str = JSON.stringify(dest);\n      if (str.length > 0) {\n        return this.getAnchorUrl(\"#\" + escape(str));\n      }\n    }\n    return this.getAnchorUrl(\"\");\n  }\n  getAnchorUrl(anchor) {\n    return this.baseUrl ? this.baseUrl + anchor : anchor;\n  }\n  setHash(hash) {\n    if (!this.pdfDocument) {\n      return;\n    }\n    let pageNumber, dest;\n    if (hash.includes(\"=\")) {\n      const params = parseQueryString(hash);\n      if (params.has(\"search\")) {\n        const query = params.get(\"search\").replaceAll('\"', \"\"),\n          phrase = params.get(\"phrase\") === \"true\";\n        this.eventBus.dispatch(\"findfromurlhash\", {\n          source: this,\n          query: phrase ? query : query.match(/\\S+/g)\n        });\n      }\n      if (params.has(\"page\")) {\n        pageNumber = params.get(\"page\") | 0 || 1;\n      }\n      if (params.has(\"zoom\")) {\n        const zoomArgs = params.get(\"zoom\").split(\",\");\n        const zoomArg = zoomArgs[0];\n        const zoomArgNumber = parseFloat(zoomArg);\n        if (!zoomArg.includes(\"Fit\")) {\n          dest = [null, {\n            name: \"XYZ\"\n          }, zoomArgs.length > 1 ? zoomArgs[1] | 0 : null, zoomArgs.length > 2 ? zoomArgs[2] | 0 : null, zoomArgNumber ? zoomArgNumber / 100 : zoomArg];\n        } else if (zoomArg === \"Fit\" || zoomArg === \"FitB\") {\n          dest = [null, {\n            name: zoomArg\n          }];\n        } else if (zoomArg === \"FitH\" || zoomArg === \"FitBH\" || zoomArg === \"FitV\" || zoomArg === \"FitBV\") {\n          dest = [null, {\n            name: zoomArg\n          }, zoomArgs.length > 1 ? zoomArgs[1] | 0 : null];\n        } else if (zoomArg === \"FitR\") {\n          if (zoomArgs.length !== 5) {\n            console.error('PDFLinkService.setHash: Not enough parameters for \"FitR\".');\n          } else {\n            dest = [null, {\n              name: zoomArg\n            }, zoomArgs[1] | 0, zoomArgs[2] | 0, zoomArgs[3] | 0, zoomArgs[4] | 0];\n          }\n        } else {\n          console.error(`PDFLinkService.setHash: \"${zoomArg}\" is not a valid zoom value.`);\n        }\n      }\n      if (dest) {\n        this.pdfViewer.scrollPageIntoView({\n          pageNumber: pageNumber || this.page,\n          destArray: dest,\n          allowNegativeOffset: true\n        });\n      } else if (pageNumber) {\n        this.page = pageNumber;\n      }\n      if (params.has(\"pagemode\")) {\n        this.eventBus.dispatch(\"pagemode\", {\n          source: this,\n          mode: params.get(\"pagemode\")\n        });\n      }\n      if (params.has(\"nameddest\")) {\n        this.goToDestination(params.get(\"nameddest\"));\n      }\n      return;\n    }\n    dest = unescape(hash);\n    try {\n      dest = JSON.parse(dest);\n      if (!Array.isArray(dest)) {\n        dest = dest.toString();\n      }\n    } catch {}\n    if (typeof dest === \"string\" || PDFLinkService.#isValidExplicitDest(dest)) {\n      this.goToDestination(dest);\n      return;\n    }\n    console.error(`PDFLinkService.setHash: \"${unescape(hash)}\" is not a valid destination.`);\n  }\n  executeNamedAction(action) {\n    if (!this.pdfDocument) {\n      return;\n    }\n    switch (action) {\n      case \"GoBack\":\n        this.pdfHistory?.back();\n        break;\n      case \"GoForward\":\n        this.pdfHistory?.forward();\n        break;\n      case \"NextPage\":\n        this.pdfViewer.nextPage();\n        break;\n      case \"PrevPage\":\n        this.pdfViewer.previousPage();\n        break;\n      case \"LastPage\":\n        this.page = this.pagesCount;\n        break;\n      case \"FirstPage\":\n        this.page = 1;\n        break;\n      default:\n        break;\n    }\n    this.eventBus.dispatch(\"namedaction\", {\n      source: this,\n      action\n    });\n  }\n  async executeSetOCGState(action) {\n    if (!this.pdfDocument) {\n      return;\n    }\n    const pdfDocument = this.pdfDocument,\n      optionalContentConfig = await this.pdfViewer.optionalContentConfigPromise;\n    if (pdfDocument !== this.pdfDocument) {\n      return;\n    }\n    optionalContentConfig.setOCGState(action);\n    this.pdfViewer.optionalContentConfigPromise = Promise.resolve(optionalContentConfig);\n  }\n  static #isValidExplicitDest(dest) {\n    if (!Array.isArray(dest) || dest.length < 2) {\n      return false;\n    }\n    const [page, zoom, ...args] = dest;\n    if (!(typeof page === \"object\" && Number.isInteger(page?.num) && Number.isInteger(page?.gen)) && !Number.isInteger(page)) {\n      return false;\n    }\n    if (!(typeof zoom === \"object\" && typeof zoom?.name === \"string\")) {\n      return false;\n    }\n    const argsLen = args.length;\n    let allowNull = true;\n    switch (zoom.name) {\n      case \"XYZ\":\n        if (argsLen < 2 || argsLen > 3) {\n          return false;\n        }\n        break;\n      case \"Fit\":\n      case \"FitB\":\n        return argsLen === 0;\n      case \"FitH\":\n      case \"FitBH\":\n      case \"FitV\":\n      case \"FitBV\":\n        if (argsLen > 1) {\n          return false;\n        }\n        break;\n      case \"FitR\":\n        if (argsLen !== 4) {\n          return false;\n        }\n        allowNull = false;\n        break;\n      default:\n        return false;\n    }\n    for (const arg of args) {\n      if (!(typeof arg === \"number\" || allowNull && arg === null)) {\n        return false;\n      }\n    }\n    return true;\n  }\n}\nclass SimpleLinkService extends PDFLinkService {\n  setDocument(pdfDocument, baseUrl = null) {}\n}\n\n;// CONCATENATED MODULE: ./web/pdfjs.js\nconst {\n  AbortException,\n  AnnotationEditorLayer,\n  AnnotationEditorParamsType,\n  AnnotationEditorType,\n  AnnotationEditorUIManager,\n  AnnotationLayer,\n  AnnotationMode,\n  build,\n  CMapCompressionType,\n  ColorPicker,\n  createValidAbsoluteUrl,\n  DOMSVGFactory,\n  DrawLayer,\n  FeatureTest,\n  fetchData,\n  getDocument,\n  getFilenameFromUrl,\n  getPdfFilenameFromUrl,\n  getXfaPageViewport,\n  GlobalWorkerOptions,\n  ImageKind,\n  InvalidPDFException,\n  isDataScheme,\n  isPdfFile,\n  MissingPDFException,\n  noContextMenu,\n  normalizeUnicode,\n  OPS,\n  PasswordResponses,\n  PDFDataRangeTransport,\n  PDFDateString,\n  PDFWorker,\n  PermissionFlag,\n  PixelsPerInch,\n  RenderingCancelledException,\n  setLayerDimensions,\n  shadow,\n  TextLayer,\n  UnexpectedResponseException,\n  Util,\n  VerbosityLevel,\n  version,\n  XfaLayer\n} = globalThis.pdfjsLib;\n\n;// CONCATENATED MODULE: ./web/annotation_layer_builder.js\n\n\nclass AnnotationLayerBuilder {\n  #onAppend = null;\n  #eventAbortController = null;\n  constructor({\n    pdfPage,\n    linkService,\n    downloadManager,\n    annotationStorage = null,\n    imageResourcesPath = \"\",\n    renderForms = true,\n    enableScripting = false,\n    hasJSActionsPromise = null,\n    fieldObjectsPromise = null,\n    annotationCanvasMap = null,\n    accessibilityManager = null,\n    annotationEditorUIManager = null,\n    onAppend = null\n  }) {\n    this.pdfPage = pdfPage;\n    this.linkService = linkService;\n    this.downloadManager = downloadManager;\n    this.imageResourcesPath = imageResourcesPath;\n    this.renderForms = renderForms;\n    this.annotationStorage = annotationStorage;\n    this.enableScripting = enableScripting;\n    this._hasJSActionsPromise = hasJSActionsPromise || Promise.resolve(false);\n    this._fieldObjectsPromise = fieldObjectsPromise || Promise.resolve(null);\n    this._annotationCanvasMap = annotationCanvasMap;\n    this._accessibilityManager = accessibilityManager;\n    this._annotationEditorUIManager = annotationEditorUIManager;\n    this.#onAppend = onAppend;\n    this.annotationLayer = null;\n    this.div = null;\n    this._cancelled = false;\n    this._eventBus = linkService.eventBus;\n  }\n  async render(viewport, intent = \"display\") {\n    if (this.div) {\n      if (this._cancelled || !this.annotationLayer) {\n        return;\n      }\n      this.annotationLayer.update({\n        viewport: viewport.clone({\n          dontFlip: true\n        })\n      });\n      return;\n    }\n    const [annotations, hasJSActions, fieldObjects] = await Promise.all([this.pdfPage.getAnnotations({\n      intent\n    }), this._hasJSActionsPromise, this._fieldObjectsPromise]);\n    if (this._cancelled) {\n      return;\n    }\n    const div = this.div = document.createElement(\"div\");\n    div.className = \"annotationLayer\";\n    this.#onAppend?.(div);\n    if (annotations.length === 0) {\n      this.hide();\n      return;\n    }\n    this.annotationLayer = new AnnotationLayer({\n      div,\n      accessibilityManager: this._accessibilityManager,\n      annotationCanvasMap: this._annotationCanvasMap,\n      annotationEditorUIManager: this._annotationEditorUIManager,\n      page: this.pdfPage,\n      viewport: viewport.clone({\n        dontFlip: true\n      })\n    });\n    await this.annotationLayer.render({\n      annotations,\n      imageResourcesPath: this.imageResourcesPath,\n      renderForms: this.renderForms,\n      linkService: this.linkService,\n      downloadManager: this.downloadManager,\n      annotationStorage: this.annotationStorage,\n      enableScripting: this.enableScripting,\n      hasJSActions,\n      fieldObjects\n    });\n    if (this.linkService.isInPresentationMode) {\n      this.#updatePresentationModeState(PresentationModeState.FULLSCREEN);\n    }\n    if (!this.#eventAbortController) {\n      this.#eventAbortController = new AbortController();\n      this._eventBus?._on(\"presentationmodechanged\", evt => {\n        this.#updatePresentationModeState(evt.state);\n      }, {\n        signal: this.#eventAbortController.signal\n      });\n    }\n  }\n  cancel() {\n    this._cancelled = true;\n    this.#eventAbortController?.abort();\n    this.#eventAbortController = null;\n  }\n  hide() {\n    if (!this.div) {\n      return;\n    }\n    this.div.hidden = true;\n  }\n  hasEditableAnnotations() {\n    return !!this.annotationLayer?.hasEditableAnnotations();\n  }\n  #updatePresentationModeState(state) {\n    if (!this.div) {\n      return;\n    }\n    let disableFormElements = false;\n    switch (state) {\n      case PresentationModeState.FULLSCREEN:\n        disableFormElements = true;\n        break;\n      case PresentationModeState.NORMAL:\n        break;\n      default:\n        return;\n    }\n    for (const section of this.div.childNodes) {\n      if (section.hasAttribute(\"data-internal-link\")) {\n        continue;\n      }\n      section.inert = disableFormElements;\n    }\n  }\n}\n\n;// CONCATENATED MODULE: ./web/download_manager.js\n\nfunction download(blobUrl, filename) {\n  const a = document.createElement(\"a\");\n  if (!a.click) {\n    throw new Error('DownloadManager: \"a.click()\" is not supported.');\n  }\n  a.href = blobUrl;\n  a.target = \"_parent\";\n  if (\"download\" in a) {\n    a.download = filename;\n  }\n  (document.body || document.documentElement).append(a);\n  a.click();\n  a.remove();\n}\nclass DownloadManager {\n  #openBlobUrls = new WeakMap();\n  downloadData(data, filename, contentType) {\n    const blobUrl = URL.createObjectURL(new Blob([data], {\n      type: contentType\n    }));\n    download(blobUrl, filename);\n  }\n  openOrDownloadData(data, filename, dest = null) {\n    const isPdfData = isPdfFile(filename);\n    const contentType = isPdfData ? \"application/pdf\" : \"\";\n    this.downloadData(data, filename, contentType);\n    return false;\n  }\n  download(data, url, filename) {\n    let blobUrl;\n    if (data) {\n      blobUrl = URL.createObjectURL(new Blob([data], {\n        type: \"application/pdf\"\n      }));\n    } else {\n      if (!createValidAbsoluteUrl(url, \"http://example.com\")) {\n        console.error(`download - not a valid URL: ${url}`);\n        return;\n      }\n      blobUrl = url + \"#pdfjs.action=download\";\n    }\n    download(blobUrl, filename);\n  }\n}\n\n;// CONCATENATED MODULE: ./web/event_utils.js\nconst WaitOnType = {\n  EVENT: \"event\",\n  TIMEOUT: \"timeout\"\n};\nasync function waitOnEventOrTimeout({\n  target,\n  name,\n  delay = 0\n}) {\n  if (typeof target !== \"object\" || !(name && typeof name === \"string\") || !(Number.isInteger(delay) && delay >= 0)) {\n    throw new Error(\"waitOnEventOrTimeout - invalid parameters.\");\n  }\n  const {\n    promise,\n    resolve\n  } = Promise.withResolvers();\n  const ac = new AbortController();\n  function handler(type) {\n    ac.abort();\n    clearTimeout(timeout);\n    resolve(type);\n  }\n  const evtMethod = target instanceof EventBus ? \"_on\" : \"addEventListener\";\n  target[evtMethod](name, handler.bind(null, WaitOnType.EVENT), {\n    signal: ac.signal\n  });\n  const timeout = setTimeout(handler.bind(null, WaitOnType.TIMEOUT), delay);\n  return promise;\n}\nclass EventBus {\n  #listeners = Object.create(null);\n  on(eventName, listener, options = null) {\n    this._on(eventName, listener, {\n      external: true,\n      once: options?.once,\n      signal: options?.signal\n    });\n  }\n  off(eventName, listener, options = null) {\n    this._off(eventName, listener);\n  }\n  dispatch(eventName, data) {\n    const eventListeners = this.#listeners[eventName];\n    if (!eventListeners || eventListeners.length === 0) {\n      return;\n    }\n    let externalListeners;\n    for (const {\n      listener,\n      external,\n      once\n    } of eventListeners.slice(0)) {\n      if (once) {\n        this._off(eventName, listener);\n      }\n      if (external) {\n        (externalListeners ||= []).push(listener);\n        continue;\n      }\n      listener(data);\n    }\n    if (externalListeners) {\n      for (const listener of externalListeners) {\n        listener(data);\n      }\n      externalListeners = null;\n    }\n  }\n  _on(eventName, listener, options = null) {\n    let rmAbort = null;\n    if (options?.signal instanceof AbortSignal) {\n      const {\n        signal\n      } = options;\n      if (signal.aborted) {\n        console.error(\"Cannot use an `aborted` signal.\");\n        return;\n      }\n      const onAbort = () => this._off(eventName, listener);\n      rmAbort = () => signal.removeEventListener(\"abort\", onAbort);\n      signal.addEventListener(\"abort\", onAbort);\n    }\n    const eventListeners = this.#listeners[eventName] ||= [];\n    eventListeners.push({\n      listener,\n      external: options?.external === true,\n      once: options?.once === true,\n      rmAbort\n    });\n  }\n  _off(eventName, listener, options = null) {\n    const eventListeners = this.#listeners[eventName];\n    if (!eventListeners) {\n      return;\n    }\n    for (let i = 0, ii = eventListeners.length; i < ii; i++) {\n      const evt = eventListeners[i];\n      if (evt.listener === listener) {\n        evt.rmAbort?.();\n        eventListeners.splice(i, 1);\n        return;\n      }\n    }\n  }\n}\nclass FirefoxEventBus extends EventBus {\n  #externalServices;\n  #globalEventNames;\n  #isInAutomation;\n  constructor(globalEventNames, externalServices, isInAutomation) {\n    super();\n    this.#globalEventNames = globalEventNames;\n    this.#externalServices = externalServices;\n    this.#isInAutomation = isInAutomation;\n  }\n  dispatch(eventName, data) {\n    throw new Error(\"Not implemented: FirefoxEventBus.dispatch\");\n  }\n}\n\n;// CONCATENATED MODULE: ./node_modules/@fluent/bundle/esm/types.js\nclass FluentType {\n  constructor(value) {\n    this.value = value;\n  }\n  valueOf() {\n    return this.value;\n  }\n}\nclass FluentNone extends FluentType {\n  constructor(value = \"???\") {\n    super(value);\n  }\n  toString(scope) {\n    return `{${this.value}}`;\n  }\n}\nclass FluentNumber extends FluentType {\n  constructor(value, opts = {}) {\n    super(value);\n    this.opts = opts;\n  }\n  toString(scope) {\n    try {\n      const nf = scope.memoizeIntlObject(Intl.NumberFormat, this.opts);\n      return nf.format(this.value);\n    } catch (err) {\n      scope.reportError(err);\n      return this.value.toString(10);\n    }\n  }\n}\nclass FluentDateTime extends FluentType {\n  constructor(value, opts = {}) {\n    super(value);\n    this.opts = opts;\n  }\n  toString(scope) {\n    try {\n      const dtf = scope.memoizeIntlObject(Intl.DateTimeFormat, this.opts);\n      return dtf.format(this.value);\n    } catch (err) {\n      scope.reportError(err);\n      return new Date(this.value).toISOString();\n    }\n  }\n}\n;// CONCATENATED MODULE: ./node_modules/@fluent/bundle/esm/resolver.js\n\nconst MAX_PLACEABLES = 100;\nconst FSI = \"\\u2068\";\nconst PDI = \"\\u2069\";\nfunction match(scope, selector, key) {\n  if (key === selector) {\n    return true;\n  }\n  if (key instanceof FluentNumber && selector instanceof FluentNumber && key.value === selector.value) {\n    return true;\n  }\n  if (selector instanceof FluentNumber && typeof key === \"string\") {\n    let category = scope.memoizeIntlObject(Intl.PluralRules, selector.opts).select(selector.value);\n    if (key === category) {\n      return true;\n    }\n  }\n  return false;\n}\nfunction getDefault(scope, variants, star) {\n  if (variants[star]) {\n    return resolvePattern(scope, variants[star].value);\n  }\n  scope.reportError(new RangeError(\"No default\"));\n  return new FluentNone();\n}\nfunction getArguments(scope, args) {\n  const positional = [];\n  const named = Object.create(null);\n  for (const arg of args) {\n    if (arg.type === \"narg\") {\n      named[arg.name] = resolveExpression(scope, arg.value);\n    } else {\n      positional.push(resolveExpression(scope, arg));\n    }\n  }\n  return {\n    positional,\n    named\n  };\n}\nfunction resolveExpression(scope, expr) {\n  switch (expr.type) {\n    case \"str\":\n      return expr.value;\n    case \"num\":\n      return new FluentNumber(expr.value, {\n        minimumFractionDigits: expr.precision\n      });\n    case \"var\":\n      return resolveVariableReference(scope, expr);\n    case \"mesg\":\n      return resolveMessageReference(scope, expr);\n    case \"term\":\n      return resolveTermReference(scope, expr);\n    case \"func\":\n      return resolveFunctionReference(scope, expr);\n    case \"select\":\n      return resolveSelectExpression(scope, expr);\n    default:\n      return new FluentNone();\n  }\n}\nfunction resolveVariableReference(scope, {\n  name\n}) {\n  let arg;\n  if (scope.params) {\n    if (Object.prototype.hasOwnProperty.call(scope.params, name)) {\n      arg = scope.params[name];\n    } else {\n      return new FluentNone(`$${name}`);\n    }\n  } else if (scope.args && Object.prototype.hasOwnProperty.call(scope.args, name)) {\n    arg = scope.args[name];\n  } else {\n    scope.reportError(new ReferenceError(`Unknown variable: $${name}`));\n    return new FluentNone(`$${name}`);\n  }\n  if (arg instanceof FluentType) {\n    return arg;\n  }\n  switch (typeof arg) {\n    case \"string\":\n      return arg;\n    case \"number\":\n      return new FluentNumber(arg);\n    case \"object\":\n      if (arg instanceof Date) {\n        return new FluentDateTime(arg.getTime());\n      }\n    default:\n      scope.reportError(new TypeError(`Variable type not supported: $${name}, ${typeof arg}`));\n      return new FluentNone(`$${name}`);\n  }\n}\nfunction resolveMessageReference(scope, {\n  name,\n  attr\n}) {\n  const message = scope.bundle._messages.get(name);\n  if (!message) {\n    scope.reportError(new ReferenceError(`Unknown message: ${name}`));\n    return new FluentNone(name);\n  }\n  if (attr) {\n    const attribute = message.attributes[attr];\n    if (attribute) {\n      return resolvePattern(scope, attribute);\n    }\n    scope.reportError(new ReferenceError(`Unknown attribute: ${attr}`));\n    return new FluentNone(`${name}.${attr}`);\n  }\n  if (message.value) {\n    return resolvePattern(scope, message.value);\n  }\n  scope.reportError(new ReferenceError(`No value: ${name}`));\n  return new FluentNone(name);\n}\nfunction resolveTermReference(scope, {\n  name,\n  attr,\n  args\n}) {\n  const id = `-${name}`;\n  const term = scope.bundle._terms.get(id);\n  if (!term) {\n    scope.reportError(new ReferenceError(`Unknown term: ${id}`));\n    return new FluentNone(id);\n  }\n  if (attr) {\n    const attribute = term.attributes[attr];\n    if (attribute) {\n      scope.params = getArguments(scope, args).named;\n      const resolved = resolvePattern(scope, attribute);\n      scope.params = null;\n      return resolved;\n    }\n    scope.reportError(new ReferenceError(`Unknown attribute: ${attr}`));\n    return new FluentNone(`${id}.${attr}`);\n  }\n  scope.params = getArguments(scope, args).named;\n  const resolved = resolvePattern(scope, term.value);\n  scope.params = null;\n  return resolved;\n}\nfunction resolveFunctionReference(scope, {\n  name,\n  args\n}) {\n  let func = scope.bundle._functions[name];\n  if (!func) {\n    scope.reportError(new ReferenceError(`Unknown function: ${name}()`));\n    return new FluentNone(`${name}()`);\n  }\n  if (typeof func !== \"function\") {\n    scope.reportError(new TypeError(`Function ${name}() is not callable`));\n    return new FluentNone(`${name}()`);\n  }\n  try {\n    let resolved = getArguments(scope, args);\n    return func(resolved.positional, resolved.named);\n  } catch (err) {\n    scope.reportError(err);\n    return new FluentNone(`${name}()`);\n  }\n}\nfunction resolveSelectExpression(scope, {\n  selector,\n  variants,\n  star\n}) {\n  let sel = resolveExpression(scope, selector);\n  if (sel instanceof FluentNone) {\n    return getDefault(scope, variants, star);\n  }\n  for (const variant of variants) {\n    const key = resolveExpression(scope, variant.key);\n    if (match(scope, sel, key)) {\n      return resolvePattern(scope, variant.value);\n    }\n  }\n  return getDefault(scope, variants, star);\n}\nfunction resolveComplexPattern(scope, ptn) {\n  if (scope.dirty.has(ptn)) {\n    scope.reportError(new RangeError(\"Cyclic reference\"));\n    return new FluentNone();\n  }\n  scope.dirty.add(ptn);\n  const result = [];\n  const useIsolating = scope.bundle._useIsolating && ptn.length > 1;\n  for (const elem of ptn) {\n    if (typeof elem === \"string\") {\n      result.push(scope.bundle._transform(elem));\n      continue;\n    }\n    scope.placeables++;\n    if (scope.placeables > MAX_PLACEABLES) {\n      scope.dirty.delete(ptn);\n      throw new RangeError(`Too many placeables expanded: ${scope.placeables}, ` + `max allowed is ${MAX_PLACEABLES}`);\n    }\n    if (useIsolating) {\n      result.push(FSI);\n    }\n    result.push(resolveExpression(scope, elem).toString(scope));\n    if (useIsolating) {\n      result.push(PDI);\n    }\n  }\n  scope.dirty.delete(ptn);\n  return result.join(\"\");\n}\nfunction resolvePattern(scope, value) {\n  if (typeof value === \"string\") {\n    return scope.bundle._transform(value);\n  }\n  return resolveComplexPattern(scope, value);\n}\n;// CONCATENATED MODULE: ./node_modules/@fluent/bundle/esm/scope.js\nclass Scope {\n  constructor(bundle, errors, args) {\n    this.dirty = new WeakSet();\n    this.params = null;\n    this.placeables = 0;\n    this.bundle = bundle;\n    this.errors = errors;\n    this.args = args;\n  }\n  reportError(error) {\n    if (!this.errors || !(error instanceof Error)) {\n      throw error;\n    }\n    this.errors.push(error);\n  }\n  memoizeIntlObject(ctor, opts) {\n    let cache = this.bundle._intls.get(ctor);\n    if (!cache) {\n      cache = {};\n      this.bundle._intls.set(ctor, cache);\n    }\n    let id = JSON.stringify(opts);\n    if (!cache[id]) {\n      cache[id] = new ctor(this.bundle.locales, opts);\n    }\n    return cache[id];\n  }\n}\n;// CONCATENATED MODULE: ./node_modules/@fluent/bundle/esm/builtins.js\n\nfunction values(opts, allowed) {\n  const unwrapped = Object.create(null);\n  for (const [name, opt] of Object.entries(opts)) {\n    if (allowed.includes(name)) {\n      unwrapped[name] = opt.valueOf();\n    }\n  }\n  return unwrapped;\n}\nconst NUMBER_ALLOWED = [\"unitDisplay\", \"currencyDisplay\", \"useGrouping\", \"minimumIntegerDigits\", \"minimumFractionDigits\", \"maximumFractionDigits\", \"minimumSignificantDigits\", \"maximumSignificantDigits\"];\nfunction NUMBER(args, opts) {\n  let arg = args[0];\n  if (arg instanceof FluentNone) {\n    return new FluentNone(`NUMBER(${arg.valueOf()})`);\n  }\n  if (arg instanceof FluentNumber) {\n    return new FluentNumber(arg.valueOf(), {\n      ...arg.opts,\n      ...values(opts, NUMBER_ALLOWED)\n    });\n  }\n  if (arg instanceof FluentDateTime) {\n    return new FluentNumber(arg.valueOf(), {\n      ...values(opts, NUMBER_ALLOWED)\n    });\n  }\n  throw new TypeError(\"Invalid argument to NUMBER\");\n}\nconst DATETIME_ALLOWED = [\"dateStyle\", \"timeStyle\", \"fractionalSecondDigits\", \"dayPeriod\", \"hour12\", \"weekday\", \"era\", \"year\", \"month\", \"day\", \"hour\", \"minute\", \"second\", \"timeZoneName\"];\nfunction DATETIME(args, opts) {\n  let arg = args[0];\n  if (arg instanceof FluentNone) {\n    return new FluentNone(`DATETIME(${arg.valueOf()})`);\n  }\n  if (arg instanceof FluentDateTime) {\n    return new FluentDateTime(arg.valueOf(), {\n      ...arg.opts,\n      ...values(opts, DATETIME_ALLOWED)\n    });\n  }\n  if (arg instanceof FluentNumber) {\n    return new FluentDateTime(arg.valueOf(), {\n      ...values(opts, DATETIME_ALLOWED)\n    });\n  }\n  throw new TypeError(\"Invalid argument to DATETIME\");\n}\n;// CONCATENATED MODULE: ./node_modules/@fluent/bundle/esm/memoizer.js\nconst cache = new Map();\nfunction getMemoizerForLocale(locales) {\n  const stringLocale = Array.isArray(locales) ? locales.join(\" \") : locales;\n  let memoizer = cache.get(stringLocale);\n  if (memoizer === undefined) {\n    memoizer = new Map();\n    cache.set(stringLocale, memoizer);\n  }\n  return memoizer;\n}\n;// CONCATENATED MODULE: ./node_modules/@fluent/bundle/esm/bundle.js\n\n\n\n\n\nclass FluentBundle {\n  constructor(locales, {\n    functions,\n    useIsolating = true,\n    transform = v => v\n  } = {}) {\n    this._terms = new Map();\n    this._messages = new Map();\n    this.locales = Array.isArray(locales) ? locales : [locales];\n    this._functions = {\n      NUMBER: NUMBER,\n      DATETIME: DATETIME,\n      ...functions\n    };\n    this._useIsolating = useIsolating;\n    this._transform = transform;\n    this._intls = getMemoizerForLocale(locales);\n  }\n  hasMessage(id) {\n    return this._messages.has(id);\n  }\n  getMessage(id) {\n    return this._messages.get(id);\n  }\n  addResource(res, {\n    allowOverrides = false\n  } = {}) {\n    const errors = [];\n    for (let i = 0; i < res.body.length; i++) {\n      let entry = res.body[i];\n      if (entry.id.startsWith(\"-\")) {\n        if (allowOverrides === false && this._terms.has(entry.id)) {\n          errors.push(new Error(`Attempt to override an existing term: \"${entry.id}\"`));\n          continue;\n        }\n        this._terms.set(entry.id, entry);\n      } else {\n        if (allowOverrides === false && this._messages.has(entry.id)) {\n          errors.push(new Error(`Attempt to override an existing message: \"${entry.id}\"`));\n          continue;\n        }\n        this._messages.set(entry.id, entry);\n      }\n    }\n    return errors;\n  }\n  formatPattern(pattern, args = null, errors = null) {\n    if (typeof pattern === \"string\") {\n      return this._transform(pattern);\n    }\n    let scope = new Scope(this, errors, args);\n    try {\n      let value = resolveComplexPattern(scope, pattern);\n      return value.toString(scope);\n    } catch (err) {\n      if (scope.errors && err instanceof Error) {\n        scope.errors.push(err);\n        return new FluentNone().toString(scope);\n      }\n      throw err;\n    }\n  }\n}\n;// CONCATENATED MODULE: ./node_modules/@fluent/bundle/esm/resource.js\nconst RE_MESSAGE_START = /^(-?[a-zA-Z][\\w-]*) *= */gm;\nconst RE_ATTRIBUTE_START = /\\.([a-zA-Z][\\w-]*) *= */y;\nconst RE_VARIANT_START = /\\*?\\[/y;\nconst RE_NUMBER_LITERAL = /(-?[0-9]+(?:\\.([0-9]+))?)/y;\nconst RE_IDENTIFIER = /([a-zA-Z][\\w-]*)/y;\nconst RE_REFERENCE = /([$-])?([a-zA-Z][\\w-]*)(?:\\.([a-zA-Z][\\w-]*))?/y;\nconst RE_FUNCTION_NAME = /^[A-Z][A-Z0-9_-]*$/;\nconst RE_TEXT_RUN = /([^{}\\n\\r]+)/y;\nconst RE_STRING_RUN = /([^\\\\\"\\n\\r]*)/y;\nconst RE_STRING_ESCAPE = /\\\\([\\\\\"])/y;\nconst RE_UNICODE_ESCAPE = /\\\\u([a-fA-F0-9]{4})|\\\\U([a-fA-F0-9]{6})/y;\nconst RE_LEADING_NEWLINES = /^\\n+/;\nconst RE_TRAILING_SPACES = / +$/;\nconst RE_BLANK_LINES = / *\\r?\\n/g;\nconst RE_INDENT = /( *)$/;\nconst TOKEN_BRACE_OPEN = /{\\s*/y;\nconst TOKEN_BRACE_CLOSE = /\\s*}/y;\nconst TOKEN_BRACKET_OPEN = /\\[\\s*/y;\nconst TOKEN_BRACKET_CLOSE = /\\s*] */y;\nconst TOKEN_PAREN_OPEN = /\\s*\\(\\s*/y;\nconst TOKEN_ARROW = /\\s*->\\s*/y;\nconst TOKEN_COLON = /\\s*:\\s*/y;\nconst TOKEN_COMMA = /\\s*,?\\s*/y;\nconst TOKEN_BLANK = /\\s+/y;\nclass FluentResource {\n  constructor(source) {\n    this.body = [];\n    RE_MESSAGE_START.lastIndex = 0;\n    let cursor = 0;\n    while (true) {\n      let next = RE_MESSAGE_START.exec(source);\n      if (next === null) {\n        break;\n      }\n      cursor = RE_MESSAGE_START.lastIndex;\n      try {\n        this.body.push(parseMessage(next[1]));\n      } catch (err) {\n        if (err instanceof SyntaxError) {\n          continue;\n        }\n        throw err;\n      }\n    }\n    function test(re) {\n      re.lastIndex = cursor;\n      return re.test(source);\n    }\n    function consumeChar(char, errorClass) {\n      if (source[cursor] === char) {\n        cursor++;\n        return true;\n      }\n      if (errorClass) {\n        throw new errorClass(`Expected ${char}`);\n      }\n      return false;\n    }\n    function consumeToken(re, errorClass) {\n      if (test(re)) {\n        cursor = re.lastIndex;\n        return true;\n      }\n      if (errorClass) {\n        throw new errorClass(`Expected ${re.toString()}`);\n      }\n      return false;\n    }\n    function match(re) {\n      re.lastIndex = cursor;\n      let result = re.exec(source);\n      if (result === null) {\n        throw new SyntaxError(`Expected ${re.toString()}`);\n      }\n      cursor = re.lastIndex;\n      return result;\n    }\n    function match1(re) {\n      return match(re)[1];\n    }\n    function parseMessage(id) {\n      let value = parsePattern();\n      let attributes = parseAttributes();\n      if (value === null && Object.keys(attributes).length === 0) {\n        throw new SyntaxError(\"Expected message value or attributes\");\n      }\n      return {\n        id,\n        value,\n        attributes\n      };\n    }\n    function parseAttributes() {\n      let attrs = Object.create(null);\n      while (test(RE_ATTRIBUTE_START)) {\n        let name = match1(RE_ATTRIBUTE_START);\n        let value = parsePattern();\n        if (value === null) {\n          throw new SyntaxError(\"Expected attribute value\");\n        }\n        attrs[name] = value;\n      }\n      return attrs;\n    }\n    function parsePattern() {\n      let first;\n      if (test(RE_TEXT_RUN)) {\n        first = match1(RE_TEXT_RUN);\n      }\n      if (source[cursor] === \"{\" || source[cursor] === \"}\") {\n        return parsePatternElements(first ? [first] : [], Infinity);\n      }\n      let indent = parseIndent();\n      if (indent) {\n        if (first) {\n          return parsePatternElements([first, indent], indent.length);\n        }\n        indent.value = trim(indent.value, RE_LEADING_NEWLINES);\n        return parsePatternElements([indent], indent.length);\n      }\n      if (first) {\n        return trim(first, RE_TRAILING_SPACES);\n      }\n      return null;\n    }\n    function parsePatternElements(elements = [], commonIndent) {\n      while (true) {\n        if (test(RE_TEXT_RUN)) {\n          elements.push(match1(RE_TEXT_RUN));\n          continue;\n        }\n        if (source[cursor] === \"{\") {\n          elements.push(parsePlaceable());\n          continue;\n        }\n        if (source[cursor] === \"}\") {\n          throw new SyntaxError(\"Unbalanced closing brace\");\n        }\n        let indent = parseIndent();\n        if (indent) {\n          elements.push(indent);\n          commonIndent = Math.min(commonIndent, indent.length);\n          continue;\n        }\n        break;\n      }\n      let lastIndex = elements.length - 1;\n      let lastElement = elements[lastIndex];\n      if (typeof lastElement === \"string\") {\n        elements[lastIndex] = trim(lastElement, RE_TRAILING_SPACES);\n      }\n      let baked = [];\n      for (let element of elements) {\n        if (element instanceof Indent) {\n          element = element.value.slice(0, element.value.length - commonIndent);\n        }\n        if (element) {\n          baked.push(element);\n        }\n      }\n      return baked;\n    }\n    function parsePlaceable() {\n      consumeToken(TOKEN_BRACE_OPEN, SyntaxError);\n      let selector = parseInlineExpression();\n      if (consumeToken(TOKEN_BRACE_CLOSE)) {\n        return selector;\n      }\n      if (consumeToken(TOKEN_ARROW)) {\n        let variants = parseVariants();\n        consumeToken(TOKEN_BRACE_CLOSE, SyntaxError);\n        return {\n          type: \"select\",\n          selector,\n          ...variants\n        };\n      }\n      throw new SyntaxError(\"Unclosed placeable\");\n    }\n    function parseInlineExpression() {\n      if (source[cursor] === \"{\") {\n        return parsePlaceable();\n      }\n      if (test(RE_REFERENCE)) {\n        let [, sigil, name, attr = null] = match(RE_REFERENCE);\n        if (sigil === \"$\") {\n          return {\n            type: \"var\",\n            name\n          };\n        }\n        if (consumeToken(TOKEN_PAREN_OPEN)) {\n          let args = parseArguments();\n          if (sigil === \"-\") {\n            return {\n              type: \"term\",\n              name,\n              attr,\n              args\n            };\n          }\n          if (RE_FUNCTION_NAME.test(name)) {\n            return {\n              type: \"func\",\n              name,\n              args\n            };\n          }\n          throw new SyntaxError(\"Function names must be all upper-case\");\n        }\n        if (sigil === \"-\") {\n          return {\n            type: \"term\",\n            name,\n            attr,\n            args: []\n          };\n        }\n        return {\n          type: \"mesg\",\n          name,\n          attr\n        };\n      }\n      return parseLiteral();\n    }\n    function parseArguments() {\n      let args = [];\n      while (true) {\n        switch (source[cursor]) {\n          case \")\":\n            cursor++;\n            return args;\n          case undefined:\n            throw new SyntaxError(\"Unclosed argument list\");\n        }\n        args.push(parseArgument());\n        consumeToken(TOKEN_COMMA);\n      }\n    }\n    function parseArgument() {\n      let expr = parseInlineExpression();\n      if (expr.type !== \"mesg\") {\n        return expr;\n      }\n      if (consumeToken(TOKEN_COLON)) {\n        return {\n          type: \"narg\",\n          name: expr.name,\n          value: parseLiteral()\n        };\n      }\n      return expr;\n    }\n    function parseVariants() {\n      let variants = [];\n      let count = 0;\n      let star;\n      while (test(RE_VARIANT_START)) {\n        if (consumeChar(\"*\")) {\n          star = count;\n        }\n        let key = parseVariantKey();\n        let value = parsePattern();\n        if (value === null) {\n          throw new SyntaxError(\"Expected variant value\");\n        }\n        variants[count++] = {\n          key,\n          value\n        };\n      }\n      if (count === 0) {\n        return null;\n      }\n      if (star === undefined) {\n        throw new SyntaxError(\"Expected default variant\");\n      }\n      return {\n        variants,\n        star\n      };\n    }\n    function parseVariantKey() {\n      consumeToken(TOKEN_BRACKET_OPEN, SyntaxError);\n      let key;\n      if (test(RE_NUMBER_LITERAL)) {\n        key = parseNumberLiteral();\n      } else {\n        key = {\n          type: \"str\",\n          value: match1(RE_IDENTIFIER)\n        };\n      }\n      consumeToken(TOKEN_BRACKET_CLOSE, SyntaxError);\n      return key;\n    }\n    function parseLiteral() {\n      if (test(RE_NUMBER_LITERAL)) {\n        return parseNumberLiteral();\n      }\n      if (source[cursor] === '\"') {\n        return parseStringLiteral();\n      }\n      throw new SyntaxError(\"Invalid expression\");\n    }\n    function parseNumberLiteral() {\n      let [, value, fraction = \"\"] = match(RE_NUMBER_LITERAL);\n      let precision = fraction.length;\n      return {\n        type: \"num\",\n        value: parseFloat(value),\n        precision\n      };\n    }\n    function parseStringLiteral() {\n      consumeChar('\"', SyntaxError);\n      let value = \"\";\n      while (true) {\n        value += match1(RE_STRING_RUN);\n        if (source[cursor] === \"\\\\\") {\n          value += parseEscapeSequence();\n          continue;\n        }\n        if (consumeChar('\"')) {\n          return {\n            type: \"str\",\n            value\n          };\n        }\n        throw new SyntaxError(\"Unclosed string literal\");\n      }\n    }\n    function parseEscapeSequence() {\n      if (test(RE_STRING_ESCAPE)) {\n        return match1(RE_STRING_ESCAPE);\n      }\n      if (test(RE_UNICODE_ESCAPE)) {\n        let [, codepoint4, codepoint6] = match(RE_UNICODE_ESCAPE);\n        let codepoint = parseInt(codepoint4 || codepoint6, 16);\n        return codepoint <= 0xd7ff || 0xe000 <= codepoint ? String.fromCodePoint(codepoint) : \"�\";\n      }\n      throw new SyntaxError(\"Unknown escape sequence\");\n    }\n    function parseIndent() {\n      let start = cursor;\n      consumeToken(TOKEN_BLANK);\n      switch (source[cursor]) {\n        case \".\":\n        case \"[\":\n        case \"*\":\n        case \"}\":\n        case undefined:\n          return false;\n        case \"{\":\n          return makeIndent(source.slice(start, cursor));\n      }\n      if (source[cursor - 1] === \" \") {\n        return makeIndent(source.slice(start, cursor));\n      }\n      return false;\n    }\n    function trim(text, re) {\n      return text.replace(re, \"\");\n    }\n    function makeIndent(blank) {\n      let value = blank.replace(RE_BLANK_LINES, \"\\n\");\n      let length = RE_INDENT.exec(blank)[1].length;\n      return new Indent(value, length);\n    }\n  }\n}\nclass Indent {\n  constructor(value, length) {\n    this.value = value;\n    this.length = length;\n  }\n}\n;// CONCATENATED MODULE: ./node_modules/@fluent/bundle/esm/index.js\n\n\n\n;// CONCATENATED MODULE: ./node_modules/@fluent/dom/esm/overlay.js\nconst reOverlay = /<|&#?\\w+;/;\nconst TEXT_LEVEL_ELEMENTS = {\n  \"http://www.w3.org/1999/xhtml\": [\"em\", \"strong\", \"small\", \"s\", \"cite\", \"q\", \"dfn\", \"abbr\", \"data\", \"time\", \"code\", \"var\", \"samp\", \"kbd\", \"sub\", \"sup\", \"i\", \"b\", \"u\", \"mark\", \"bdi\", \"bdo\", \"span\", \"br\", \"wbr\"]\n};\nconst LOCALIZABLE_ATTRIBUTES = {\n  \"http://www.w3.org/1999/xhtml\": {\n    global: [\"title\", \"aria-label\", \"aria-valuetext\"],\n    a: [\"download\"],\n    area: [\"download\", \"alt\"],\n    input: [\"alt\", \"placeholder\"],\n    menuitem: [\"label\"],\n    menu: [\"label\"],\n    optgroup: [\"label\"],\n    option: [\"label\"],\n    track: [\"label\"],\n    img: [\"alt\"],\n    textarea: [\"placeholder\"],\n    th: [\"abbr\"]\n  },\n  \"http://www.mozilla.org/keymaster/gatekeeper/there.is.only.xul\": {\n    global: [\"accesskey\", \"aria-label\", \"aria-valuetext\", \"label\", \"title\", \"tooltiptext\"],\n    description: [\"value\"],\n    key: [\"key\", \"keycode\"],\n    label: [\"value\"],\n    textbox: [\"placeholder\", \"value\"]\n  }\n};\nfunction translateElement(element, translation) {\n  const {\n    value\n  } = translation;\n  if (typeof value === \"string\") {\n    if (element.localName === \"title\" && element.namespaceURI === \"http://www.w3.org/1999/xhtml\") {\n      element.textContent = value;\n    } else if (!reOverlay.test(value)) {\n      element.textContent = value;\n    } else {\n      const templateElement = element.ownerDocument.createElementNS(\"http://www.w3.org/1999/xhtml\", \"template\");\n      templateElement.innerHTML = value;\n      overlayChildNodes(templateElement.content, element);\n    }\n  }\n  overlayAttributes(translation, element);\n}\nfunction overlayChildNodes(fromFragment, toElement) {\n  for (const childNode of fromFragment.childNodes) {\n    if (childNode.nodeType === childNode.TEXT_NODE) {\n      continue;\n    }\n    if (childNode.hasAttribute(\"data-l10n-name\")) {\n      const sanitized = getNodeForNamedElement(toElement, childNode);\n      fromFragment.replaceChild(sanitized, childNode);\n      continue;\n    }\n    if (isElementAllowed(childNode)) {\n      const sanitized = createSanitizedElement(childNode);\n      fromFragment.replaceChild(sanitized, childNode);\n      continue;\n    }\n    console.warn(`An element of forbidden type \"${childNode.localName}\" was found in ` + \"the translation. Only safe text-level elements and elements with \" + \"data-l10n-name are allowed.\");\n    fromFragment.replaceChild(createTextNodeFromTextContent(childNode), childNode);\n  }\n  toElement.textContent = \"\";\n  toElement.appendChild(fromFragment);\n}\nfunction hasAttribute(attributes, name) {\n  if (!attributes) {\n    return false;\n  }\n  for (let attr of attributes) {\n    if (attr.name === name) {\n      return true;\n    }\n  }\n  return false;\n}\nfunction overlayAttributes(fromElement, toElement) {\n  const explicitlyAllowed = toElement.hasAttribute(\"data-l10n-attrs\") ? toElement.getAttribute(\"data-l10n-attrs\").split(\",\").map(i => i.trim()) : null;\n  for (const attr of Array.from(toElement.attributes)) {\n    if (isAttrNameLocalizable(attr.name, toElement, explicitlyAllowed) && !hasAttribute(fromElement.attributes, attr.name)) {\n      toElement.removeAttribute(attr.name);\n    }\n  }\n  if (!fromElement.attributes) {\n    return;\n  }\n  for (const attr of Array.from(fromElement.attributes)) {\n    if (isAttrNameLocalizable(attr.name, toElement, explicitlyAllowed) && toElement.getAttribute(attr.name) !== attr.value) {\n      toElement.setAttribute(attr.name, attr.value);\n    }\n  }\n}\nfunction getNodeForNamedElement(sourceElement, translatedChild) {\n  const childName = translatedChild.getAttribute(\"data-l10n-name\");\n  const sourceChild = sourceElement.querySelector(`[data-l10n-name=\"${childName}\"]`);\n  if (!sourceChild) {\n    console.warn(`An element named \"${childName}\" wasn't found in the source.`);\n    return createTextNodeFromTextContent(translatedChild);\n  }\n  if (sourceChild.localName !== translatedChild.localName) {\n    console.warn(`An element named \"${childName}\" was found in the translation ` + `but its type ${translatedChild.localName} didn't match the ` + `element found in the source (${sourceChild.localName}).`);\n    return createTextNodeFromTextContent(translatedChild);\n  }\n  sourceElement.removeChild(sourceChild);\n  const clone = sourceChild.cloneNode(false);\n  return shallowPopulateUsing(translatedChild, clone);\n}\nfunction createSanitizedElement(element) {\n  const clone = element.ownerDocument.createElement(element.localName);\n  return shallowPopulateUsing(element, clone);\n}\nfunction createTextNodeFromTextContent(element) {\n  return element.ownerDocument.createTextNode(element.textContent);\n}\nfunction isElementAllowed(element) {\n  const allowed = TEXT_LEVEL_ELEMENTS[element.namespaceURI];\n  return allowed && allowed.includes(element.localName);\n}\nfunction isAttrNameLocalizable(name, element, explicitlyAllowed = null) {\n  if (explicitlyAllowed && explicitlyAllowed.includes(name)) {\n    return true;\n  }\n  const allowed = LOCALIZABLE_ATTRIBUTES[element.namespaceURI];\n  if (!allowed) {\n    return false;\n  }\n  const attrName = name.toLowerCase();\n  const elemName = element.localName;\n  if (allowed.global.includes(attrName)) {\n    return true;\n  }\n  if (!allowed[elemName]) {\n    return false;\n  }\n  if (allowed[elemName].includes(attrName)) {\n    return true;\n  }\n  if (element.namespaceURI === \"http://www.w3.org/1999/xhtml\" && elemName === \"input\" && attrName === \"value\") {\n    const type = element.type.toLowerCase();\n    if (type === \"submit\" || type === \"button\" || type === \"reset\") {\n      return true;\n    }\n  }\n  return false;\n}\nfunction shallowPopulateUsing(fromElement, toElement) {\n  toElement.textContent = fromElement.textContent;\n  overlayAttributes(fromElement, toElement);\n  return toElement;\n}\n;// CONCATENATED MODULE: ./node_modules/cached-iterable/src/cached_iterable.mjs\nclass CachedIterable extends Array {\n  static from(iterable) {\n    if (iterable instanceof this) {\n      return iterable;\n    }\n    return new this(iterable);\n  }\n}\n;// CONCATENATED MODULE: ./node_modules/cached-iterable/src/cached_sync_iterable.mjs\n\nclass CachedSyncIterable extends CachedIterable {\n  constructor(iterable) {\n    super();\n    if (Symbol.iterator in Object(iterable)) {\n      this.iterator = iterable[Symbol.iterator]();\n    } else {\n      throw new TypeError(\"Argument must implement the iteration protocol.\");\n    }\n  }\n  [Symbol.iterator]() {\n    const cached = this;\n    let cur = 0;\n    return {\n      next() {\n        if (cached.length <= cur) {\n          cached.push(cached.iterator.next());\n        }\n        return cached[cur++];\n      }\n    };\n  }\n  touchNext(count = 1) {\n    let idx = 0;\n    while (idx++ < count) {\n      const last = this[this.length - 1];\n      if (last && last.done) {\n        break;\n      }\n      this.push(this.iterator.next());\n    }\n    return this[this.length - 1];\n  }\n}\n;// CONCATENATED MODULE: ./node_modules/cached-iterable/src/cached_async_iterable.mjs\n\nclass CachedAsyncIterable extends CachedIterable {\n  constructor(iterable) {\n    super();\n    if (Symbol.asyncIterator in Object(iterable)) {\n      this.iterator = iterable[Symbol.asyncIterator]();\n    } else if (Symbol.iterator in Object(iterable)) {\n      this.iterator = iterable[Symbol.iterator]();\n    } else {\n      throw new TypeError(\"Argument must implement the iteration protocol.\");\n    }\n  }\n  [Symbol.asyncIterator]() {\n    const cached = this;\n    let cur = 0;\n    return {\n      async next() {\n        if (cached.length <= cur) {\n          cached.push(cached.iterator.next());\n        }\n        return cached[cur++];\n      }\n    };\n  }\n  async touchNext(count = 1) {\n    let idx = 0;\n    while (idx++ < count) {\n      const last = this[this.length - 1];\n      if (last && (await last).done) {\n        break;\n      }\n      this.push(this.iterator.next());\n    }\n    return this[this.length - 1];\n  }\n}\n;// CONCATENATED MODULE: ./node_modules/cached-iterable/src/index.mjs\n\n\n;// CONCATENATED MODULE: ./node_modules/@fluent/dom/esm/localization.js\n\nclass Localization {\n  constructor(resourceIds = [], generateBundles) {\n    this.resourceIds = resourceIds;\n    this.generateBundles = generateBundles;\n    this.onChange(true);\n  }\n  addResourceIds(resourceIds, eager = false) {\n    this.resourceIds.push(...resourceIds);\n    this.onChange(eager);\n    return this.resourceIds.length;\n  }\n  removeResourceIds(resourceIds) {\n    this.resourceIds = this.resourceIds.filter(r => !resourceIds.includes(r));\n    this.onChange();\n    return this.resourceIds.length;\n  }\n  async formatWithFallback(keys, method) {\n    const translations = [];\n    let hasAtLeastOneBundle = false;\n    for await (const bundle of this.bundles) {\n      hasAtLeastOneBundle = true;\n      const missingIds = keysFromBundle(method, bundle, keys, translations);\n      if (missingIds.size === 0) {\n        break;\n      }\n      if (typeof console !== \"undefined\") {\n        const locale = bundle.locales[0];\n        const ids = Array.from(missingIds).join(\", \");\n        console.warn(`[fluent] Missing translations in ${locale}: ${ids}`);\n      }\n    }\n    if (!hasAtLeastOneBundle && typeof console !== \"undefined\") {\n      console.warn(`[fluent] Request for keys failed because no resource bundles got generated.\n  keys: ${JSON.stringify(keys)}.\n  resourceIds: ${JSON.stringify(this.resourceIds)}.`);\n    }\n    return translations;\n  }\n  formatMessages(keys) {\n    return this.formatWithFallback(keys, messageFromBundle);\n  }\n  formatValues(keys) {\n    return this.formatWithFallback(keys, valueFromBundle);\n  }\n  async formatValue(id, args) {\n    const [val] = await this.formatValues([{\n      id,\n      args\n    }]);\n    return val;\n  }\n  handleEvent() {\n    this.onChange();\n  }\n  onChange(eager = false) {\n    this.bundles = CachedAsyncIterable.from(this.generateBundles(this.resourceIds));\n    if (eager) {\n      this.bundles.touchNext(2);\n    }\n  }\n}\nfunction valueFromBundle(bundle, errors, message, args) {\n  if (message.value) {\n    return bundle.formatPattern(message.value, args, errors);\n  }\n  return null;\n}\nfunction messageFromBundle(bundle, errors, message, args) {\n  const formatted = {\n    value: null,\n    attributes: null\n  };\n  if (message.value) {\n    formatted.value = bundle.formatPattern(message.value, args, errors);\n  }\n  let attrNames = Object.keys(message.attributes);\n  if (attrNames.length > 0) {\n    formatted.attributes = new Array(attrNames.length);\n    for (let [i, name] of attrNames.entries()) {\n      let value = bundle.formatPattern(message.attributes[name], args, errors);\n      formatted.attributes[i] = {\n        name,\n        value\n      };\n    }\n  }\n  return formatted;\n}\nfunction keysFromBundle(method, bundle, keys, translations) {\n  const messageErrors = [];\n  const missingIds = new Set();\n  keys.forEach(({\n    id,\n    args\n  }, i) => {\n    if (translations[i] !== undefined) {\n      return;\n    }\n    let message = bundle.getMessage(id);\n    if (message) {\n      messageErrors.length = 0;\n      translations[i] = method(bundle, messageErrors, message, args);\n      if (messageErrors.length > 0 && typeof console !== \"undefined\") {\n        const locale = bundle.locales[0];\n        const errors = messageErrors.join(\", \");\n        console.warn(`[fluent][resolver] errors in ${locale}/${id}: ${errors}.`);\n      }\n    } else {\n      missingIds.add(id);\n    }\n  });\n  return missingIds;\n}\n;// CONCATENATED MODULE: ./node_modules/@fluent/dom/esm/dom_localization.js\n\n\nconst L10NID_ATTR_NAME = \"data-l10n-id\";\nconst L10NARGS_ATTR_NAME = \"data-l10n-args\";\nconst L10N_ELEMENT_QUERY = `[${L10NID_ATTR_NAME}]`;\nclass DOMLocalization extends Localization {\n  constructor(resourceIds, generateBundles) {\n    super(resourceIds, generateBundles);\n    this.roots = new Set();\n    this.pendingrAF = null;\n    this.pendingElements = new Set();\n    this.windowElement = null;\n    this.mutationObserver = null;\n    this.observerConfig = {\n      attributes: true,\n      characterData: false,\n      childList: true,\n      subtree: true,\n      attributeFilter: [L10NID_ATTR_NAME, L10NARGS_ATTR_NAME]\n    };\n  }\n  onChange(eager = false) {\n    super.onChange(eager);\n    if (this.roots) {\n      this.translateRoots();\n    }\n  }\n  setAttributes(element, id, args) {\n    element.setAttribute(L10NID_ATTR_NAME, id);\n    if (args) {\n      element.setAttribute(L10NARGS_ATTR_NAME, JSON.stringify(args));\n    } else {\n      element.removeAttribute(L10NARGS_ATTR_NAME);\n    }\n    return element;\n  }\n  getAttributes(element) {\n    return {\n      id: element.getAttribute(L10NID_ATTR_NAME),\n      args: JSON.parse(element.getAttribute(L10NARGS_ATTR_NAME) || null)\n    };\n  }\n  connectRoot(newRoot) {\n    for (const root of this.roots) {\n      if (root === newRoot || root.contains(newRoot) || newRoot.contains(root)) {\n        throw new Error(\"Cannot add a root that overlaps with existing root.\");\n      }\n    }\n    if (this.windowElement) {\n      if (this.windowElement !== newRoot.ownerDocument.defaultView) {\n        throw new Error(`Cannot connect a root:\n          DOMLocalization already has a root from a different window.`);\n      }\n    } else {\n      this.windowElement = newRoot.ownerDocument.defaultView;\n      this.mutationObserver = new this.windowElement.MutationObserver(mutations => this.translateMutations(mutations));\n    }\n    this.roots.add(newRoot);\n    this.mutationObserver.observe(newRoot, this.observerConfig);\n  }\n  disconnectRoot(root) {\n    this.roots.delete(root);\n    this.pauseObserving();\n    if (this.roots.size === 0) {\n      this.mutationObserver = null;\n      if (this.windowElement && this.pendingrAF) {\n        this.windowElement.cancelAnimationFrame(this.pendingrAF);\n      }\n      this.windowElement = null;\n      this.pendingrAF = null;\n      this.pendingElements.clear();\n      return true;\n    }\n    this.resumeObserving();\n    return false;\n  }\n  translateRoots() {\n    const roots = Array.from(this.roots);\n    return Promise.all(roots.map(root => this.translateFragment(root)));\n  }\n  pauseObserving() {\n    if (!this.mutationObserver) {\n      return;\n    }\n    this.translateMutations(this.mutationObserver.takeRecords());\n    this.mutationObserver.disconnect();\n  }\n  resumeObserving() {\n    if (!this.mutationObserver) {\n      return;\n    }\n    for (const root of this.roots) {\n      this.mutationObserver.observe(root, this.observerConfig);\n    }\n  }\n  translateMutations(mutations) {\n    for (const mutation of mutations) {\n      switch (mutation.type) {\n        case \"attributes\":\n          if (mutation.target.hasAttribute(\"data-l10n-id\")) {\n            this.pendingElements.add(mutation.target);\n          }\n          break;\n        case \"childList\":\n          for (const addedNode of mutation.addedNodes) {\n            if (addedNode.nodeType === addedNode.ELEMENT_NODE) {\n              if (addedNode.childElementCount) {\n                for (const element of this.getTranslatables(addedNode)) {\n                  this.pendingElements.add(element);\n                }\n              } else if (addedNode.hasAttribute(L10NID_ATTR_NAME)) {\n                this.pendingElements.add(addedNode);\n              }\n            }\n          }\n          break;\n      }\n    }\n    if (this.pendingElements.size > 0) {\n      if (this.pendingrAF === null) {\n        this.pendingrAF = this.windowElement.requestAnimationFrame(() => {\n          this.translateElements(Array.from(this.pendingElements));\n          this.pendingElements.clear();\n          this.pendingrAF = null;\n        });\n      }\n    }\n  }\n  translateFragment(frag) {\n    return this.translateElements(this.getTranslatables(frag));\n  }\n  async translateElements(elements) {\n    if (!elements.length) {\n      return undefined;\n    }\n    const keys = elements.map(this.getKeysForElement);\n    const translations = await this.formatMessages(keys);\n    return this.applyTranslations(elements, translations);\n  }\n  applyTranslations(elements, translations) {\n    this.pauseObserving();\n    for (let i = 0; i < elements.length; i++) {\n      if (translations[i] !== undefined) {\n        translateElement(elements[i], translations[i]);\n      }\n    }\n    this.resumeObserving();\n  }\n  getTranslatables(element) {\n    const nodes = Array.from(element.querySelectorAll(L10N_ELEMENT_QUERY));\n    if (typeof element.hasAttribute === \"function\" && element.hasAttribute(L10NID_ATTR_NAME)) {\n      nodes.push(element);\n    }\n    return nodes;\n  }\n  getKeysForElement(element) {\n    return {\n      id: element.getAttribute(L10NID_ATTR_NAME),\n      args: JSON.parse(element.getAttribute(L10NARGS_ATTR_NAME) || null)\n    };\n  }\n}\n;// CONCATENATED MODULE: ./node_modules/@fluent/dom/esm/index.js\n\n\n;// CONCATENATED MODULE: ./web/l10n.js\nclass L10n {\n  #dir;\n  #elements = new Set();\n  #lang;\n  #l10n;\n  constructor({\n    lang,\n    isRTL\n  }, l10n = null) {\n    this.#lang = L10n.#fixupLangCode(lang);\n    this.#l10n = l10n;\n    this.#dir = isRTL ?? L10n.#isRTL(this.#lang) ? \"rtl\" : \"ltr\";\n  }\n  _setL10n(l10n) {\n    this.#l10n = l10n;\n  }\n  getLanguage() {\n    return this.#lang;\n  }\n  getDirection() {\n    return this.#dir;\n  }\n  async get(ids, args = null, fallback) {\n    if (Array.isArray(ids)) {\n      ids = ids.map(id => ({\n        id\n      }));\n      const messages = await this.#l10n.formatMessages(ids);\n      return messages.map(message => message.value);\n    }\n    const messages = await this.#l10n.formatMessages([{\n      id: ids,\n      args\n    }]);\n    return messages[0]?.value || fallback;\n  }\n  async translate(element) {\n    this.#elements.add(element);\n    try {\n      this.#l10n.connectRoot(element);\n      await this.#l10n.translateRoots();\n    } catch {}\n  }\n  async translateOnce(element) {\n    try {\n      await this.#l10n.translateElements([element]);\n    } catch (ex) {\n      console.error(`translateOnce: \"${ex}\".`);\n    }\n  }\n  async destroy() {\n    for (const element of this.#elements) {\n      this.#l10n.disconnectRoot(element);\n    }\n    this.#elements.clear();\n    this.#l10n.pauseObserving();\n  }\n  pause() {\n    this.#l10n.pauseObserving();\n  }\n  resume() {\n    this.#l10n.resumeObserving();\n  }\n  static #fixupLangCode(langCode) {\n    langCode = langCode?.toLowerCase() || \"en-us\";\n    const PARTIAL_LANG_CODES = {\n      en: \"en-us\",\n      es: \"es-es\",\n      fy: \"fy-nl\",\n      ga: \"ga-ie\",\n      gu: \"gu-in\",\n      hi: \"hi-in\",\n      hy: \"hy-am\",\n      nb: \"nb-no\",\n      ne: \"ne-np\",\n      nn: \"nn-no\",\n      pa: \"pa-in\",\n      pt: \"pt-pt\",\n      sv: \"sv-se\",\n      zh: \"zh-cn\"\n    };\n    return PARTIAL_LANG_CODES[langCode] || langCode;\n  }\n  static #isRTL(lang) {\n    const shortCode = lang.split(\"-\", 1)[0];\n    return [\"ar\", \"he\", \"fa\", \"ps\", \"ur\"].includes(shortCode);\n  }\n}\nconst GenericL10n = null;\n\n;// CONCATENATED MODULE: ./web/genericl10n.js\n\n\n\n\nfunction createBundle(lang, text) {\n  const resource = new FluentResource(text);\n  const bundle = new FluentBundle(lang);\n  const errors = bundle.addResource(resource);\n  if (errors.length) {\n    console.error(\"L10n errors\", errors);\n  }\n  return bundle;\n}\nclass genericl10n_GenericL10n extends L10n {\n  constructor(lang) {\n    super({\n      lang\n    });\n    const generateBundles = !lang ? genericl10n_GenericL10n.#generateBundlesFallback.bind(genericl10n_GenericL10n, this.getLanguage()) : genericl10n_GenericL10n.#generateBundles.bind(genericl10n_GenericL10n, \"en-us\", this.getLanguage());\n    this._setL10n(new DOMLocalization([], generateBundles));\n  }\n  static async *#generateBundles(defaultLang, baseLang) {\n    const {\n      baseURL,\n      paths\n    } = await this.#getPaths();\n    const langs = [baseLang];\n    if (defaultLang !== baseLang) {\n      const shortLang = baseLang.split(\"-\", 1)[0];\n      if (shortLang !== baseLang) {\n        langs.push(shortLang);\n      }\n      langs.push(defaultLang);\n    }\n    for (const lang of langs) {\n      const bundle = await this.#createBundle(lang, baseURL, paths);\n      if (bundle) {\n        yield bundle;\n      } else if (lang === \"en-us\") {\n        yield this.#createBundleFallback(lang);\n      }\n    }\n  }\n  static async #createBundle(lang, baseURL, paths) {\n    const path = paths[lang];\n    if (!path) {\n      return null;\n    }\n    const url = new URL(path, baseURL);\n    const text = await fetchData(url, \"text\");\n    return createBundle(lang, text);\n  }\n  static async #getPaths() {\n    try {\n      const {\n        href\n      } = document.querySelector(`link[type=\"application/l10n\"]`);\n      const paths = await fetchData(href, \"json\");\n      return {\n        baseURL: href.replace(/[^/]*$/, \"\") || \"./\",\n        paths\n      };\n    } catch {}\n    return {\n      baseURL: \"./\",\n      paths: Object.create(null)\n    };\n  }\n  static async *#generateBundlesFallback(lang) {\n    yield this.#createBundleFallback(lang);\n  }\n  static async #createBundleFallback(lang) {\n    const text = \"pdfjs-previous-button =\\n    .title = Previous Page\\npdfjs-previous-button-label = Previous\\npdfjs-next-button =\\n    .title = Next Page\\npdfjs-next-button-label = Next\\npdfjs-page-input =\\n    .title = Page\\npdfjs-of-pages = of { $pagesCount }\\npdfjs-page-of-pages = ({ $pageNumber } of { $pagesCount })\\npdfjs-zoom-out-button =\\n    .title = Zoom Out\\npdfjs-zoom-out-button-label = Zoom Out\\npdfjs-zoom-in-button =\\n    .title = Zoom In\\npdfjs-zoom-in-button-label = Zoom In\\npdfjs-zoom-select =\\n    .title = Zoom\\npdfjs-presentation-mode-button =\\n    .title = Switch to Presentation Mode\\npdfjs-presentation-mode-button-label = Presentation Mode\\npdfjs-open-file-button =\\n    .title = Open File\\npdfjs-open-file-button-label = Open\\npdfjs-print-button =\\n    .title = Print\\npdfjs-print-button-label = Print\\npdfjs-save-button =\\n    .title = Save\\npdfjs-save-button-label = Save\\npdfjs-download-button =\\n    .title = Download\\npdfjs-download-button-label = Download\\npdfjs-bookmark-button =\\n    .title = Current Page (View URL from Current Page)\\npdfjs-bookmark-button-label = Current Page\\npdfjs-tools-button =\\n    .title = Tools\\npdfjs-tools-button-label = Tools\\npdfjs-first-page-button =\\n    .title = Go to First Page\\npdfjs-first-page-button-label = Go to First Page\\npdfjs-last-page-button =\\n    .title = Go to Last Page\\npdfjs-last-page-button-label = Go to Last Page\\npdfjs-page-rotate-cw-button =\\n    .title = Rotate Clockwise\\npdfjs-page-rotate-cw-button-label = Rotate Clockwise\\npdfjs-page-rotate-ccw-button =\\n    .title = Rotate Counterclockwise\\npdfjs-page-rotate-ccw-button-label = Rotate Counterclockwise\\npdfjs-cursor-text-select-tool-button =\\n    .title = Enable Text Selection Tool\\npdfjs-cursor-text-select-tool-button-label = Text Selection Tool\\npdfjs-cursor-hand-tool-button =\\n    .title = Enable Hand Tool\\npdfjs-cursor-hand-tool-button-label = Hand Tool\\npdfjs-scroll-page-button =\\n    .title = Use Page Scrolling\\npdfjs-scroll-page-button-label = Page Scrolling\\npdfjs-scroll-vertical-button =\\n    .title = Use Vertical Scrolling\\npdfjs-scroll-vertical-button-label = Vertical Scrolling\\npdfjs-scroll-horizontal-button =\\n    .title = Use Horizontal Scrolling\\npdfjs-scroll-horizontal-button-label = Horizontal Scrolling\\npdfjs-scroll-wrapped-button =\\n    .title = Use Wrapped Scrolling\\npdfjs-scroll-wrapped-button-label = Wrapped Scrolling\\npdfjs-spread-none-button =\\n    .title = Do not join page spreads\\npdfjs-spread-none-button-label = No Spreads\\npdfjs-spread-odd-button =\\n    .title = Join page spreads starting with odd-numbered pages\\npdfjs-spread-odd-button-label = Odd Spreads\\npdfjs-spread-even-button =\\n    .title = Join page spreads starting with even-numbered pages\\npdfjs-spread-even-button-label = Even Spreads\\npdfjs-document-properties-button =\\n    .title = Document Properties\\u2026\\npdfjs-document-properties-button-label = Document Properties\\u2026\\npdfjs-document-properties-file-name = File name:\\npdfjs-document-properties-file-size = File size:\\npdfjs-document-properties-size-kb = { NUMBER($kb, maximumSignificantDigits: 3) } KB ({ $b } bytes)\\npdfjs-document-properties-size-mb = { NUMBER($mb, maximumSignificantDigits: 3) } MB ({ $b } bytes)\\npdfjs-document-properties-title = Title:\\npdfjs-document-properties-author = Author:\\npdfjs-document-properties-subject = Subject:\\npdfjs-document-properties-keywords = Keywords:\\npdfjs-document-properties-creation-date = Creation Date:\\npdfjs-document-properties-modification-date = Modification Date:\\npdfjs-document-properties-date-time-string = { DATETIME($dateObj, dateStyle: \\\"short\\\", timeStyle: \\\"medium\\\") }\\npdfjs-document-properties-creator = Creator:\\npdfjs-document-properties-producer = PDF Producer:\\npdfjs-document-properties-version = PDF Version:\\npdfjs-document-properties-page-count = Page Count:\\npdfjs-document-properties-page-size = Page Size:\\npdfjs-document-properties-page-size-unit-inches = in\\npdfjs-document-properties-page-size-unit-millimeters = mm\\npdfjs-document-properties-page-size-orientation-portrait = portrait\\npdfjs-document-properties-page-size-orientation-landscape = landscape\\npdfjs-document-properties-page-size-name-a-three = A3\\npdfjs-document-properties-page-size-name-a-four = A4\\npdfjs-document-properties-page-size-name-letter = Letter\\npdfjs-document-properties-page-size-name-legal = Legal\\npdfjs-document-properties-page-size-dimension-string = { $width } \\xD7 { $height } { $unit } ({ $orientation })\\npdfjs-document-properties-page-size-dimension-name-string = { $width } \\xD7 { $height } { $unit } ({ $name }, { $orientation })\\npdfjs-document-properties-linearized = Fast Web View:\\npdfjs-document-properties-linearized-yes = Yes\\npdfjs-document-properties-linearized-no = No\\npdfjs-document-properties-close-button = Close\\npdfjs-print-progress-message = Preparing document for printing\\u2026\\npdfjs-print-progress-percent = { $progress }%\\npdfjs-print-progress-close-button = Cancel\\npdfjs-printing-not-supported = Warning: Printing is not fully supported by this browser.\\npdfjs-printing-not-ready = Warning: The PDF is not fully loaded for printing.\\npdfjs-toggle-sidebar-button =\\n    .title = Toggle Sidebar\\npdfjs-toggle-sidebar-notification-button =\\n    .title = Toggle Sidebar (document contains outline/attachments/layers)\\npdfjs-toggle-sidebar-button-label = Toggle Sidebar\\npdfjs-document-outline-button =\\n    .title = Show Document Outline (double-click to expand/collapse all items)\\npdfjs-document-outline-button-label = Document Outline\\npdfjs-attachments-button =\\n    .title = Show Attachments\\npdfjs-attachments-button-label = Attachments\\npdfjs-layers-button =\\n    .title = Show Layers (double-click to reset all layers to the default state)\\npdfjs-layers-button-label = Layers\\npdfjs-thumbs-button =\\n    .title = Show Thumbnails\\npdfjs-thumbs-button-label = Thumbnails\\npdfjs-current-outline-item-button =\\n    .title = Find Current Outline Item\\npdfjs-current-outline-item-button-label = Current Outline Item\\npdfjs-findbar-button =\\n    .title = Find in Document\\npdfjs-findbar-button-label = Find\\npdfjs-additional-layers = Additional Layers\\npdfjs-thumb-page-title =\\n    .title = Page { $page }\\npdfjs-thumb-page-canvas =\\n    .aria-label = Thumbnail of Page { $page }\\npdfjs-find-input =\\n    .title = Find\\n    .placeholder = Find in document\\u2026\\npdfjs-find-previous-button =\\n    .title = Find the previous occurrence of the phrase\\npdfjs-find-previous-button-label = Previous\\npdfjs-find-next-button =\\n    .title = Find the next occurrence of the phrase\\npdfjs-find-next-button-label = Next\\npdfjs-find-highlight-checkbox = Highlight All\\npdfjs-find-match-case-checkbox-label = Match Case\\npdfjs-find-match-diacritics-checkbox-label = Match Diacritics\\npdfjs-find-entire-word-checkbox-label = Whole Words\\npdfjs-find-reached-top = Reached top of document, continued from bottom\\npdfjs-find-reached-bottom = Reached end of document, continued from top\\npdfjs-find-match-count =\\n    { $total ->\\n        [one] { $current } of { $total } match\\n       *[other] { $current } of { $total } matches\\n    }\\npdfjs-find-match-count-limit =\\n    { $limit ->\\n        [one] More than { $limit } match\\n       *[other] More than { $limit } matches\\n    }\\npdfjs-find-not-found = Phrase not found\\npdfjs-page-scale-width = Page Width\\npdfjs-page-scale-fit = Page Fit\\npdfjs-page-scale-auto = Automatic Zoom\\npdfjs-page-scale-actual = Actual Size\\npdfjs-page-scale-percent = { $scale }%\\npdfjs-page-landmark =\\n    .aria-label = Page { $page }\\npdfjs-loading-error = An error occurred while loading the PDF.\\npdfjs-invalid-file-error = Invalid or corrupted PDF file.\\npdfjs-missing-file-error = Missing PDF file.\\npdfjs-unexpected-response-error = Unexpected server response.\\npdfjs-rendering-error = An error occurred while rendering the page.\\npdfjs-annotation-date-time-string = { DATETIME($dateObj, dateStyle: \\\"short\\\", timeStyle: \\\"medium\\\") }\\npdfjs-text-annotation-type =\\n    .alt = [{ $type } Annotation]\\npdfjs-password-label = Enter the password to open this PDF file.\\npdfjs-password-invalid = Invalid password. Please try again.\\npdfjs-password-ok-button = OK\\npdfjs-password-cancel-button = Cancel\\npdfjs-web-fonts-disabled = Web fonts are disabled: unable to use embedded PDF fonts.\\npdfjs-editor-free-text-button =\\n    .title = Text\\npdfjs-editor-free-text-button-label = Text\\npdfjs-editor-ink-button =\\n    .title = Draw\\npdfjs-editor-ink-button-label = Draw\\npdfjs-editor-stamp-button =\\n    .title = Add or edit images\\npdfjs-editor-stamp-button-label = Add or edit images\\npdfjs-editor-highlight-button =\\n    .title = Highlight\\npdfjs-editor-highlight-button-label = Highlight\\npdfjs-highlight-floating-button1 =\\n    .title = Highlight\\n    .aria-label = Highlight\\npdfjs-highlight-floating-button-label = Highlight\\npdfjs-editor-remove-ink-button =\\n    .title = Remove drawing\\npdfjs-editor-remove-freetext-button =\\n    .title = Remove text\\npdfjs-editor-remove-stamp-button =\\n    .title = Remove image\\npdfjs-editor-remove-highlight-button =\\n    .title = Remove highlight\\npdfjs-editor-free-text-color-input = Color\\npdfjs-editor-free-text-size-input = Size\\npdfjs-editor-ink-color-input = Color\\npdfjs-editor-ink-thickness-input = Thickness\\npdfjs-editor-ink-opacity-input = Opacity\\npdfjs-editor-stamp-add-image-button =\\n    .title = Add image\\npdfjs-editor-stamp-add-image-button-label = Add image\\npdfjs-editor-free-highlight-thickness-input = Thickness\\npdfjs-editor-free-highlight-thickness-title =\\n    .title = Change thickness when highlighting items other than text\\npdfjs-free-text =\\n    .aria-label = Text Editor\\npdfjs-free-text-default-content = Start typing\\u2026\\npdfjs-ink =\\n    .aria-label = Draw Editor\\npdfjs-ink-canvas =\\n    .aria-label = User-created image\\npdfjs-editor-alt-text-button-label = Alt text\\npdfjs-editor-alt-text-edit-button-label = Edit alt text\\npdfjs-editor-alt-text-dialog-label = Choose an option\\npdfjs-editor-alt-text-dialog-description = Alt text (alternative text) helps when people can\\u2019t see the image or when it doesn\\u2019t load.\\npdfjs-editor-alt-text-add-description-label = Add a description\\npdfjs-editor-alt-text-add-description-description = Aim for 1-2 sentences that describe the subject, setting, or actions.\\npdfjs-editor-alt-text-mark-decorative-label = Mark as decorative\\npdfjs-editor-alt-text-mark-decorative-description = This is used for ornamental images, like borders or watermarks.\\npdfjs-editor-alt-text-cancel-button = Cancel\\npdfjs-editor-alt-text-save-button = Save\\npdfjs-editor-alt-text-decorative-tooltip = Marked as decorative\\npdfjs-editor-alt-text-textarea =\\n    .placeholder = For example, \\u201CA young man sits down at a table to eat a meal\\u201D\\npdfjs-editor-resizer-top-left =\\n    .aria-label = Top left corner \\u2014 resize\\npdfjs-editor-resizer-top-middle =\\n    .aria-label = Top middle \\u2014 resize\\npdfjs-editor-resizer-top-right =\\n    .aria-label = Top right corner \\u2014 resize\\npdfjs-editor-resizer-middle-right =\\n    .aria-label = Middle right \\u2014 resize\\npdfjs-editor-resizer-bottom-right =\\n    .aria-label = Bottom right corner \\u2014 resize\\npdfjs-editor-resizer-bottom-middle =\\n    .aria-label = Bottom middle \\u2014 resize\\npdfjs-editor-resizer-bottom-left =\\n    .aria-label = Bottom left corner \\u2014 resize\\npdfjs-editor-resizer-middle-left =\\n    .aria-label = Middle left \\u2014 resize\\npdfjs-editor-highlight-colorpicker-label = Highlight color\\npdfjs-editor-colorpicker-button =\\n    .title = Change color\\npdfjs-editor-colorpicker-dropdown =\\n    .aria-label = Color choices\\npdfjs-editor-colorpicker-yellow =\\n    .title = Yellow\\npdfjs-editor-colorpicker-green =\\n    .title = Green\\npdfjs-editor-colorpicker-blue =\\n    .title = Blue\\npdfjs-editor-colorpicker-pink =\\n    .title = Pink\\npdfjs-editor-colorpicker-red =\\n    .title = Red\\npdfjs-editor-highlight-show-all-button-label = Show all\\npdfjs-editor-highlight-show-all-button =\\n    .title = Show all\\npdfjs-editor-new-alt-text-dialog-edit-label = Edit alt text (image description)\\npdfjs-editor-new-alt-text-dialog-add-label = Add alt text (image description)\\npdfjs-editor-new-alt-text-textarea =\\n    .placeholder = Write your description here\\u2026\\npdfjs-editor-new-alt-text-description = Short description for people who can\\u2019t see the image or when the image doesn\\u2019t load.\\npdfjs-editor-new-alt-text-disclaimer1 = This alt text was created automatically and may be inaccurate.\\npdfjs-editor-new-alt-text-disclaimer-learn-more-url = Learn more\\npdfjs-editor-new-alt-text-create-automatically-button-label = Create alt text automatically\\npdfjs-editor-new-alt-text-not-now-button = Not now\\npdfjs-editor-new-alt-text-error-title = Couldn\\u2019t create alt text automatically\\npdfjs-editor-new-alt-text-error-description = Please write your own alt text or try again later.\\npdfjs-editor-new-alt-text-error-close-button = Close\\npdfjs-editor-new-alt-text-ai-model-downloading-progress = Downloading alt text AI model ({ $downloadedSize } of { $totalSize } MB)\\n    .aria-valuetext = Downloading alt text AI model ({ $downloadedSize } of { $totalSize } MB)\\npdfjs-editor-new-alt-text-added-button-label = Alt text added\\npdfjs-editor-new-alt-text-missing-button-label = Missing alt text\\npdfjs-editor-new-alt-text-to-review-button-label = Review alt text\\npdfjs-editor-new-alt-text-generated-alt-text-with-disclaimer = Created automatically: { $generatedAltText }\\npdfjs-image-alt-text-settings-button =\\n    .title = Image alt text settings\\npdfjs-image-alt-text-settings-button-label = Image alt text settings\\npdfjs-editor-alt-text-settings-dialog-label = Image alt text settings\\npdfjs-editor-alt-text-settings-automatic-title = Automatic alt text\\npdfjs-editor-alt-text-settings-create-model-button-label = Create alt text automatically\\npdfjs-editor-alt-text-settings-create-model-description = Suggests descriptions to help people who can\\u2019t see the image or when the image doesn\\u2019t load.\\npdfjs-editor-alt-text-settings-download-model-label = Alt text AI model ({ $totalSize } MB)\\npdfjs-editor-alt-text-settings-ai-model-description = Runs locally on your device so your data stays private. Required for automatic alt text.\\npdfjs-editor-alt-text-settings-delete-model-button = Delete\\npdfjs-editor-alt-text-settings-download-model-button = Download\\npdfjs-editor-alt-text-settings-downloading-model-button = Downloading\\u2026\\npdfjs-editor-alt-text-settings-editor-title = Alt text editor\\npdfjs-editor-alt-text-settings-show-dialog-button-label = Show alt text editor right away when adding an image\\npdfjs-editor-alt-text-settings-show-dialog-description = Helps you make sure all your images have alt text.\\npdfjs-editor-alt-text-settings-close-button = Close\";\n    return createBundle(lang, text);\n  }\n}\n\n;// CONCATENATED MODULE: ./web/pdf_history.js\n\n\nconst HASH_CHANGE_TIMEOUT = 1000;\nconst POSITION_UPDATED_THRESHOLD = 50;\nconst UPDATE_VIEWAREA_TIMEOUT = 1000;\nfunction getCurrentHash() {\n  return document.location.hash;\n}\nclass PDFHistory {\n  #eventAbortController = null;\n  constructor({\n    linkService,\n    eventBus\n  }) {\n    this.linkService = linkService;\n    this.eventBus = eventBus;\n    this._initialized = false;\n    this._fingerprint = \"\";\n    this.reset();\n    this.eventBus._on(\"pagesinit\", () => {\n      this._isPagesLoaded = false;\n      this.eventBus._on(\"pagesloaded\", evt => {\n        this._isPagesLoaded = !!evt.pagesCount;\n      }, {\n        once: true\n      });\n    });\n  }\n  initialize({\n    fingerprint,\n    resetHistory = false,\n    updateUrl = false\n  }) {\n    if (!fingerprint || typeof fingerprint !== \"string\") {\n      console.error('PDFHistory.initialize: The \"fingerprint\" must be a non-empty string.');\n      return;\n    }\n    if (this._initialized) {\n      this.reset();\n    }\n    const reInitialized = this._fingerprint !== \"\" && this._fingerprint !== fingerprint;\n    this._fingerprint = fingerprint;\n    this._updateUrl = updateUrl === true;\n    this._initialized = true;\n    this.#bindEvents();\n    const state = window.history.state;\n    this._popStateInProgress = false;\n    this._blockHashChange = 0;\n    this._currentHash = getCurrentHash();\n    this._numPositionUpdates = 0;\n    this._uid = this._maxUid = 0;\n    this._destination = null;\n    this._position = null;\n    if (!this.#isValidState(state, true) || resetHistory) {\n      const {\n        hash,\n        page,\n        rotation\n      } = this.#parseCurrentHash(true);\n      if (!hash || reInitialized || resetHistory) {\n        this.#pushOrReplaceState(null, true);\n        return;\n      }\n      this.#pushOrReplaceState({\n        hash,\n        page,\n        rotation\n      }, true);\n      return;\n    }\n    const destination = state.destination;\n    this.#updateInternalState(destination, state.uid, true);\n    if (destination.rotation !== undefined) {\n      this._initialRotation = destination.rotation;\n    }\n    if (destination.dest) {\n      this._initialBookmark = JSON.stringify(destination.dest);\n      this._destination.page = null;\n    } else if (destination.hash) {\n      this._initialBookmark = destination.hash;\n    } else if (destination.page) {\n      this._initialBookmark = `page=${destination.page}`;\n    }\n  }\n  reset() {\n    if (this._initialized) {\n      this.#pageHide();\n      this._initialized = false;\n      this.#unbindEvents();\n    }\n    if (this._updateViewareaTimeout) {\n      clearTimeout(this._updateViewareaTimeout);\n      this._updateViewareaTimeout = null;\n    }\n    this._initialBookmark = null;\n    this._initialRotation = null;\n  }\n  push({\n    namedDest = null,\n    explicitDest,\n    pageNumber\n  }) {\n    if (!this._initialized) {\n      return;\n    }\n    if (namedDest && typeof namedDest !== \"string\") {\n      console.error(\"PDFHistory.push: \" + `\"${namedDest}\" is not a valid namedDest parameter.`);\n      return;\n    } else if (!Array.isArray(explicitDest)) {\n      console.error(\"PDFHistory.push: \" + `\"${explicitDest}\" is not a valid explicitDest parameter.`);\n      return;\n    } else if (!this.#isValidPage(pageNumber)) {\n      if (pageNumber !== null || this._destination) {\n        console.error(\"PDFHistory.push: \" + `\"${pageNumber}\" is not a valid pageNumber parameter.`);\n        return;\n      }\n    }\n    const hash = namedDest || JSON.stringify(explicitDest);\n    if (!hash) {\n      return;\n    }\n    let forceReplace = false;\n    if (this._destination && (isDestHashesEqual(this._destination.hash, hash) || isDestArraysEqual(this._destination.dest, explicitDest))) {\n      if (this._destination.page) {\n        return;\n      }\n      forceReplace = true;\n    }\n    if (this._popStateInProgress && !forceReplace) {\n      return;\n    }\n    this.#pushOrReplaceState({\n      dest: explicitDest,\n      hash,\n      page: pageNumber,\n      rotation: this.linkService.rotation\n    }, forceReplace);\n    if (!this._popStateInProgress) {\n      this._popStateInProgress = true;\n      Promise.resolve().then(() => {\n        this._popStateInProgress = false;\n      });\n    }\n  }\n  pushPage(pageNumber) {\n    if (!this._initialized) {\n      return;\n    }\n    if (!this.#isValidPage(pageNumber)) {\n      console.error(`PDFHistory.pushPage: \"${pageNumber}\" is not a valid page number.`);\n      return;\n    }\n    if (this._destination?.page === pageNumber) {\n      return;\n    }\n    if (this._popStateInProgress) {\n      return;\n    }\n    this.#pushOrReplaceState({\n      dest: null,\n      hash: `page=${pageNumber}`,\n      page: pageNumber,\n      rotation: this.linkService.rotation\n    });\n    if (!this._popStateInProgress) {\n      this._popStateInProgress = true;\n      Promise.resolve().then(() => {\n        this._popStateInProgress = false;\n      });\n    }\n  }\n  pushCurrentPosition() {\n    if (!this._initialized || this._popStateInProgress) {\n      return;\n    }\n    this.#tryPushCurrentPosition();\n  }\n  back() {\n    if (!this._initialized || this._popStateInProgress) {\n      return;\n    }\n    const state = window.history.state;\n    if (this.#isValidState(state) && state.uid > 0) {\n      window.history.back();\n    }\n  }\n  forward() {\n    if (!this._initialized || this._popStateInProgress) {\n      return;\n    }\n    const state = window.history.state;\n    if (this.#isValidState(state) && state.uid < this._maxUid) {\n      window.history.forward();\n    }\n  }\n  get popStateInProgress() {\n    return this._initialized && (this._popStateInProgress || this._blockHashChange > 0);\n  }\n  get initialBookmark() {\n    return this._initialized ? this._initialBookmark : null;\n  }\n  get initialRotation() {\n    return this._initialized ? this._initialRotation : null;\n  }\n  #pushOrReplaceState(destination, forceReplace = false) {\n    const shouldReplace = forceReplace || !this._destination;\n    const newState = {\n      fingerprint: this._fingerprint,\n      uid: shouldReplace ? this._uid : this._uid + 1,\n      destination\n    };\n    this.#updateInternalState(destination, newState.uid);\n    let newUrl;\n    if (this._updateUrl && destination?.hash) {\n      const baseUrl = document.location.href.split(\"#\", 1)[0];\n      if (!baseUrl.startsWith(\"file://\")) {\n        newUrl = `${baseUrl}#${destination.hash}`;\n      }\n    }\n    if (shouldReplace) {\n      window.history.replaceState(newState, \"\", newUrl);\n    } else {\n      window.history.pushState(newState, \"\", newUrl);\n    }\n  }\n  #tryPushCurrentPosition(temporary = false) {\n    if (!this._position) {\n      return;\n    }\n    let position = this._position;\n    if (temporary) {\n      position = Object.assign(Object.create(null), this._position);\n      position.temporary = true;\n    }\n    if (!this._destination) {\n      this.#pushOrReplaceState(position);\n      return;\n    }\n    if (this._destination.temporary) {\n      this.#pushOrReplaceState(position, true);\n      return;\n    }\n    if (this._destination.hash === position.hash) {\n      return;\n    }\n    if (!this._destination.page && (POSITION_UPDATED_THRESHOLD <= 0 || this._numPositionUpdates <= POSITION_UPDATED_THRESHOLD)) {\n      return;\n    }\n    let forceReplace = false;\n    if (this._destination.page >= position.first && this._destination.page <= position.page) {\n      if (this._destination.dest !== undefined || !this._destination.first) {\n        return;\n      }\n      forceReplace = true;\n    }\n    this.#pushOrReplaceState(position, forceReplace);\n  }\n  #isValidPage(val) {\n    return Number.isInteger(val) && val > 0 && val <= this.linkService.pagesCount;\n  }\n  #isValidState(state, checkReload = false) {\n    if (!state) {\n      return false;\n    }\n    if (state.fingerprint !== this._fingerprint) {\n      if (checkReload) {\n        if (typeof state.fingerprint !== \"string\" || state.fingerprint.length !== this._fingerprint.length) {\n          return false;\n        }\n        const [perfEntry] = performance.getEntriesByType(\"navigation\");\n        if (perfEntry?.type !== \"reload\") {\n          return false;\n        }\n      } else {\n        return false;\n      }\n    }\n    if (!Number.isInteger(state.uid) || state.uid < 0) {\n      return false;\n    }\n    if (state.destination === null || typeof state.destination !== \"object\") {\n      return false;\n    }\n    return true;\n  }\n  #updateInternalState(destination, uid, removeTemporary = false) {\n    if (this._updateViewareaTimeout) {\n      clearTimeout(this._updateViewareaTimeout);\n      this._updateViewareaTimeout = null;\n    }\n    if (removeTemporary && destination?.temporary) {\n      delete destination.temporary;\n    }\n    this._destination = destination;\n    this._uid = uid;\n    this._maxUid = Math.max(this._maxUid, uid);\n    this._numPositionUpdates = 0;\n  }\n  #parseCurrentHash(checkNameddest = false) {\n    const hash = unescape(getCurrentHash()).substring(1);\n    const params = parseQueryString(hash);\n    const nameddest = params.get(\"nameddest\") || \"\";\n    let page = params.get(\"page\") | 0;\n    if (!this.#isValidPage(page) || checkNameddest && nameddest.length > 0) {\n      page = null;\n    }\n    return {\n      hash,\n      page,\n      rotation: this.linkService.rotation\n    };\n  }\n  #updateViewarea({\n    location\n  }) {\n    if (this._updateViewareaTimeout) {\n      clearTimeout(this._updateViewareaTimeout);\n      this._updateViewareaTimeout = null;\n    }\n    this._position = {\n      hash: location.pdfOpenParams.substring(1),\n      page: this.linkService.page,\n      first: location.pageNumber,\n      rotation: location.rotation\n    };\n    if (this._popStateInProgress) {\n      return;\n    }\n    if (POSITION_UPDATED_THRESHOLD > 0 && this._isPagesLoaded && this._destination && !this._destination.page) {\n      this._numPositionUpdates++;\n    }\n    if (UPDATE_VIEWAREA_TIMEOUT > 0) {\n      this._updateViewareaTimeout = setTimeout(() => {\n        if (!this._popStateInProgress) {\n          this.#tryPushCurrentPosition(true);\n        }\n        this._updateViewareaTimeout = null;\n      }, UPDATE_VIEWAREA_TIMEOUT);\n    }\n  }\n  #popState({\n    state\n  }) {\n    const newHash = getCurrentHash(),\n      hashChanged = this._currentHash !== newHash;\n    this._currentHash = newHash;\n    if (!state) {\n      this._uid++;\n      const {\n        hash,\n        page,\n        rotation\n      } = this.#parseCurrentHash();\n      this.#pushOrReplaceState({\n        hash,\n        page,\n        rotation\n      }, true);\n      return;\n    }\n    if (!this.#isValidState(state)) {\n      return;\n    }\n    this._popStateInProgress = true;\n    if (hashChanged) {\n      this._blockHashChange++;\n      waitOnEventOrTimeout({\n        target: window,\n        name: \"hashchange\",\n        delay: HASH_CHANGE_TIMEOUT\n      }).then(() => {\n        this._blockHashChange--;\n      });\n    }\n    const destination = state.destination;\n    this.#updateInternalState(destination, state.uid, true);\n    if (isValidRotation(destination.rotation)) {\n      this.linkService.rotation = destination.rotation;\n    }\n    if (destination.dest) {\n      this.linkService.goToDestination(destination.dest);\n    } else if (destination.hash) {\n      this.linkService.setHash(destination.hash);\n    } else if (destination.page) {\n      this.linkService.page = destination.page;\n    }\n    Promise.resolve().then(() => {\n      this._popStateInProgress = false;\n    });\n  }\n  #pageHide() {\n    if (!this._destination || this._destination.temporary) {\n      this.#tryPushCurrentPosition();\n    }\n  }\n  #bindEvents() {\n    if (this.#eventAbortController) {\n      return;\n    }\n    this.#eventAbortController = new AbortController();\n    const {\n      signal\n    } = this.#eventAbortController;\n    this.eventBus._on(\"updateviewarea\", this.#updateViewarea.bind(this), {\n      signal\n    });\n    window.addEventListener(\"popstate\", this.#popState.bind(this), {\n      signal\n    });\n    window.addEventListener(\"pagehide\", this.#pageHide.bind(this), {\n      signal\n    });\n  }\n  #unbindEvents() {\n    this.#eventAbortController?.abort();\n    this.#eventAbortController = null;\n  }\n}\nfunction isDestHashesEqual(destHash, pushHash) {\n  if (typeof destHash !== \"string\" || typeof pushHash !== \"string\") {\n    return false;\n  }\n  if (destHash === pushHash) {\n    return true;\n  }\n  const nameddest = parseQueryString(destHash).get(\"nameddest\");\n  if (nameddest === pushHash) {\n    return true;\n  }\n  return false;\n}\nfunction isDestArraysEqual(firstDest, secondDest) {\n  function isEntryEqual(first, second) {\n    if (typeof first !== typeof second) {\n      return false;\n    }\n    if (Array.isArray(first) || Array.isArray(second)) {\n      return false;\n    }\n    if (first !== null && typeof first === \"object\" && second !== null) {\n      if (Object.keys(first).length !== Object.keys(second).length) {\n        return false;\n      }\n      for (const key in first) {\n        if (!isEntryEqual(first[key], second[key])) {\n          return false;\n        }\n      }\n      return true;\n    }\n    return first === second || Number.isNaN(first) && Number.isNaN(second);\n  }\n  if (!(Array.isArray(firstDest) && Array.isArray(secondDest))) {\n    return false;\n  }\n  if (firstDest.length !== secondDest.length) {\n    return false;\n  }\n  for (let i = 0, ii = firstDest.length; i < ii; i++) {\n    if (!isEntryEqual(firstDest[i], secondDest[i])) {\n      return false;\n    }\n  }\n  return true;\n}\n\n;// CONCATENATED MODULE: ./web/annotation_editor_layer_builder.js\n\n\nclass AnnotationEditorLayerBuilder {\n  #annotationLayer = null;\n  #drawLayer = null;\n  #onAppend = null;\n  #textLayer = null;\n  #uiManager;\n  constructor(options) {\n    this.pdfPage = options.pdfPage;\n    this.accessibilityManager = options.accessibilityManager;\n    this.l10n = options.l10n;\n    this.l10n ||= new genericl10n_GenericL10n();\n    this.annotationEditorLayer = null;\n    this.div = null;\n    this._cancelled = false;\n    this.#uiManager = options.uiManager;\n    this.#annotationLayer = options.annotationLayer || null;\n    this.#textLayer = options.textLayer || null;\n    this.#drawLayer = options.drawLayer || null;\n    this.#onAppend = options.onAppend || null;\n  }\n  async render(viewport, intent = \"display\") {\n    if (intent !== \"display\") {\n      return;\n    }\n    if (this._cancelled) {\n      return;\n    }\n    const clonedViewport = viewport.clone({\n      dontFlip: true\n    });\n    if (this.div) {\n      this.annotationEditorLayer.update({\n        viewport: clonedViewport\n      });\n      this.show();\n      return;\n    }\n    const div = this.div = document.createElement(\"div\");\n    div.className = \"annotationEditorLayer\";\n    div.hidden = true;\n    div.dir = this.#uiManager.direction;\n    this.#onAppend?.(div);\n    this.annotationEditorLayer = new AnnotationEditorLayer({\n      uiManager: this.#uiManager,\n      div,\n      accessibilityManager: this.accessibilityManager,\n      pageIndex: this.pdfPage.pageNumber - 1,\n      l10n: this.l10n,\n      viewport: clonedViewport,\n      annotationLayer: this.#annotationLayer,\n      textLayer: this.#textLayer,\n      drawLayer: this.#drawLayer\n    });\n    const parameters = {\n      viewport: clonedViewport,\n      div,\n      annotations: null,\n      intent\n    };\n    this.annotationEditorLayer.render(parameters);\n    this.show();\n  }\n  cancel() {\n    this._cancelled = true;\n    if (!this.div) {\n      return;\n    }\n    this.annotationEditorLayer.destroy();\n  }\n  hide() {\n    if (!this.div) {\n      return;\n    }\n    this.div.hidden = true;\n  }\n  show() {\n    if (!this.div || this.annotationEditorLayer.isInvisible) {\n      return;\n    }\n    this.div.hidden = false;\n  }\n}\n\n;// CONCATENATED MODULE: ./web/app_options.js\n{\n  var compatParams = new Map();\n  const userAgent = navigator.userAgent || \"\";\n  const platform = navigator.platform || \"\";\n  const maxTouchPoints = navigator.maxTouchPoints || 1;\n  const isAndroid = /Android/.test(userAgent);\n  const isIOS = /\\b(iPad|iPhone|iPod)(?=;)/.test(userAgent) || platform === \"MacIntel\" && maxTouchPoints > 1;\n  (function () {\n    if (isIOS || isAndroid) {\n      compatParams.set(\"maxCanvasPixels\", 5242880);\n    }\n  })();\n  (function () {\n    if (isAndroid) {\n      compatParams.set(\"useSystemFonts\", false);\n    }\n  })();\n}\nconst OptionKind = {\n  BROWSER: 0x01,\n  VIEWER: 0x02,\n  API: 0x04,\n  WORKER: 0x08,\n  EVENT_DISPATCH: 0x10,\n  PREFERENCE: 0x80\n};\nconst Type = {\n  BOOLEAN: 0x01,\n  NUMBER: 0x02,\n  OBJECT: 0x04,\n  STRING: 0x08,\n  UNDEFINED: 0x10\n};\nconst defaultOptions = {\n  allowedGlobalEvents: {\n    value: null,\n    kind: OptionKind.BROWSER\n  },\n  canvasMaxAreaInBytes: {\n    value: -1,\n    kind: OptionKind.BROWSER + OptionKind.API\n  },\n  isInAutomation: {\n    value: false,\n    kind: OptionKind.BROWSER\n  },\n  localeProperties: {\n    value: {\n      lang: navigator.language || \"en-US\"\n    },\n    kind: OptionKind.BROWSER\n  },\n  nimbusDataStr: {\n    value: \"\",\n    kind: OptionKind.BROWSER\n  },\n  supportsCaretBrowsingMode: {\n    value: false,\n    kind: OptionKind.BROWSER\n  },\n  supportsDocumentFonts: {\n    value: true,\n    kind: OptionKind.BROWSER\n  },\n  supportsIntegratedFind: {\n    value: false,\n    kind: OptionKind.BROWSER\n  },\n  supportsMouseWheelZoomCtrlKey: {\n    value: true,\n    kind: OptionKind.BROWSER\n  },\n  supportsMouseWheelZoomMetaKey: {\n    value: true,\n    kind: OptionKind.BROWSER\n  },\n  supportsPinchToZoom: {\n    value: true,\n    kind: OptionKind.BROWSER\n  },\n  toolbarDensity: {\n    value: 0,\n    kind: OptionKind.BROWSER + OptionKind.EVENT_DISPATCH\n  },\n  altTextLearnMoreUrl: {\n    value: \"\",\n    kind: OptionKind.VIEWER + OptionKind.PREFERENCE\n  },\n  annotationEditorMode: {\n    value: 0,\n    kind: OptionKind.VIEWER + OptionKind.PREFERENCE\n  },\n  annotationMode: {\n    value: 2,\n    kind: OptionKind.VIEWER + OptionKind.PREFERENCE\n  },\n  cursorToolOnLoad: {\n    value: 0,\n    kind: OptionKind.VIEWER + OptionKind.PREFERENCE\n  },\n  debuggerSrc: {\n    value: \"./debugger.mjs\",\n    kind: OptionKind.VIEWER\n  },\n  defaultZoomDelay: {\n    value: 400,\n    kind: OptionKind.VIEWER + OptionKind.PREFERENCE\n  },\n  defaultZoomValue: {\n    value: \"\",\n    kind: OptionKind.VIEWER + OptionKind.PREFERENCE\n  },\n  disableHistory: {\n    value: false,\n    kind: OptionKind.VIEWER\n  },\n  disablePageLabels: {\n    value: false,\n    kind: OptionKind.VIEWER + OptionKind.PREFERENCE\n  },\n  enableAltText: {\n    value: false,\n    kind: OptionKind.VIEWER + OptionKind.PREFERENCE\n  },\n  enableAltTextModelDownload: {\n    value: true,\n    kind: OptionKind.VIEWER + OptionKind.PREFERENCE + OptionKind.EVENT_DISPATCH\n  },\n  enableGuessAltText: {\n    value: true,\n    kind: OptionKind.VIEWER + OptionKind.PREFERENCE + OptionKind.EVENT_DISPATCH\n  },\n  enableHighlightFloatingButton: {\n    value: false,\n    kind: OptionKind.VIEWER + OptionKind.PREFERENCE\n  },\n  enableNewAltTextWhenAddingImage: {\n    value: true,\n    kind: OptionKind.VIEWER + OptionKind.PREFERENCE\n  },\n  enablePermissions: {\n    value: false,\n    kind: OptionKind.VIEWER + OptionKind.PREFERENCE\n  },\n  enablePrintAutoRotate: {\n    value: true,\n    kind: OptionKind.VIEWER + OptionKind.PREFERENCE\n  },\n  enableScripting: {\n    value: true,\n    kind: OptionKind.VIEWER + OptionKind.PREFERENCE\n  },\n  enableUpdatedAddImage: {\n    value: false,\n    kind: OptionKind.VIEWER + OptionKind.PREFERENCE\n  },\n  externalLinkRel: {\n    value: \"noopener noreferrer nofollow\",\n    kind: OptionKind.VIEWER\n  },\n  externalLinkTarget: {\n    value: 0,\n    kind: OptionKind.VIEWER + OptionKind.PREFERENCE\n  },\n  highlightEditorColors: {\n    value: \"yellow=#FFFF98,green=#53FFBC,blue=#80EBFF,pink=#FFCBE6,red=#FF4F5F\",\n    kind: OptionKind.VIEWER + OptionKind.PREFERENCE\n  },\n  historyUpdateUrl: {\n    value: false,\n    kind: OptionKind.VIEWER + OptionKind.PREFERENCE\n  },\n  ignoreDestinationZoom: {\n    value: false,\n    kind: OptionKind.VIEWER + OptionKind.PREFERENCE\n  },\n  imageResourcesPath: {\n    value: \"./images/\",\n    kind: OptionKind.VIEWER\n  },\n  maxCanvasPixels: {\n    value: 2 ** 25,\n    kind: OptionKind.VIEWER\n  },\n  forcePageColors: {\n    value: false,\n    kind: OptionKind.VIEWER + OptionKind.PREFERENCE\n  },\n  pageColorsBackground: {\n    value: \"Canvas\",\n    kind: OptionKind.VIEWER + OptionKind.PREFERENCE\n  },\n  pageColorsForeground: {\n    value: \"CanvasText\",\n    kind: OptionKind.VIEWER + OptionKind.PREFERENCE\n  },\n  pdfBugEnabled: {\n    value: false,\n    kind: OptionKind.VIEWER + OptionKind.PREFERENCE\n  },\n  printResolution: {\n    value: 150,\n    kind: OptionKind.VIEWER\n  },\n  sidebarViewOnLoad: {\n    value: -1,\n    kind: OptionKind.VIEWER + OptionKind.PREFERENCE\n  },\n  scrollModeOnLoad: {\n    value: -1,\n    kind: OptionKind.VIEWER + OptionKind.PREFERENCE\n  },\n  spreadModeOnLoad: {\n    value: -1,\n    kind: OptionKind.VIEWER + OptionKind.PREFERENCE\n  },\n  textLayerMode: {\n    value: 1,\n    kind: OptionKind.VIEWER + OptionKind.PREFERENCE\n  },\n  viewOnLoad: {\n    value: 0,\n    kind: OptionKind.VIEWER + OptionKind.PREFERENCE\n  },\n  cMapPacked: {\n    value: true,\n    kind: OptionKind.API\n  },\n  cMapUrl: {\n    value: \"../web/cmaps/\",\n    kind: OptionKind.API\n  },\n  disableAutoFetch: {\n    value: false,\n    kind: OptionKind.API + OptionKind.PREFERENCE\n  },\n  disableFontFace: {\n    value: false,\n    kind: OptionKind.API + OptionKind.PREFERENCE\n  },\n  disableRange: {\n    value: false,\n    kind: OptionKind.API + OptionKind.PREFERENCE\n  },\n  disableStream: {\n    value: false,\n    kind: OptionKind.API + OptionKind.PREFERENCE\n  },\n  docBaseUrl: {\n    value: \"\",\n    kind: OptionKind.API\n  },\n  enableHWA: {\n    value: true,\n    kind: OptionKind.API + OptionKind.VIEWER + OptionKind.PREFERENCE\n  },\n  enableXfa: {\n    value: true,\n    kind: OptionKind.API + OptionKind.PREFERENCE\n  },\n  fontExtraProperties: {\n    value: false,\n    kind: OptionKind.API\n  },\n  isEvalSupported: {\n    value: true,\n    kind: OptionKind.API\n  },\n  isOffscreenCanvasSupported: {\n    value: true,\n    kind: OptionKind.API\n  },\n  maxImageSize: {\n    value: -1,\n    kind: OptionKind.API\n  },\n  pdfBug: {\n    value: false,\n    kind: OptionKind.API\n  },\n  standardFontDataUrl: {\n    value: \"../web/standard_fonts/\",\n    kind: OptionKind.API\n  },\n  useSystemFonts: {\n    value: undefined,\n    kind: OptionKind.API,\n    type: Type.BOOLEAN + Type.UNDEFINED\n  },\n  verbosity: {\n    value: 1,\n    kind: OptionKind.API\n  },\n  workerPort: {\n    value: null,\n    kind: OptionKind.WORKER\n  },\n  workerSrc: {\n    value: \"../build/pdf.worker.mjs\",\n    kind: OptionKind.WORKER\n  }\n};\n{\n  defaultOptions.defaultUrl = {\n    value: \"compressed.tracemonkey-pldi-09.pdf\",\n    kind: OptionKind.VIEWER\n  };\n  defaultOptions.sandboxBundleSrc = {\n    value: \"../build/pdf.sandbox.mjs\",\n    kind: OptionKind.VIEWER\n  };\n  defaultOptions.viewerCssTheme = {\n    value: 0,\n    kind: OptionKind.VIEWER + OptionKind.PREFERENCE\n  };\n  defaultOptions.enableFakeMLManager = {\n    value: true,\n    kind: OptionKind.VIEWER\n  };\n}\n{\n  defaultOptions.disablePreferences = {\n    value: false,\n    kind: OptionKind.VIEWER\n  };\n}\nclass AppOptions {\n  static eventBus;\n  static #opts = new Map();\n  static {\n    for (const name in defaultOptions) {\n      this.#opts.set(name, defaultOptions[name].value);\n    }\n    for (const [name, value] of compatParams) {\n      this.#opts.set(name, value);\n    }\n    this._hasInvokedSet = false;\n    this._checkDisablePreferences = () => {\n      if (this.get(\"disablePreferences\")) {\n        return true;\n      }\n      if (this._hasInvokedSet) {\n        console.warn(\"The Preferences may override manually set AppOptions; \" + 'please use the \"disablePreferences\"-option to prevent that.');\n      }\n      return false;\n    };\n  }\n  static get(name) {\n    return this.#opts.get(name);\n  }\n  static getAll(kind = null, defaultOnly = false) {\n    const options = Object.create(null);\n    for (const name in defaultOptions) {\n      const defaultOpt = defaultOptions[name];\n      if (kind && !(kind & defaultOpt.kind)) {\n        continue;\n      }\n      options[name] = !defaultOnly ? this.#opts.get(name) : defaultOpt.value;\n    }\n    return options;\n  }\n  static set(name, value) {\n    this.setAll({\n      [name]: value\n    });\n  }\n  static setAll(options, prefs = false) {\n    this._hasInvokedSet ||= true;\n    let events;\n    for (const name in options) {\n      const defaultOpt = defaultOptions[name],\n        userOpt = options[name];\n      if (!defaultOpt || !(typeof userOpt === typeof defaultOpt.value || Type[(typeof userOpt).toUpperCase()] & defaultOpt.type)) {\n        continue;\n      }\n      const {\n        kind\n      } = defaultOpt;\n      if (prefs && !(kind & OptionKind.BROWSER || kind & OptionKind.PREFERENCE)) {\n        continue;\n      }\n      if (this.eventBus && kind & OptionKind.EVENT_DISPATCH) {\n        (events ||= new Map()).set(name, userOpt);\n      }\n      this.#opts.set(name, userOpt);\n    }\n    if (events) {\n      for (const [name, value] of events) {\n        this.eventBus.dispatch(name.toLowerCase(), {\n          source: this,\n          value\n        });\n      }\n    }\n  }\n}\n\n;// CONCATENATED MODULE: ./web/draw_layer_builder.js\n\nclass DrawLayerBuilder {\n  #drawLayer = null;\n  constructor(options) {\n    this.pageIndex = options.pageIndex;\n  }\n  async render(intent = \"display\") {\n    if (intent !== \"display\" || this.#drawLayer || this._cancelled) {\n      return;\n    }\n    this.#drawLayer = new DrawLayer({\n      pageIndex: this.pageIndex\n    });\n  }\n  cancel() {\n    this._cancelled = true;\n    if (!this.#drawLayer) {\n      return;\n    }\n    this.#drawLayer.destroy();\n    this.#drawLayer = null;\n  }\n  setParent(parent) {\n    this.#drawLayer?.setParent(parent);\n  }\n  getDrawLayer() {\n    return this.#drawLayer;\n  }\n}\n\n;// CONCATENATED MODULE: ./web/struct_tree_layer_builder.js\n\nconst PDF_ROLE_TO_HTML_ROLE = {\n  Document: null,\n  DocumentFragment: null,\n  Part: \"group\",\n  Sect: \"group\",\n  Div: \"group\",\n  Aside: \"note\",\n  NonStruct: \"none\",\n  P: null,\n  H: \"heading\",\n  Title: null,\n  FENote: \"note\",\n  Sub: \"group\",\n  Lbl: null,\n  Span: null,\n  Em: null,\n  Strong: null,\n  Link: \"link\",\n  Annot: \"note\",\n  Form: \"form\",\n  Ruby: null,\n  RB: null,\n  RT: null,\n  RP: null,\n  Warichu: null,\n  WT: null,\n  WP: null,\n  L: \"list\",\n  LI: \"listitem\",\n  LBody: null,\n  Table: \"table\",\n  TR: \"row\",\n  TH: \"columnheader\",\n  TD: \"cell\",\n  THead: \"columnheader\",\n  TBody: null,\n  TFoot: null,\n  Caption: null,\n  Figure: \"figure\",\n  Formula: null,\n  Artifact: null\n};\nconst HEADING_PATTERN = /^H(\\d+)$/;\nclass StructTreeLayerBuilder {\n  #treeDom = undefined;\n  get renderingDone() {\n    return this.#treeDom !== undefined;\n  }\n  render(structTree) {\n    if (this.#treeDom !== undefined) {\n      return this.#treeDom;\n    }\n    const treeDom = this.#walk(structTree);\n    treeDom?.classList.add(\"structTree\");\n    return this.#treeDom = treeDom;\n  }\n  hide() {\n    if (this.#treeDom && !this.#treeDom.hidden) {\n      this.#treeDom.hidden = true;\n    }\n  }\n  show() {\n    if (this.#treeDom?.hidden) {\n      this.#treeDom.hidden = false;\n    }\n  }\n  #setAttributes(structElement, htmlElement) {\n    const {\n      alt,\n      id,\n      lang\n    } = structElement;\n    if (alt !== undefined) {\n      htmlElement.setAttribute(\"aria-label\", removeNullCharacters(alt));\n    }\n    if (id !== undefined) {\n      htmlElement.setAttribute(\"aria-owns\", id);\n    }\n    if (lang !== undefined) {\n      htmlElement.setAttribute(\"lang\", removeNullCharacters(lang, true));\n    }\n  }\n  #walk(node) {\n    if (!node) {\n      return null;\n    }\n    const element = document.createElement(\"span\");\n    if (\"role\" in node) {\n      const {\n        role\n      } = node;\n      const match = role.match(HEADING_PATTERN);\n      if (match) {\n        element.setAttribute(\"role\", \"heading\");\n        element.setAttribute(\"aria-level\", match[1]);\n      } else if (PDF_ROLE_TO_HTML_ROLE[role]) {\n        element.setAttribute(\"role\", PDF_ROLE_TO_HTML_ROLE[role]);\n      }\n    }\n    this.#setAttributes(node, element);\n    if (node.children) {\n      if (node.children.length === 1 && \"id\" in node.children[0]) {\n        this.#setAttributes(node.children[0], element);\n      } else {\n        for (const kid of node.children) {\n          element.append(this.#walk(kid));\n        }\n      }\n    }\n    return element;\n  }\n}\n\n;// CONCATENATED MODULE: ./web/text_accessibility.js\n\nclass TextAccessibilityManager {\n  #enabled = false;\n  #textChildren = null;\n  #textNodes = new Map();\n  #waitingElements = new Map();\n  setTextMapping(textDivs) {\n    this.#textChildren = textDivs;\n  }\n  static #compareElementPositions(e1, e2) {\n    const rect1 = e1.getBoundingClientRect();\n    const rect2 = e2.getBoundingClientRect();\n    if (rect1.width === 0 && rect1.height === 0) {\n      return +1;\n    }\n    if (rect2.width === 0 && rect2.height === 0) {\n      return -1;\n    }\n    const top1 = rect1.y;\n    const bot1 = rect1.y + rect1.height;\n    const mid1 = rect1.y + rect1.height / 2;\n    const top2 = rect2.y;\n    const bot2 = rect2.y + rect2.height;\n    const mid2 = rect2.y + rect2.height / 2;\n    if (mid1 <= top2 && mid2 >= bot1) {\n      return -1;\n    }\n    if (mid2 <= top1 && mid1 >= bot2) {\n      return +1;\n    }\n    const centerX1 = rect1.x + rect1.width / 2;\n    const centerX2 = rect2.x + rect2.width / 2;\n    return centerX1 - centerX2;\n  }\n  enable() {\n    if (this.#enabled) {\n      throw new Error(\"TextAccessibilityManager is already enabled.\");\n    }\n    if (!this.#textChildren) {\n      throw new Error(\"Text divs and strings have not been set.\");\n    }\n    this.#enabled = true;\n    this.#textChildren = this.#textChildren.slice();\n    this.#textChildren.sort(TextAccessibilityManager.#compareElementPositions);\n    if (this.#textNodes.size > 0) {\n      const textChildren = this.#textChildren;\n      for (const [id, nodeIndex] of this.#textNodes) {\n        const element = document.getElementById(id);\n        if (!element) {\n          this.#textNodes.delete(id);\n          continue;\n        }\n        this.#addIdToAriaOwns(id, textChildren[nodeIndex]);\n      }\n    }\n    for (const [element, isRemovable] of this.#waitingElements) {\n      this.addPointerInTextLayer(element, isRemovable);\n    }\n    this.#waitingElements.clear();\n  }\n  disable() {\n    if (!this.#enabled) {\n      return;\n    }\n    this.#waitingElements.clear();\n    this.#textChildren = null;\n    this.#enabled = false;\n  }\n  removePointerInTextLayer(element) {\n    if (!this.#enabled) {\n      this.#waitingElements.delete(element);\n      return;\n    }\n    const children = this.#textChildren;\n    if (!children || children.length === 0) {\n      return;\n    }\n    const {\n      id\n    } = element;\n    const nodeIndex = this.#textNodes.get(id);\n    if (nodeIndex === undefined) {\n      return;\n    }\n    const node = children[nodeIndex];\n    this.#textNodes.delete(id);\n    let owns = node.getAttribute(\"aria-owns\");\n    if (owns?.includes(id)) {\n      owns = owns.split(\" \").filter(x => x !== id).join(\" \");\n      if (owns) {\n        node.setAttribute(\"aria-owns\", owns);\n      } else {\n        node.removeAttribute(\"aria-owns\");\n        node.setAttribute(\"role\", \"presentation\");\n      }\n    }\n  }\n  #addIdToAriaOwns(id, node) {\n    const owns = node.getAttribute(\"aria-owns\");\n    if (!owns?.includes(id)) {\n      node.setAttribute(\"aria-owns\", owns ? `${owns} ${id}` : id);\n    }\n    node.removeAttribute(\"role\");\n  }\n  addPointerInTextLayer(element, isRemovable) {\n    const {\n      id\n    } = element;\n    if (!id) {\n      return null;\n    }\n    if (!this.#enabled) {\n      this.#waitingElements.set(element, isRemovable);\n      return null;\n    }\n    if (isRemovable) {\n      this.removePointerInTextLayer(element);\n    }\n    const children = this.#textChildren;\n    if (!children || children.length === 0) {\n      return null;\n    }\n    const index = binarySearchFirstItem(children, node => TextAccessibilityManager.#compareElementPositions(element, node) < 0);\n    const nodeIndex = Math.max(0, index - 1);\n    const child = children[nodeIndex];\n    this.#addIdToAriaOwns(id, child);\n    this.#textNodes.set(id, nodeIndex);\n    const parent = child.parentNode;\n    return parent?.classList.contains(\"markedContent\") ? parent.id : null;\n  }\n  moveElementInDOM(container, element, contentElement, isRemovable) {\n    const id = this.addPointerInTextLayer(contentElement, isRemovable);\n    if (!container.hasChildNodes()) {\n      container.append(element);\n      return id;\n    }\n    const children = Array.from(container.childNodes).filter(node => node !== element);\n    if (children.length === 0) {\n      return id;\n    }\n    const elementToCompare = contentElement || element;\n    const index = binarySearchFirstItem(children, node => TextAccessibilityManager.#compareElementPositions(elementToCompare, node) < 0);\n    if (index === 0) {\n      children[0].before(element);\n    } else {\n      children[index - 1].after(element);\n    }\n    return id;\n  }\n}\n\n;// CONCATENATED MODULE: ./web/text_highlighter.js\nclass TextHighlighter {\n  #eventAbortController = null;\n  constructor({\n    findController,\n    eventBus,\n    pageIndex\n  }) {\n    this.findController = findController;\n    this.matches = [];\n    this.eventBus = eventBus;\n    this.pageIdx = pageIndex;\n    this.textDivs = null;\n    this.textContentItemsStr = null;\n    this.enabled = false;\n  }\n  setTextMapping(divs, texts) {\n    this.textDivs = divs;\n    this.textContentItemsStr = texts;\n  }\n  enable() {\n    if (!this.textDivs || !this.textContentItemsStr) {\n      throw new Error(\"Text divs and strings have not been set.\");\n    }\n    if (this.enabled) {\n      throw new Error(\"TextHighlighter is already enabled.\");\n    }\n    this.enabled = true;\n    if (!this.#eventAbortController) {\n      this.#eventAbortController = new AbortController();\n      this.eventBus._on(\"updatetextlayermatches\", evt => {\n        if (evt.pageIndex === this.pageIdx || evt.pageIndex === -1) {\n          this._updateMatches();\n        }\n      }, {\n        signal: this.#eventAbortController.signal\n      });\n    }\n    this._updateMatches();\n  }\n  disable() {\n    if (!this.enabled) {\n      return;\n    }\n    this.enabled = false;\n    this.#eventAbortController?.abort();\n    this.#eventAbortController = null;\n    this._updateMatches(true);\n  }\n  _convertMatches(matches, matchesLength) {\n    if (!matches) {\n      return [];\n    }\n    const {\n      textContentItemsStr\n    } = this;\n    let i = 0,\n      iIndex = 0;\n    const end = textContentItemsStr.length - 1;\n    const result = [];\n    for (let m = 0, mm = matches.length; m < mm; m++) {\n      let matchIdx = matches[m];\n      while (i !== end && matchIdx >= iIndex + textContentItemsStr[i].length) {\n        iIndex += textContentItemsStr[i].length;\n        i++;\n      }\n      if (i === textContentItemsStr.length) {\n        console.error(\"Could not find a matching mapping\");\n      }\n      const match = {\n        begin: {\n          divIdx: i,\n          offset: matchIdx - iIndex\n        }\n      };\n      matchIdx += matchesLength[m];\n      while (i !== end && matchIdx > iIndex + textContentItemsStr[i].length) {\n        iIndex += textContentItemsStr[i].length;\n        i++;\n      }\n      match.end = {\n        divIdx: i,\n        offset: matchIdx - iIndex\n      };\n      result.push(match);\n    }\n    return result;\n  }\n  _renderMatches(matches) {\n    if (matches.length === 0) {\n      return;\n    }\n    const {\n      findController,\n      pageIdx\n    } = this;\n    const {\n      textContentItemsStr,\n      textDivs\n    } = this;\n    const isSelectedPage = pageIdx === findController.selected.pageIdx;\n    const selectedMatchIdx = findController.selected.matchIdx;\n    const highlightAll = findController.state.highlightAll;\n    let prevEnd = null;\n    const infinity = {\n      divIdx: -1,\n      offset: undefined\n    };\n    function beginText(begin, className) {\n      const divIdx = begin.divIdx;\n      textDivs[divIdx].textContent = \"\";\n      return appendTextToDiv(divIdx, 0, begin.offset, className);\n    }\n    function appendTextToDiv(divIdx, fromOffset, toOffset, className) {\n      let div = textDivs[divIdx];\n      if (div.nodeType === Node.TEXT_NODE) {\n        const span = document.createElement(\"span\");\n        div.before(span);\n        span.append(div);\n        textDivs[divIdx] = span;\n        div = span;\n      }\n      const content = textContentItemsStr[divIdx].substring(fromOffset, toOffset);\n      const node = document.createTextNode(content);\n      if (className) {\n        const span = document.createElement(\"span\");\n        span.className = `${className} appended`;\n        span.append(node);\n        div.append(span);\n        return className.includes(\"selected\") ? span.offsetLeft : 0;\n      }\n      div.append(node);\n      return 0;\n    }\n    let i0 = selectedMatchIdx,\n      i1 = i0 + 1;\n    if (highlightAll) {\n      i0 = 0;\n      i1 = matches.length;\n    } else if (!isSelectedPage) {\n      return;\n    }\n    let lastDivIdx = -1;\n    let lastOffset = -1;\n    for (let i = i0; i < i1; i++) {\n      const match = matches[i];\n      const begin = match.begin;\n      if (begin.divIdx === lastDivIdx && begin.offset === lastOffset) {\n        continue;\n      }\n      lastDivIdx = begin.divIdx;\n      lastOffset = begin.offset;\n      const end = match.end;\n      const isSelected = isSelectedPage && i === selectedMatchIdx;\n      const highlightSuffix = isSelected ? \" selected\" : \"\";\n      let selectedLeft = 0;\n      if (!prevEnd || begin.divIdx !== prevEnd.divIdx) {\n        if (prevEnd !== null) {\n          appendTextToDiv(prevEnd.divIdx, prevEnd.offset, infinity.offset);\n        }\n        beginText(begin);\n      } else {\n        appendTextToDiv(prevEnd.divIdx, prevEnd.offset, begin.offset);\n      }\n      if (begin.divIdx === end.divIdx) {\n        selectedLeft = appendTextToDiv(begin.divIdx, begin.offset, end.offset, \"highlight\" + highlightSuffix);\n      } else {\n        selectedLeft = appendTextToDiv(begin.divIdx, begin.offset, infinity.offset, \"highlight begin\" + highlightSuffix);\n        for (let n0 = begin.divIdx + 1, n1 = end.divIdx; n0 < n1; n0++) {\n          textDivs[n0].className = \"highlight middle\" + highlightSuffix;\n        }\n        beginText(end, \"highlight end\" + highlightSuffix);\n      }\n      prevEnd = end;\n      if (isSelected) {\n        findController.scrollMatchIntoView({\n          element: textDivs[begin.divIdx],\n          selectedLeft,\n          pageIndex: pageIdx,\n          matchIndex: selectedMatchIdx\n        });\n      }\n    }\n    if (prevEnd) {\n      appendTextToDiv(prevEnd.divIdx, prevEnd.offset, infinity.offset);\n    }\n  }\n  _updateMatches(reset = false) {\n    if (!this.enabled && !reset) {\n      return;\n    }\n    const {\n      findController,\n      matches,\n      pageIdx\n    } = this;\n    const {\n      textContentItemsStr,\n      textDivs\n    } = this;\n    let clearedUntilDivIdx = -1;\n    for (const match of matches) {\n      const begin = Math.max(clearedUntilDivIdx, match.begin.divIdx);\n      for (let n = begin, end = match.end.divIdx; n <= end; n++) {\n        const div = textDivs[n];\n        div.textContent = textContentItemsStr[n];\n        div.className = \"\";\n      }\n      clearedUntilDivIdx = match.end.divIdx + 1;\n    }\n    if (!findController?.highlightMatches || reset) {\n      return;\n    }\n    const pageMatches = findController.pageMatches[pageIdx] || null;\n    const pageMatchesLength = findController.pageMatchesLength[pageIdx] || null;\n    this.matches = this._convertMatches(pageMatches, pageMatchesLength);\n    this._renderMatches(this.matches);\n  }\n}\n\n;// CONCATENATED MODULE: ./web/text_layer_builder.js\n\n\nclass TextLayerBuilder {\n  #enablePermissions = false;\n  #onAppend = null;\n  #renderingDone = false;\n  #textLayer = null;\n  static #textLayers = new Map();\n  static #selectionChangeAbortController = null;\n  constructor({\n    pdfPage,\n    highlighter = null,\n    accessibilityManager = null,\n    enablePermissions = false,\n    onAppend = null\n  }) {\n    this.pdfPage = pdfPage;\n    this.highlighter = highlighter;\n    this.accessibilityManager = accessibilityManager;\n    this.#enablePermissions = enablePermissions === true;\n    this.#onAppend = onAppend;\n    this.div = document.createElement(\"div\");\n    this.div.tabIndex = 0;\n    this.div.className = \"textLayer\";\n  }\n  async render(viewport, textContentParams = null) {\n    if (this.#renderingDone && this.#textLayer) {\n      this.#textLayer.update({\n        viewport,\n        onBefore: this.hide.bind(this)\n      });\n      this.show();\n      return;\n    }\n    this.cancel();\n    this.#textLayer = new TextLayer({\n      textContentSource: this.pdfPage.streamTextContent(textContentParams || {\n        includeMarkedContent: true,\n        disableNormalization: true\n      }),\n      container: this.div,\n      viewport\n    });\n    const {\n      textDivs,\n      textContentItemsStr\n    } = this.#textLayer;\n    this.highlighter?.setTextMapping(textDivs, textContentItemsStr);\n    this.accessibilityManager?.setTextMapping(textDivs);\n    await this.#textLayer.render();\n    this.#renderingDone = true;\n    const endOfContent = document.createElement(\"div\");\n    endOfContent.className = \"endOfContent\";\n    this.div.append(endOfContent);\n    this.#bindMouse(endOfContent);\n    this.#onAppend?.(this.div);\n    this.highlighter?.enable();\n    this.accessibilityManager?.enable();\n  }\n  hide() {\n    if (!this.div.hidden && this.#renderingDone) {\n      this.highlighter?.disable();\n      this.div.hidden = true;\n    }\n  }\n  show() {\n    if (this.div.hidden && this.#renderingDone) {\n      this.div.hidden = false;\n      this.highlighter?.enable();\n    }\n  }\n  cancel() {\n    this.#textLayer?.cancel();\n    this.#textLayer = null;\n    this.highlighter?.disable();\n    this.accessibilityManager?.disable();\n    TextLayerBuilder.#removeGlobalSelectionListener(this.div);\n  }\n  #bindMouse(end) {\n    const {\n      div\n    } = this;\n    div.addEventListener(\"mousedown\", () => {\n      div.classList.add(\"selecting\");\n    });\n    div.addEventListener(\"copy\", event => {\n      if (!this.#enablePermissions) {\n        const selection = document.getSelection();\n        event.clipboardData.setData(\"text/plain\", removeNullCharacters(normalizeUnicode(selection.toString())));\n      }\n      event.preventDefault();\n      event.stopPropagation();\n    });\n    TextLayerBuilder.#textLayers.set(div, end);\n    TextLayerBuilder.#enableGlobalSelectionListener();\n  }\n  static #removeGlobalSelectionListener(textLayerDiv) {\n    this.#textLayers.delete(textLayerDiv);\n    if (this.#textLayers.size === 0) {\n      this.#selectionChangeAbortController?.abort();\n      this.#selectionChangeAbortController = null;\n    }\n  }\n  static #enableGlobalSelectionListener() {\n    if (this.#selectionChangeAbortController) {\n      return;\n    }\n    this.#selectionChangeAbortController = new AbortController();\n    const {\n      signal\n    } = this.#selectionChangeAbortController;\n    const reset = (end, textLayer) => {\n      textLayer.append(end);\n      end.style.width = \"\";\n      end.style.height = \"\";\n      textLayer.classList.remove(\"selecting\");\n    };\n    let isPointerDown = false;\n    document.addEventListener(\"pointerdown\", () => {\n      isPointerDown = true;\n    }, {\n      signal\n    });\n    document.addEventListener(\"pointerup\", () => {\n      isPointerDown = false;\n      this.#textLayers.forEach(reset);\n    }, {\n      signal\n    });\n    window.addEventListener(\"blur\", () => {\n      isPointerDown = false;\n      this.#textLayers.forEach(reset);\n    }, {\n      signal\n    });\n    document.addEventListener(\"keyup\", () => {\n      if (!isPointerDown) {\n        this.#textLayers.forEach(reset);\n      }\n    }, {\n      signal\n    });\n    var isFirefox, prevRange;\n    document.addEventListener(\"selectionchange\", () => {\n      const selection = document.getSelection();\n      if (selection.rangeCount === 0) {\n        this.#textLayers.forEach(reset);\n        return;\n      }\n      const activeTextLayers = new Set();\n      for (let i = 0; i < selection.rangeCount; i++) {\n        const range = selection.getRangeAt(i);\n        for (const textLayerDiv of this.#textLayers.keys()) {\n          if (!activeTextLayers.has(textLayerDiv) && range.intersectsNode(textLayerDiv)) {\n            activeTextLayers.add(textLayerDiv);\n          }\n        }\n      }\n      for (const [textLayerDiv, endDiv] of this.#textLayers) {\n        if (activeTextLayers.has(textLayerDiv)) {\n          textLayerDiv.classList.add(\"selecting\");\n        } else {\n          reset(endDiv, textLayerDiv);\n        }\n      }\n      isFirefox ??= getComputedStyle(this.#textLayers.values().next().value).getPropertyValue(\"-moz-user-select\") === \"none\";\n      if (isFirefox) {\n        return;\n      }\n      const range = selection.getRangeAt(0);\n      const modifyStart = prevRange && (range.compareBoundaryPoints(Range.END_TO_END, prevRange) === 0 || range.compareBoundaryPoints(Range.START_TO_END, prevRange) === 0);\n      let anchor = modifyStart ? range.startContainer : range.endContainer;\n      if (anchor.nodeType === Node.TEXT_NODE) {\n        anchor = anchor.parentNode;\n      }\n      const parentTextLayer = anchor.parentElement.closest(\".textLayer\");\n      const endDiv = this.#textLayers.get(parentTextLayer);\n      if (endDiv) {\n        endDiv.style.width = parentTextLayer.style.width;\n        endDiv.style.height = parentTextLayer.style.height;\n        anchor.parentElement.insertBefore(endDiv, modifyStart ? anchor : anchor.nextSibling);\n      }\n      prevRange = range.cloneRange();\n    }, {\n      signal\n    });\n  }\n}\n\n;// CONCATENATED MODULE: ./web/xfa_layer_builder.js\n\nclass XfaLayerBuilder {\n  constructor({\n    pdfPage,\n    annotationStorage = null,\n    linkService,\n    xfaHtml = null\n  }) {\n    this.pdfPage = pdfPage;\n    this.annotationStorage = annotationStorage;\n    this.linkService = linkService;\n    this.xfaHtml = xfaHtml;\n    this.div = null;\n    this._cancelled = false;\n  }\n  async render(viewport, intent = \"display\") {\n    if (intent === \"print\") {\n      const parameters = {\n        viewport: viewport.clone({\n          dontFlip: true\n        }),\n        div: this.div,\n        xfaHtml: this.xfaHtml,\n        annotationStorage: this.annotationStorage,\n        linkService: this.linkService,\n        intent\n      };\n      this.div = document.createElement(\"div\");\n      parameters.div = this.div;\n      return XfaLayer.render(parameters);\n    }\n    const xfaHtml = await this.pdfPage.getXfa();\n    if (this._cancelled || !xfaHtml) {\n      return {\n        textDivs: []\n      };\n    }\n    const parameters = {\n      viewport: viewport.clone({\n        dontFlip: true\n      }),\n      div: this.div,\n      xfaHtml,\n      annotationStorage: this.annotationStorage,\n      linkService: this.linkService,\n      intent\n    };\n    if (this.div) {\n      return XfaLayer.update(parameters);\n    }\n    this.div = document.createElement(\"div\");\n    parameters.div = this.div;\n    return XfaLayer.render(parameters);\n  }\n  cancel() {\n    this._cancelled = true;\n  }\n  hide() {\n    if (!this.div) {\n      return;\n    }\n    this.div.hidden = true;\n  }\n}\n\n;// CONCATENATED MODULE: ./web/pdf_page_view.js\n\n\n\n\n\n\n\n\n\n\n\n\n\nconst DEFAULT_LAYER_PROPERTIES = {\n  annotationEditorUIManager: null,\n  annotationStorage: null,\n  downloadManager: null,\n  enableScripting: false,\n  fieldObjectsPromise: null,\n  findController: null,\n  hasJSActionsPromise: null,\n  get linkService() {\n    return new SimpleLinkService();\n  }\n};\nconst LAYERS_ORDER = new Map([[\"canvasWrapper\", 0], [\"textLayer\", 1], [\"annotationLayer\", 2], [\"annotationEditorLayer\", 3], [\"xfaLayer\", 3]]);\nclass PDFPageView {\n  #annotationMode = AnnotationMode.ENABLE_FORMS;\n  #enableHWA = false;\n  #hasRestrictedScaling = false;\n  #isEditing = false;\n  #layerProperties = null;\n  #loadingId = null;\n  #previousRotation = null;\n  #renderError = null;\n  #renderingState = RenderingStates.INITIAL;\n  #textLayerMode = TextLayerMode.ENABLE;\n  #useThumbnailCanvas = {\n    directDrawing: true,\n    initialOptionalContent: true,\n    regularAnnotations: true\n  };\n  #viewportMap = new WeakMap();\n  #layers = [null, null, null, null];\n  constructor(options) {\n    const container = options.container;\n    const defaultViewport = options.defaultViewport;\n    this.id = options.id;\n    this.renderingId = \"page\" + this.id;\n    this.#layerProperties = options.layerProperties || DEFAULT_LAYER_PROPERTIES;\n    this.pdfPage = null;\n    this.pageLabel = null;\n    this.rotation = 0;\n    this.scale = options.scale || DEFAULT_SCALE;\n    this.viewport = defaultViewport;\n    this.pdfPageRotate = defaultViewport.rotation;\n    this._optionalContentConfigPromise = options.optionalContentConfigPromise || null;\n    this.#textLayerMode = options.textLayerMode ?? TextLayerMode.ENABLE;\n    this.#annotationMode = options.annotationMode ?? AnnotationMode.ENABLE_FORMS;\n    this.imageResourcesPath = options.imageResourcesPath || \"\";\n    this.maxCanvasPixels = options.maxCanvasPixels ?? AppOptions.get(\"maxCanvasPixels\");\n    this.pageColors = options.pageColors || null;\n    this.#enableHWA = options.enableHWA || false;\n    this.eventBus = options.eventBus;\n    this.renderingQueue = options.renderingQueue;\n    this.l10n = options.l10n;\n    this.l10n ||= new genericl10n_GenericL10n();\n    this.renderTask = null;\n    this.resume = null;\n    this._isStandalone = !this.renderingQueue?.hasViewer();\n    this._container = container;\n    this._annotationCanvasMap = null;\n    this.annotationLayer = null;\n    this.annotationEditorLayer = null;\n    this.textLayer = null;\n    this.zoomLayer = null;\n    this.xfaLayer = null;\n    this.structTreeLayer = null;\n    this.drawLayer = null;\n    const div = document.createElement(\"div\");\n    div.className = \"page\";\n    div.setAttribute(\"data-page-number\", this.id);\n    div.setAttribute(\"role\", \"region\");\n    div.setAttribute(\"data-l10n-id\", \"pdfjs-page-landmark\");\n    div.setAttribute(\"data-l10n-args\", JSON.stringify({\n      page: this.id\n    }));\n    this.div = div;\n    this.#setDimensions();\n    container?.append(div);\n    if (this._isStandalone) {\n      container?.style.setProperty(\"--scale-factor\", this.scale * PixelsPerInch.PDF_TO_CSS_UNITS);\n      const {\n        optionalContentConfigPromise\n      } = options;\n      if (optionalContentConfigPromise) {\n        optionalContentConfigPromise.then(optionalContentConfig => {\n          if (optionalContentConfigPromise !== this._optionalContentConfigPromise) {\n            return;\n          }\n          this.#useThumbnailCanvas.initialOptionalContent = optionalContentConfig.hasInitialVisibility;\n        });\n      }\n      if (!options.l10n) {\n        this.l10n.translate(this.div);\n      }\n    }\n  }\n  #addLayer(div, name) {\n    const pos = LAYERS_ORDER.get(name);\n    const oldDiv = this.#layers[pos];\n    this.#layers[pos] = div;\n    if (oldDiv) {\n      oldDiv.replaceWith(div);\n      return;\n    }\n    for (let i = pos - 1; i >= 0; i--) {\n      const layer = this.#layers[i];\n      if (layer) {\n        layer.after(div);\n        return;\n      }\n    }\n    this.div.prepend(div);\n  }\n  get renderingState() {\n    return this.#renderingState;\n  }\n  set renderingState(state) {\n    if (state === this.#renderingState) {\n      return;\n    }\n    this.#renderingState = state;\n    if (this.#loadingId) {\n      clearTimeout(this.#loadingId);\n      this.#loadingId = null;\n    }\n    switch (state) {\n      case RenderingStates.PAUSED:\n        this.div.classList.remove(\"loading\");\n        break;\n      case RenderingStates.RUNNING:\n        this.div.classList.add(\"loadingIcon\");\n        this.#loadingId = setTimeout(() => {\n          this.div.classList.add(\"loading\");\n          this.#loadingId = null;\n        }, 0);\n        break;\n      case RenderingStates.INITIAL:\n      case RenderingStates.FINISHED:\n        this.div.classList.remove(\"loadingIcon\", \"loading\");\n        break;\n    }\n  }\n  #setDimensions() {\n    const {\n      viewport\n    } = this;\n    if (this.pdfPage) {\n      if (this.#previousRotation === viewport.rotation) {\n        return;\n      }\n      this.#previousRotation = viewport.rotation;\n    }\n    setLayerDimensions(this.div, viewport, true, false);\n  }\n  setPdfPage(pdfPage) {\n    if (this._isStandalone && (this.pageColors?.foreground === \"CanvasText\" || this.pageColors?.background === \"Canvas\")) {\n      this._container?.style.setProperty(\"--hcm-highlight-filter\", pdfPage.filterFactory.addHighlightHCMFilter(\"highlight\", \"CanvasText\", \"Canvas\", \"HighlightText\", \"Highlight\"));\n      this._container?.style.setProperty(\"--hcm-highlight-selected-filter\", pdfPage.filterFactory.addHighlightHCMFilter(\"highlight_selected\", \"CanvasText\", \"Canvas\", \"HighlightText\", \"Highlight\"));\n    }\n    this.pdfPage = pdfPage;\n    this.pdfPageRotate = pdfPage.rotate;\n    const totalRotation = (this.rotation + this.pdfPageRotate) % 360;\n    this.viewport = pdfPage.getViewport({\n      scale: this.scale * PixelsPerInch.PDF_TO_CSS_UNITS,\n      rotation: totalRotation\n    });\n    this.#setDimensions();\n    this.reset();\n  }\n  destroy() {\n    this.reset();\n    this.pdfPage?.cleanup();\n  }\n  hasEditableAnnotations() {\n    return !!this.annotationLayer?.hasEditableAnnotations();\n  }\n  get _textHighlighter() {\n    return shadow(this, \"_textHighlighter\", new TextHighlighter({\n      pageIndex: this.id - 1,\n      eventBus: this.eventBus,\n      findController: this.#layerProperties.findController\n    }));\n  }\n  #dispatchLayerRendered(name, error) {\n    this.eventBus.dispatch(name, {\n      source: this,\n      pageNumber: this.id,\n      error\n    });\n  }\n  async #renderAnnotationLayer() {\n    let error = null;\n    try {\n      await this.annotationLayer.render(this.viewport, \"display\");\n    } catch (ex) {\n      console.error(`#renderAnnotationLayer: \"${ex}\".`);\n      error = ex;\n    } finally {\n      this.#dispatchLayerRendered(\"annotationlayerrendered\", error);\n    }\n  }\n  async #renderAnnotationEditorLayer() {\n    let error = null;\n    try {\n      await this.annotationEditorLayer.render(this.viewport, \"display\");\n    } catch (ex) {\n      console.error(`#renderAnnotationEditorLayer: \"${ex}\".`);\n      error = ex;\n    } finally {\n      this.#dispatchLayerRendered(\"annotationeditorlayerrendered\", error);\n    }\n  }\n  async #renderDrawLayer() {\n    try {\n      await this.drawLayer.render(\"display\");\n    } catch (ex) {\n      console.error(`#renderDrawLayer: \"${ex}\".`);\n    }\n  }\n  async #renderXfaLayer() {\n    let error = null;\n    try {\n      const result = await this.xfaLayer.render(this.viewport, \"display\");\n      if (result?.textDivs && this._textHighlighter) {\n        this.#buildXfaTextContentItems(result.textDivs);\n      }\n    } catch (ex) {\n      console.error(`#renderXfaLayer: \"${ex}\".`);\n      error = ex;\n    } finally {\n      if (this.xfaLayer?.div) {\n        this.l10n.pause();\n        this.#addLayer(this.xfaLayer.div, \"xfaLayer\");\n        this.l10n.resume();\n      }\n      this.#dispatchLayerRendered(\"xfalayerrendered\", error);\n    }\n  }\n  async #renderTextLayer() {\n    if (!this.textLayer) {\n      return;\n    }\n    let error = null;\n    try {\n      await this.textLayer.render(this.viewport);\n    } catch (ex) {\n      if (ex instanceof AbortException) {\n        return;\n      }\n      console.error(`#renderTextLayer: \"${ex}\".`);\n      error = ex;\n    }\n    this.#dispatchLayerRendered(\"textlayerrendered\", error);\n    this.#renderStructTreeLayer();\n  }\n  async #renderStructTreeLayer() {\n    if (!this.textLayer) {\n      return;\n    }\n    this.structTreeLayer ||= new StructTreeLayerBuilder();\n    const tree = await (!this.structTreeLayer.renderingDone ? this.pdfPage.getStructTree() : null);\n    const treeDom = this.structTreeLayer?.render(tree);\n    if (treeDom) {\n      this.l10n.pause();\n      this.canvas?.append(treeDom);\n      this.l10n.resume();\n    }\n    this.structTreeLayer?.show();\n  }\n  async #buildXfaTextContentItems(textDivs) {\n    const text = await this.pdfPage.getTextContent();\n    const items = [];\n    for (const item of text.items) {\n      items.push(item.str);\n    }\n    this._textHighlighter.setTextMapping(textDivs, items);\n    this._textHighlighter.enable();\n  }\n  _resetZoomLayer(removeFromDOM = false) {\n    if (!this.zoomLayer) {\n      return;\n    }\n    const zoomLayerCanvas = this.zoomLayer.firstChild;\n    this.#viewportMap.delete(zoomLayerCanvas);\n    zoomLayerCanvas.width = 0;\n    zoomLayerCanvas.height = 0;\n    if (removeFromDOM) {\n      this.zoomLayer.remove();\n    }\n    this.zoomLayer = null;\n  }\n  reset({\n    keepZoomLayer = false,\n    keepAnnotationLayer = false,\n    keepAnnotationEditorLayer = false,\n    keepXfaLayer = false,\n    keepTextLayer = false\n  } = {}) {\n    this.cancelRendering({\n      keepAnnotationLayer,\n      keepAnnotationEditorLayer,\n      keepXfaLayer,\n      keepTextLayer\n    });\n    this.renderingState = RenderingStates.INITIAL;\n    const div = this.div;\n    const childNodes = div.childNodes,\n      zoomLayerNode = keepZoomLayer && this.zoomLayer || null,\n      annotationLayerNode = keepAnnotationLayer && this.annotationLayer?.div || null,\n      annotationEditorLayerNode = keepAnnotationEditorLayer && this.annotationEditorLayer?.div || null,\n      xfaLayerNode = keepXfaLayer && this.xfaLayer?.div || null,\n      textLayerNode = keepTextLayer && this.textLayer?.div || null;\n    for (let i = childNodes.length - 1; i >= 0; i--) {\n      const node = childNodes[i];\n      switch (node) {\n        case zoomLayerNode:\n        case annotationLayerNode:\n        case annotationEditorLayerNode:\n        case xfaLayerNode:\n        case textLayerNode:\n          continue;\n      }\n      node.remove();\n      const layerIndex = this.#layers.indexOf(node);\n      if (layerIndex >= 0) {\n        this.#layers[layerIndex] = null;\n      }\n    }\n    div.removeAttribute(\"data-loaded\");\n    if (annotationLayerNode) {\n      this.annotationLayer.hide();\n    }\n    if (annotationEditorLayerNode) {\n      this.annotationEditorLayer.hide();\n    }\n    if (xfaLayerNode) {\n      this.xfaLayer.hide();\n    }\n    if (textLayerNode) {\n      this.textLayer.hide();\n    }\n    this.structTreeLayer?.hide();\n    if (!zoomLayerNode) {\n      if (this.canvas) {\n        this.#viewportMap.delete(this.canvas);\n        this.canvas.width = 0;\n        this.canvas.height = 0;\n        delete this.canvas;\n      }\n      this._resetZoomLayer();\n    }\n  }\n  toggleEditingMode(isEditing) {\n    if (!this.hasEditableAnnotations()) {\n      return;\n    }\n    this.#isEditing = isEditing;\n    this.reset({\n      keepZoomLayer: true,\n      keepAnnotationLayer: true,\n      keepAnnotationEditorLayer: true,\n      keepXfaLayer: true,\n      keepTextLayer: true\n    });\n  }\n  update({\n    scale = 0,\n    rotation = null,\n    optionalContentConfigPromise = null,\n    drawingDelay = -1\n  }) {\n    this.scale = scale || this.scale;\n    if (typeof rotation === \"number\") {\n      this.rotation = rotation;\n    }\n    if (optionalContentConfigPromise instanceof Promise) {\n      this._optionalContentConfigPromise = optionalContentConfigPromise;\n      optionalContentConfigPromise.then(optionalContentConfig => {\n        if (optionalContentConfigPromise !== this._optionalContentConfigPromise) {\n          return;\n        }\n        this.#useThumbnailCanvas.initialOptionalContent = optionalContentConfig.hasInitialVisibility;\n      });\n    }\n    this.#useThumbnailCanvas.directDrawing = true;\n    const totalRotation = (this.rotation + this.pdfPageRotate) % 360;\n    this.viewport = this.viewport.clone({\n      scale: this.scale * PixelsPerInch.PDF_TO_CSS_UNITS,\n      rotation: totalRotation\n    });\n    this.#setDimensions();\n    if (this._isStandalone) {\n      this._container?.style.setProperty(\"--scale-factor\", this.viewport.scale);\n    }\n    if (this.canvas) {\n      let onlyCssZoom = false;\n      if (this.#hasRestrictedScaling) {\n        if (this.maxCanvasPixels === 0) {\n          onlyCssZoom = true;\n        } else if (this.maxCanvasPixels > 0) {\n          const {\n            width,\n            height\n          } = this.viewport;\n          const {\n            sx,\n            sy\n          } = this.outputScale;\n          onlyCssZoom = (Math.floor(width) * sx | 0) * (Math.floor(height) * sy | 0) > this.maxCanvasPixels;\n        }\n      }\n      const postponeDrawing = drawingDelay >= 0 && drawingDelay < 1000;\n      if (postponeDrawing || onlyCssZoom) {\n        if (postponeDrawing && !onlyCssZoom && this.renderingState !== RenderingStates.FINISHED) {\n          this.cancelRendering({\n            keepZoomLayer: true,\n            keepAnnotationLayer: true,\n            keepAnnotationEditorLayer: true,\n            keepXfaLayer: true,\n            keepTextLayer: true,\n            cancelExtraDelay: drawingDelay\n          });\n          this.renderingState = RenderingStates.FINISHED;\n          this.#useThumbnailCanvas.directDrawing = false;\n        }\n        this.cssTransform({\n          target: this.canvas,\n          redrawAnnotationLayer: true,\n          redrawAnnotationEditorLayer: true,\n          redrawXfaLayer: true,\n          redrawTextLayer: !postponeDrawing,\n          hideTextLayer: postponeDrawing\n        });\n        if (postponeDrawing) {\n          return;\n        }\n        this.eventBus.dispatch(\"pagerendered\", {\n          source: this,\n          pageNumber: this.id,\n          cssTransform: true,\n          timestamp: performance.now(),\n          error: this.#renderError\n        });\n        return;\n      }\n      if (!this.zoomLayer && !this.canvas.hidden) {\n        this.zoomLayer = this.canvas.parentNode;\n        this.zoomLayer.style.position = \"absolute\";\n      }\n    }\n    if (this.zoomLayer) {\n      this.cssTransform({\n        target: this.zoomLayer.firstChild\n      });\n    }\n    this.reset({\n      keepZoomLayer: true,\n      keepAnnotationLayer: true,\n      keepAnnotationEditorLayer: true,\n      keepXfaLayer: true,\n      keepTextLayer: true\n    });\n  }\n  cancelRendering({\n    keepAnnotationLayer = false,\n    keepAnnotationEditorLayer = false,\n    keepXfaLayer = false,\n    keepTextLayer = false,\n    cancelExtraDelay = 0\n  } = {}) {\n    if (this.renderTask) {\n      this.renderTask.cancel(cancelExtraDelay);\n      this.renderTask = null;\n    }\n    this.resume = null;\n    if (this.textLayer && (!keepTextLayer || !this.textLayer.div)) {\n      this.textLayer.cancel();\n      this.textLayer = null;\n    }\n    if (this.structTreeLayer && !this.textLayer) {\n      this.structTreeLayer = null;\n    }\n    if (this.annotationLayer && (!keepAnnotationLayer || !this.annotationLayer.div)) {\n      this.annotationLayer.cancel();\n      this.annotationLayer = null;\n      this._annotationCanvasMap = null;\n    }\n    if (this.annotationEditorLayer && (!keepAnnotationEditorLayer || !this.annotationEditorLayer.div)) {\n      if (this.drawLayer) {\n        this.drawLayer.cancel();\n        this.drawLayer = null;\n      }\n      this.annotationEditorLayer.cancel();\n      this.annotationEditorLayer = null;\n    }\n    if (this.xfaLayer && (!keepXfaLayer || !this.xfaLayer.div)) {\n      this.xfaLayer.cancel();\n      this.xfaLayer = null;\n      this._textHighlighter?.disable();\n    }\n  }\n  cssTransform({\n    target,\n    redrawAnnotationLayer = false,\n    redrawAnnotationEditorLayer = false,\n    redrawXfaLayer = false,\n    redrawTextLayer = false,\n    hideTextLayer = false\n  }) {\n    if (!target.hasAttribute(\"zooming\")) {\n      target.setAttribute(\"zooming\", true);\n      const {\n        style\n      } = target;\n      style.width = style.height = \"\";\n    }\n    const originalViewport = this.#viewportMap.get(target);\n    if (this.viewport !== originalViewport) {\n      const relativeRotation = this.viewport.rotation - originalViewport.rotation;\n      const absRotation = Math.abs(relativeRotation);\n      let scaleX = 1,\n        scaleY = 1;\n      if (absRotation === 90 || absRotation === 270) {\n        const {\n          width,\n          height\n        } = this.viewport;\n        scaleX = height / width;\n        scaleY = width / height;\n      }\n      target.style.transform = `rotate(${relativeRotation}deg) scale(${scaleX}, ${scaleY})`;\n    }\n    if (redrawAnnotationLayer && this.annotationLayer) {\n      this.#renderAnnotationLayer();\n    }\n    if (redrawAnnotationEditorLayer && this.annotationEditorLayer) {\n      if (this.drawLayer) {\n        this.#renderDrawLayer();\n      }\n      this.#renderAnnotationEditorLayer();\n    }\n    if (redrawXfaLayer && this.xfaLayer) {\n      this.#renderXfaLayer();\n    }\n    if (this.textLayer) {\n      if (hideTextLayer) {\n        this.textLayer.hide();\n        this.structTreeLayer?.hide();\n      } else if (redrawTextLayer) {\n        this.#renderTextLayer();\n      }\n    }\n  }\n  get width() {\n    return this.viewport.width;\n  }\n  get height() {\n    return this.viewport.height;\n  }\n  getPagePoint(x, y) {\n    return this.viewport.convertToPdfPoint(x, y);\n  }\n  async #finishRenderTask(renderTask, error = null) {\n    if (renderTask === this.renderTask) {\n      this.renderTask = null;\n    }\n    if (error instanceof RenderingCancelledException) {\n      this.#renderError = null;\n      return;\n    }\n    this.#renderError = error;\n    this.renderingState = RenderingStates.FINISHED;\n    this._resetZoomLayer(true);\n    this.#useThumbnailCanvas.regularAnnotations = !renderTask.separateAnnots;\n    this.eventBus.dispatch(\"pagerendered\", {\n      source: this,\n      pageNumber: this.id,\n      cssTransform: false,\n      timestamp: performance.now(),\n      error: this.#renderError\n    });\n    if (error) {\n      throw error;\n    }\n  }\n  async draw() {\n    if (this.renderingState !== RenderingStates.INITIAL) {\n      console.error(\"Must be in new state before drawing\");\n      this.reset();\n    }\n    const {\n      div,\n      l10n,\n      pageColors,\n      pdfPage,\n      viewport\n    } = this;\n    if (!pdfPage) {\n      this.renderingState = RenderingStates.FINISHED;\n      throw new Error(\"pdfPage is not loaded\");\n    }\n    this.renderingState = RenderingStates.RUNNING;\n    const canvasWrapper = document.createElement(\"div\");\n    canvasWrapper.classList.add(\"canvasWrapper\");\n    this.#addLayer(canvasWrapper, \"canvasWrapper\");\n    if (!this.textLayer && this.#textLayerMode !== TextLayerMode.DISABLE && !pdfPage.isPureXfa) {\n      this._accessibilityManager ||= new TextAccessibilityManager();\n      this.textLayer = new TextLayerBuilder({\n        pdfPage,\n        highlighter: this._textHighlighter,\n        accessibilityManager: this._accessibilityManager,\n        enablePermissions: this.#textLayerMode === TextLayerMode.ENABLE_PERMISSIONS,\n        onAppend: textLayerDiv => {\n          this.l10n.pause();\n          this.#addLayer(textLayerDiv, \"textLayer\");\n          this.l10n.resume();\n        }\n      });\n    }\n    if (!this.annotationLayer && this.#annotationMode !== AnnotationMode.DISABLE) {\n      const {\n        annotationStorage,\n        annotationEditorUIManager,\n        downloadManager,\n        enableScripting,\n        fieldObjectsPromise,\n        hasJSActionsPromise,\n        linkService\n      } = this.#layerProperties;\n      this._annotationCanvasMap ||= new Map();\n      this.annotationLayer = new AnnotationLayerBuilder({\n        pdfPage,\n        annotationStorage,\n        imageResourcesPath: this.imageResourcesPath,\n        renderForms: this.#annotationMode === AnnotationMode.ENABLE_FORMS,\n        linkService,\n        downloadManager,\n        enableScripting,\n        hasJSActionsPromise,\n        fieldObjectsPromise,\n        annotationCanvasMap: this._annotationCanvasMap,\n        accessibilityManager: this._accessibilityManager,\n        annotationEditorUIManager,\n        onAppend: annotationLayerDiv => {\n          this.#addLayer(annotationLayerDiv, \"annotationLayer\");\n        }\n      });\n    }\n    const renderContinueCallback = cont => {\n      showCanvas?.(false);\n      if (this.renderingQueue && !this.renderingQueue.isHighestPriority(this)) {\n        this.renderingState = RenderingStates.PAUSED;\n        this.resume = () => {\n          this.renderingState = RenderingStates.RUNNING;\n          cont();\n        };\n        return;\n      }\n      cont();\n    };\n    const {\n      width,\n      height\n    } = viewport;\n    const canvas = document.createElement(\"canvas\");\n    canvas.setAttribute(\"role\", \"presentation\");\n    canvas.hidden = true;\n    const hasHCM = !!(pageColors?.background && pageColors?.foreground);\n    let showCanvas = isLastShow => {\n      if (!hasHCM || isLastShow) {\n        canvas.hidden = false;\n        showCanvas = null;\n      }\n    };\n    canvasWrapper.append(canvas);\n    this.canvas = canvas;\n    const ctx = canvas.getContext(\"2d\", {\n      alpha: false,\n      willReadFrequently: !this.#enableHWA\n    });\n    const outputScale = this.outputScale = new OutputScale();\n    if (this.maxCanvasPixels === 0) {\n      const invScale = 1 / this.scale;\n      outputScale.sx *= invScale;\n      outputScale.sy *= invScale;\n      this.#hasRestrictedScaling = true;\n    } else if (this.maxCanvasPixels > 0) {\n      const pixelsInViewport = width * height;\n      const maxScale = Math.sqrt(this.maxCanvasPixels / pixelsInViewport);\n      if (outputScale.sx > maxScale || outputScale.sy > maxScale) {\n        outputScale.sx = maxScale;\n        outputScale.sy = maxScale;\n        this.#hasRestrictedScaling = true;\n      } else {\n        this.#hasRestrictedScaling = false;\n      }\n    }\n    const sfx = approximateFraction(outputScale.sx);\n    const sfy = approximateFraction(outputScale.sy);\n    canvas.width = floorToDivide(width * outputScale.sx, sfx[0]);\n    canvas.height = floorToDivide(height * outputScale.sy, sfy[0]);\n    const {\n      style\n    } = canvas;\n    style.width = floorToDivide(width, sfx[1]) + \"px\";\n    style.height = floorToDivide(height, sfy[1]) + \"px\";\n    this.#viewportMap.set(canvas, viewport);\n    const transform = outputScale.scaled ? [outputScale.sx, 0, 0, outputScale.sy, 0, 0] : null;\n    const renderContext = {\n      canvasContext: ctx,\n      transform,\n      viewport,\n      annotationMode: this.#annotationMode,\n      optionalContentConfigPromise: this._optionalContentConfigPromise,\n      annotationCanvasMap: this._annotationCanvasMap,\n      pageColors,\n      isEditing: this.#isEditing\n    };\n    const renderTask = this.renderTask = pdfPage.render(renderContext);\n    renderTask.onContinue = renderContinueCallback;\n    const resultPromise = renderTask.promise.then(async () => {\n      showCanvas?.(true);\n      await this.#finishRenderTask(renderTask);\n      this.#renderTextLayer();\n      if (this.annotationLayer) {\n        await this.#renderAnnotationLayer();\n      }\n      const {\n        annotationEditorUIManager\n      } = this.#layerProperties;\n      if (!annotationEditorUIManager) {\n        return;\n      }\n      this.drawLayer ||= new DrawLayerBuilder({\n        pageIndex: this.id\n      });\n      await this.#renderDrawLayer();\n      this.drawLayer.setParent(canvasWrapper);\n      this.annotationEditorLayer ||= new AnnotationEditorLayerBuilder({\n        uiManager: annotationEditorUIManager,\n        pdfPage,\n        l10n,\n        accessibilityManager: this._accessibilityManager,\n        annotationLayer: this.annotationLayer?.annotationLayer,\n        textLayer: this.textLayer,\n        drawLayer: this.drawLayer.getDrawLayer(),\n        onAppend: annotationEditorLayerDiv => {\n          this.#addLayer(annotationEditorLayerDiv, \"annotationEditorLayer\");\n        }\n      });\n      this.#renderAnnotationEditorLayer();\n    }, error => {\n      if (!(error instanceof RenderingCancelledException)) {\n        showCanvas?.(true);\n      }\n      return this.#finishRenderTask(renderTask, error);\n    });\n    if (pdfPage.isPureXfa) {\n      if (!this.xfaLayer) {\n        const {\n          annotationStorage,\n          linkService\n        } = this.#layerProperties;\n        this.xfaLayer = new XfaLayerBuilder({\n          pdfPage,\n          annotationStorage,\n          linkService\n        });\n      }\n      this.#renderXfaLayer();\n    }\n    div.setAttribute(\"data-loaded\", true);\n    this.eventBus.dispatch(\"pagerender\", {\n      source: this,\n      pageNumber: this.id\n    });\n    return resultPromise;\n  }\n  setPageLabel(label) {\n    this.pageLabel = typeof label === \"string\" ? label : null;\n    this.div.setAttribute(\"data-l10n-args\", JSON.stringify({\n      page: this.pageLabel ?? this.id\n    }));\n    if (this.pageLabel !== null) {\n      this.div.setAttribute(\"data-page-label\", this.pageLabel);\n    } else {\n      this.div.removeAttribute(\"data-page-label\");\n    }\n  }\n  get thumbnailCanvas() {\n    const {\n      directDrawing,\n      initialOptionalContent,\n      regularAnnotations\n    } = this.#useThumbnailCanvas;\n    return directDrawing && initialOptionalContent && regularAnnotations ? this.canvas : null;\n  }\n}\n\n;// CONCATENATED MODULE: ./web/generic_scripting.js\n\nasync function docProperties(pdfDocument) {\n  const url = \"\",\n    baseUrl = url.split(\"#\", 1)[0];\n  let {\n    info,\n    metadata,\n    contentDispositionFilename,\n    contentLength\n  } = await pdfDocument.getMetadata();\n  if (!contentLength) {\n    const {\n      length\n    } = await pdfDocument.getDownloadInfo();\n    contentLength = length;\n  }\n  return {\n    ...info,\n    baseURL: baseUrl,\n    filesize: contentLength,\n    filename: contentDispositionFilename || getPdfFilenameFromUrl(url),\n    metadata: metadata?.getRaw(),\n    authors: metadata?.get(\"dc:creator\"),\n    numPages: pdfDocument.numPages,\n    URL: url\n  };\n}\nclass GenericScripting {\n  constructor(sandboxBundleSrc) {\n    this._ready = new Promise((resolve, reject) => {\n      const sandbox = import( /*webpackIgnore: true*/sandboxBundleSrc);\n      sandbox.then(pdfjsSandbox => {\n        resolve(pdfjsSandbox.QuickJSSandbox());\n      }).catch(reject);\n    });\n  }\n  async createSandbox(data) {\n    const sandbox = await this._ready;\n    sandbox.create(data);\n  }\n  async dispatchEventInSandbox(event) {\n    const sandbox = await this._ready;\n    setTimeout(() => sandbox.dispatchEvent(event), 0);\n  }\n  async destroySandbox() {\n    const sandbox = await this._ready;\n    sandbox.nukeSandbox();\n  }\n}\n\n;// CONCATENATED MODULE: ./web/pdf_scripting_manager.js\n\n\nclass PDFScriptingManager {\n  #closeCapability = null;\n  #destroyCapability = null;\n  #docProperties = null;\n  #eventAbortController = null;\n  #eventBus = null;\n  #externalServices = null;\n  #pdfDocument = null;\n  #pdfViewer = null;\n  #ready = false;\n  #scripting = null;\n  #willPrintCapability = null;\n  constructor({\n    eventBus,\n    externalServices = null,\n    docProperties = null\n  }) {\n    this.#eventBus = eventBus;\n    this.#externalServices = externalServices;\n    this.#docProperties = docProperties;\n  }\n  setViewer(pdfViewer) {\n    this.#pdfViewer = pdfViewer;\n  }\n  async setDocument(pdfDocument) {\n    if (this.#pdfDocument) {\n      await this.#destroyScripting();\n    }\n    this.#pdfDocument = pdfDocument;\n    if (!pdfDocument) {\n      return;\n    }\n    const [objects, calculationOrder, docActions] = await Promise.all([pdfDocument.getFieldObjects(), pdfDocument.getCalculationOrderIds(), pdfDocument.getJSActions()]);\n    if (!objects && !docActions) {\n      await this.#destroyScripting();\n      return;\n    }\n    if (pdfDocument !== this.#pdfDocument) {\n      return;\n    }\n    try {\n      this.#scripting = this.#initScripting();\n    } catch (error) {\n      console.error(`setDocument: \"${error.message}\".`);\n      await this.#destroyScripting();\n      return;\n    }\n    const eventBus = this.#eventBus;\n    this.#eventAbortController = new AbortController();\n    const {\n      signal\n    } = this.#eventAbortController;\n    eventBus._on(\"updatefromsandbox\", event => {\n      if (event?.source === window) {\n        this.#updateFromSandbox(event.detail);\n      }\n    }, {\n      signal\n    });\n    eventBus._on(\"dispatcheventinsandbox\", event => {\n      this.#scripting?.dispatchEventInSandbox(event.detail);\n    }, {\n      signal\n    });\n    eventBus._on(\"pagechanging\", ({\n      pageNumber,\n      previous\n    }) => {\n      if (pageNumber === previous) {\n        return;\n      }\n      this.#dispatchPageClose(previous);\n      this.#dispatchPageOpen(pageNumber);\n    }, {\n      signal\n    });\n    eventBus._on(\"pagerendered\", ({\n      pageNumber\n    }) => {\n      if (!this._pageOpenPending.has(pageNumber)) {\n        return;\n      }\n      if (pageNumber !== this.#pdfViewer.currentPageNumber) {\n        return;\n      }\n      this.#dispatchPageOpen(pageNumber);\n    }, {\n      signal\n    });\n    eventBus._on(\"pagesdestroy\", async () => {\n      await this.#dispatchPageClose(this.#pdfViewer.currentPageNumber);\n      await this.#scripting?.dispatchEventInSandbox({\n        id: \"doc\",\n        name: \"WillClose\"\n      });\n      this.#closeCapability?.resolve();\n    }, {\n      signal\n    });\n    try {\n      const docProperties = await this.#docProperties(pdfDocument);\n      if (pdfDocument !== this.#pdfDocument) {\n        return;\n      }\n      await this.#scripting.createSandbox({\n        objects,\n        calculationOrder,\n        appInfo: {\n          platform: navigator.platform,\n          language: navigator.language\n        },\n        docInfo: {\n          ...docProperties,\n          actions: docActions\n        }\n      });\n      eventBus.dispatch(\"sandboxcreated\", {\n        source: this\n      });\n    } catch (error) {\n      console.error(`setDocument: \"${error.message}\".`);\n      await this.#destroyScripting();\n      return;\n    }\n    await this.#scripting?.dispatchEventInSandbox({\n      id: \"doc\",\n      name: \"Open\"\n    });\n    await this.#dispatchPageOpen(this.#pdfViewer.currentPageNumber, true);\n    Promise.resolve().then(() => {\n      if (pdfDocument === this.#pdfDocument) {\n        this.#ready = true;\n      }\n    });\n  }\n  async dispatchWillSave() {\n    return this.#scripting?.dispatchEventInSandbox({\n      id: \"doc\",\n      name: \"WillSave\"\n    });\n  }\n  async dispatchDidSave() {\n    return this.#scripting?.dispatchEventInSandbox({\n      id: \"doc\",\n      name: \"DidSave\"\n    });\n  }\n  async dispatchWillPrint() {\n    if (!this.#scripting) {\n      return;\n    }\n    await this.#willPrintCapability?.promise;\n    this.#willPrintCapability = Promise.withResolvers();\n    try {\n      await this.#scripting.dispatchEventInSandbox({\n        id: \"doc\",\n        name: \"WillPrint\"\n      });\n    } catch (ex) {\n      this.#willPrintCapability.resolve();\n      this.#willPrintCapability = null;\n      throw ex;\n    }\n    await this.#willPrintCapability.promise;\n  }\n  async dispatchDidPrint() {\n    return this.#scripting?.dispatchEventInSandbox({\n      id: \"doc\",\n      name: \"DidPrint\"\n    });\n  }\n  get destroyPromise() {\n    return this.#destroyCapability?.promise || null;\n  }\n  get ready() {\n    return this.#ready;\n  }\n  get _pageOpenPending() {\n    return shadow(this, \"_pageOpenPending\", new Set());\n  }\n  get _visitedPages() {\n    return shadow(this, \"_visitedPages\", new Map());\n  }\n  async #updateFromSandbox(detail) {\n    const pdfViewer = this.#pdfViewer;\n    const isInPresentationMode = pdfViewer.isInPresentationMode || pdfViewer.isChangingPresentationMode;\n    const {\n      id,\n      siblings,\n      command,\n      value\n    } = detail;\n    if (!id) {\n      switch (command) {\n        case \"clear\":\n          console.clear();\n          break;\n        case \"error\":\n          console.error(value);\n          break;\n        case \"layout\":\n          if (!isInPresentationMode) {\n            const modes = apiPageLayoutToViewerModes(value);\n            pdfViewer.spreadMode = modes.spreadMode;\n          }\n          break;\n        case \"page-num\":\n          pdfViewer.currentPageNumber = value + 1;\n          break;\n        case \"print\":\n          await pdfViewer.pagesPromise;\n          this.#eventBus.dispatch(\"print\", {\n            source: this\n          });\n          break;\n        case \"println\":\n          console.log(value);\n          break;\n        case \"zoom\":\n          if (!isInPresentationMode) {\n            pdfViewer.currentScaleValue = value;\n          }\n          break;\n        case \"SaveAs\":\n          this.#eventBus.dispatch(\"download\", {\n            source: this\n          });\n          break;\n        case \"FirstPage\":\n          pdfViewer.currentPageNumber = 1;\n          break;\n        case \"LastPage\":\n          pdfViewer.currentPageNumber = pdfViewer.pagesCount;\n          break;\n        case \"NextPage\":\n          pdfViewer.nextPage();\n          break;\n        case \"PrevPage\":\n          pdfViewer.previousPage();\n          break;\n        case \"ZoomViewIn\":\n          if (!isInPresentationMode) {\n            pdfViewer.increaseScale();\n          }\n          break;\n        case \"ZoomViewOut\":\n          if (!isInPresentationMode) {\n            pdfViewer.decreaseScale();\n          }\n          break;\n        case \"WillPrintFinished\":\n          this.#willPrintCapability?.resolve();\n          this.#willPrintCapability = null;\n          break;\n      }\n      return;\n    }\n    if (isInPresentationMode && detail.focus) {\n      return;\n    }\n    delete detail.id;\n    delete detail.siblings;\n    const ids = siblings ? [id, ...siblings] : [id];\n    for (const elementId of ids) {\n      const element = document.querySelector(`[data-element-id=\"${elementId}\"]`);\n      if (element) {\n        element.dispatchEvent(new CustomEvent(\"updatefromsandbox\", {\n          detail\n        }));\n      } else {\n        this.#pdfDocument?.annotationStorage.setValue(elementId, detail);\n      }\n    }\n  }\n  async #dispatchPageOpen(pageNumber, initialize = false) {\n    const pdfDocument = this.#pdfDocument,\n      visitedPages = this._visitedPages;\n    if (initialize) {\n      this.#closeCapability = Promise.withResolvers();\n    }\n    if (!this.#closeCapability) {\n      return;\n    }\n    const pageView = this.#pdfViewer.getPageView(pageNumber - 1);\n    if (pageView?.renderingState !== RenderingStates.FINISHED) {\n      this._pageOpenPending.add(pageNumber);\n      return;\n    }\n    this._pageOpenPending.delete(pageNumber);\n    const actionsPromise = (async () => {\n      const actions = await (!visitedPages.has(pageNumber) ? pageView.pdfPage?.getJSActions() : null);\n      if (pdfDocument !== this.#pdfDocument) {\n        return;\n      }\n      await this.#scripting?.dispatchEventInSandbox({\n        id: \"page\",\n        name: \"PageOpen\",\n        pageNumber,\n        actions\n      });\n    })();\n    visitedPages.set(pageNumber, actionsPromise);\n  }\n  async #dispatchPageClose(pageNumber) {\n    const pdfDocument = this.#pdfDocument,\n      visitedPages = this._visitedPages;\n    if (!this.#closeCapability) {\n      return;\n    }\n    if (this._pageOpenPending.has(pageNumber)) {\n      return;\n    }\n    const actionsPromise = visitedPages.get(pageNumber);\n    if (!actionsPromise) {\n      return;\n    }\n    visitedPages.set(pageNumber, null);\n    await actionsPromise;\n    if (pdfDocument !== this.#pdfDocument) {\n      return;\n    }\n    await this.#scripting?.dispatchEventInSandbox({\n      id: \"page\",\n      name: \"PageClose\",\n      pageNumber\n    });\n  }\n  #initScripting() {\n    this.#destroyCapability = Promise.withResolvers();\n    if (this.#scripting) {\n      throw new Error(\"#initScripting: Scripting already exists.\");\n    }\n    return this.#externalServices.createScripting();\n  }\n  async #destroyScripting() {\n    if (!this.#scripting) {\n      this.#pdfDocument = null;\n      this.#destroyCapability?.resolve();\n      return;\n    }\n    if (this.#closeCapability) {\n      await Promise.race([this.#closeCapability.promise, new Promise(resolve => {\n        setTimeout(resolve, 1000);\n      })]).catch(() => {});\n      this.#closeCapability = null;\n    }\n    this.#pdfDocument = null;\n    try {\n      await this.#scripting.destroySandbox();\n    } catch {}\n    this.#willPrintCapability?.reject(new Error(\"Scripting destroyed.\"));\n    this.#willPrintCapability = null;\n    this.#eventAbortController?.abort();\n    this.#eventAbortController = null;\n    this._pageOpenPending.clear();\n    this._visitedPages.clear();\n    this.#scripting = null;\n    this.#ready = false;\n    this.#destroyCapability?.resolve();\n  }\n}\n\n;// CONCATENATED MODULE: ./web/pdf_scripting_manager.component.js\n\n\nclass PDFScriptingManagerComponents extends PDFScriptingManager {\n  constructor(options) {\n    if (!options.externalServices) {\n      window.addEventListener(\"updatefromsandbox\", event => {\n        options.eventBus.dispatch(\"updatefromsandbox\", {\n          source: window,\n          detail: event.detail\n        });\n      });\n    }\n    options.externalServices ||= {\n      createScripting: () => new GenericScripting(options.sandboxBundleSrc)\n    };\n    options.docProperties ||= pdfDocument => docProperties(pdfDocument);\n    super(options);\n  }\n}\n\n;// CONCATENATED MODULE: ./web/pdf_rendering_queue.js\n\n\nconst CLEANUP_TIMEOUT = 30000;\nclass PDFRenderingQueue {\n  constructor() {\n    this.pdfViewer = null;\n    this.pdfThumbnailViewer = null;\n    this.onIdle = null;\n    this.highestPriorityPage = null;\n    this.idleTimeout = null;\n    this.printing = false;\n    this.isThumbnailViewEnabled = false;\n    Object.defineProperty(this, \"hasViewer\", {\n      value: () => !!this.pdfViewer\n    });\n  }\n  setViewer(pdfViewer) {\n    this.pdfViewer = pdfViewer;\n  }\n  setThumbnailViewer(pdfThumbnailViewer) {\n    this.pdfThumbnailViewer = pdfThumbnailViewer;\n  }\n  isHighestPriority(view) {\n    return this.highestPriorityPage === view.renderingId;\n  }\n  renderHighestPriority(currentlyVisiblePages) {\n    if (this.idleTimeout) {\n      clearTimeout(this.idleTimeout);\n      this.idleTimeout = null;\n    }\n    if (this.pdfViewer.forceRendering(currentlyVisiblePages)) {\n      return;\n    }\n    if (this.isThumbnailViewEnabled && this.pdfThumbnailViewer?.forceRendering()) {\n      return;\n    }\n    if (this.printing) {\n      return;\n    }\n    if (this.onIdle) {\n      this.idleTimeout = setTimeout(this.onIdle.bind(this), CLEANUP_TIMEOUT);\n    }\n  }\n  getHighestPriority(visible, views, scrolledDown, preRenderExtra = false) {\n    const visibleViews = visible.views,\n      numVisible = visibleViews.length;\n    if (numVisible === 0) {\n      return null;\n    }\n    for (let i = 0; i < numVisible; i++) {\n      const view = visibleViews[i].view;\n      if (!this.isViewFinished(view)) {\n        return view;\n      }\n    }\n    const firstId = visible.first.id,\n      lastId = visible.last.id;\n    if (lastId - firstId + 1 > numVisible) {\n      const visibleIds = visible.ids;\n      for (let i = 1, ii = lastId - firstId; i < ii; i++) {\n        const holeId = scrolledDown ? firstId + i : lastId - i;\n        if (visibleIds.has(holeId)) {\n          continue;\n        }\n        const holeView = views[holeId - 1];\n        if (!this.isViewFinished(holeView)) {\n          return holeView;\n        }\n      }\n    }\n    let preRenderIndex = scrolledDown ? lastId : firstId - 2;\n    let preRenderView = views[preRenderIndex];\n    if (preRenderView && !this.isViewFinished(preRenderView)) {\n      return preRenderView;\n    }\n    if (preRenderExtra) {\n      preRenderIndex += scrolledDown ? 1 : -1;\n      preRenderView = views[preRenderIndex];\n      if (preRenderView && !this.isViewFinished(preRenderView)) {\n        return preRenderView;\n      }\n    }\n    return null;\n  }\n  isViewFinished(view) {\n    return view.renderingState === RenderingStates.FINISHED;\n  }\n  renderView(view) {\n    switch (view.renderingState) {\n      case RenderingStates.FINISHED:\n        return false;\n      case RenderingStates.PAUSED:\n        this.highestPriorityPage = view.renderingId;\n        view.resume();\n        break;\n      case RenderingStates.RUNNING:\n        this.highestPriorityPage = view.renderingId;\n        break;\n      case RenderingStates.INITIAL:\n        this.highestPriorityPage = view.renderingId;\n        view.draw().finally(() => {\n          this.renderHighestPriority();\n        }).catch(reason => {\n          if (reason instanceof RenderingCancelledException) {\n            return;\n          }\n          console.error(`renderView: \"${reason}\"`);\n        });\n        break;\n    }\n    return true;\n  }\n}\n\n;// CONCATENATED MODULE: ./web/pdf_viewer.js\n\n\n\n\n\n\nconst DEFAULT_CACHE_SIZE = 10;\nconst PagesCountLimit = {\n  FORCE_SCROLL_MODE_PAGE: 10000,\n  FORCE_LAZY_PAGE_INIT: 5000,\n  PAUSE_EAGER_PAGE_INIT: 250\n};\nfunction isValidAnnotationEditorMode(mode) {\n  return Object.values(AnnotationEditorType).includes(mode) && mode !== AnnotationEditorType.DISABLE;\n}\nclass PDFPageViewBuffer {\n  #buf = new Set();\n  #size = 0;\n  constructor(size) {\n    this.#size = size;\n  }\n  push(view) {\n    const buf = this.#buf;\n    if (buf.has(view)) {\n      buf.delete(view);\n    }\n    buf.add(view);\n    if (buf.size > this.#size) {\n      this.#destroyFirstView();\n    }\n  }\n  resize(newSize, idsToKeep = null) {\n    this.#size = newSize;\n    const buf = this.#buf;\n    if (idsToKeep) {\n      const ii = buf.size;\n      let i = 1;\n      for (const view of buf) {\n        if (idsToKeep.has(view.id)) {\n          buf.delete(view);\n          buf.add(view);\n        }\n        if (++i > ii) {\n          break;\n        }\n      }\n    }\n    while (buf.size > this.#size) {\n      this.#destroyFirstView();\n    }\n  }\n  has(view) {\n    return this.#buf.has(view);\n  }\n  [Symbol.iterator]() {\n    return this.#buf.keys();\n  }\n  #destroyFirstView() {\n    const firstView = this.#buf.keys().next().value;\n    firstView?.destroy();\n    this.#buf.delete(firstView);\n  }\n}\nclass PDFViewer {\n  #buffer = null;\n  #altTextManager = null;\n  #annotationEditorHighlightColors = null;\n  #annotationEditorMode = AnnotationEditorType.NONE;\n  #annotationEditorUIManager = null;\n  #annotationMode = AnnotationMode.ENABLE_FORMS;\n  #containerTopLeft = null;\n  #enableHWA = false;\n  #enableHighlightFloatingButton = false;\n  #enablePermissions = false;\n  #enableUpdatedAddImage = false;\n  #enableNewAltTextWhenAddingImage = false;\n  #eventAbortController = null;\n  #mlManager = null;\n  #onPageRenderedCallback = null;\n  #switchAnnotationEditorModeTimeoutId = null;\n  #getAllTextInProgress = false;\n  #hiddenCopyElement = null;\n  #interruptCopyCondition = false;\n  #previousContainerHeight = 0;\n  #resizeObserver = new ResizeObserver(this.#resizeObserverCallback.bind(this));\n  #scrollModePageState = null;\n  #scaleTimeoutId = null;\n  #textLayerMode = TextLayerMode.ENABLE;\n  constructor(options) {\n    const viewerVersion = \"4.6.82\";\n    if (version !== viewerVersion) {\n      throw new Error(`The API version \"${version}\" does not match the Viewer version \"${viewerVersion}\".`);\n    }\n    this.container = options.container;\n    this.viewer = options.viewer || options.container.firstElementChild;\n    if (this.container?.tagName !== \"DIV\" || this.viewer?.tagName !== \"DIV\") {\n      throw new Error(\"Invalid `container` and/or `viewer` option.\");\n    }\n    if (this.container.offsetParent && getComputedStyle(this.container).position !== \"absolute\") {\n      throw new Error(\"The `container` must be absolutely positioned.\");\n    }\n    this.#resizeObserver.observe(this.container);\n    this.eventBus = options.eventBus;\n    this.linkService = options.linkService || new SimpleLinkService();\n    this.downloadManager = options.downloadManager || null;\n    this.findController = options.findController || null;\n    this.#altTextManager = options.altTextManager || null;\n    if (this.findController) {\n      this.findController.onIsPageVisible = pageNumber => this._getVisiblePages().ids.has(pageNumber);\n    }\n    this._scriptingManager = options.scriptingManager || null;\n    this.#textLayerMode = options.textLayerMode ?? TextLayerMode.ENABLE;\n    this.#annotationMode = options.annotationMode ?? AnnotationMode.ENABLE_FORMS;\n    this.#annotationEditorMode = options.annotationEditorMode ?? AnnotationEditorType.NONE;\n    this.#annotationEditorHighlightColors = options.annotationEditorHighlightColors || null;\n    this.#enableHighlightFloatingButton = options.enableHighlightFloatingButton === true;\n    this.#enableUpdatedAddImage = options.enableUpdatedAddImage === true;\n    this.#enableNewAltTextWhenAddingImage = options.enableNewAltTextWhenAddingImage === true;\n    this.imageResourcesPath = options.imageResourcesPath || \"\";\n    this.enablePrintAutoRotate = options.enablePrintAutoRotate || false;\n    this.removePageBorders = options.removePageBorders || false;\n    this.maxCanvasPixels = options.maxCanvasPixels;\n    this.l10n = options.l10n;\n    this.l10n ||= new genericl10n_GenericL10n();\n    this.#enablePermissions = options.enablePermissions || false;\n    this.pageColors = options.pageColors || null;\n    this.#mlManager = options.mlManager || null;\n    this.#enableHWA = options.enableHWA || false;\n    this.defaultRenderingQueue = !options.renderingQueue;\n    if (this.defaultRenderingQueue) {\n      this.renderingQueue = new PDFRenderingQueue();\n      this.renderingQueue.setViewer(this);\n    } else {\n      this.renderingQueue = options.renderingQueue;\n    }\n    const {\n      abortSignal\n    } = options;\n    abortSignal?.addEventListener(\"abort\", () => {\n      this.#resizeObserver.disconnect();\n      this.#resizeObserver = null;\n    }, {\n      once: true\n    });\n    this.scroll = watchScroll(this.container, this._scrollUpdate.bind(this), abortSignal);\n    this.presentationModeState = PresentationModeState.UNKNOWN;\n    this._resetView();\n    if (this.removePageBorders) {\n      this.viewer.classList.add(\"removePageBorders\");\n    }\n    this.#updateContainerHeightCss();\n    this.eventBus._on(\"thumbnailrendered\", ({\n      pageNumber,\n      pdfPage\n    }) => {\n      const pageView = this._pages[pageNumber - 1];\n      if (!this.#buffer.has(pageView)) {\n        pdfPage?.cleanup();\n      }\n    });\n    if (!options.l10n) {\n      this.l10n.translate(this.container);\n    }\n  }\n  get pagesCount() {\n    return this._pages.length;\n  }\n  getPageView(index) {\n    return this._pages[index];\n  }\n  getCachedPageViews() {\n    return new Set(this.#buffer);\n  }\n  get pageViewsReady() {\n    return this._pages.every(pageView => pageView?.pdfPage);\n  }\n  get renderForms() {\n    return this.#annotationMode === AnnotationMode.ENABLE_FORMS;\n  }\n  get enableScripting() {\n    return !!this._scriptingManager;\n  }\n  get currentPageNumber() {\n    return this._currentPageNumber;\n  }\n  set currentPageNumber(val) {\n    if (!Number.isInteger(val)) {\n      throw new Error(\"Invalid page number.\");\n    }\n    if (!this.pdfDocument) {\n      return;\n    }\n    if (!this._setCurrentPageNumber(val, true)) {\n      console.error(`currentPageNumber: \"${val}\" is not a valid page.`);\n    }\n  }\n  _setCurrentPageNumber(val, resetCurrentPageView = false) {\n    if (this._currentPageNumber === val) {\n      if (resetCurrentPageView) {\n        this.#resetCurrentPageView();\n      }\n      return true;\n    }\n    if (!(0 < val && val <= this.pagesCount)) {\n      return false;\n    }\n    const previous = this._currentPageNumber;\n    this._currentPageNumber = val;\n    this.eventBus.dispatch(\"pagechanging\", {\n      source: this,\n      pageNumber: val,\n      pageLabel: this._pageLabels?.[val - 1] ?? null,\n      previous\n    });\n    if (resetCurrentPageView) {\n      this.#resetCurrentPageView();\n    }\n    return true;\n  }\n  get currentPageLabel() {\n    return this._pageLabels?.[this._currentPageNumber - 1] ?? null;\n  }\n  set currentPageLabel(val) {\n    if (!this.pdfDocument) {\n      return;\n    }\n    let page = val | 0;\n    if (this._pageLabels) {\n      const i = this._pageLabels.indexOf(val);\n      if (i >= 0) {\n        page = i + 1;\n      }\n    }\n    if (!this._setCurrentPageNumber(page, true)) {\n      console.error(`currentPageLabel: \"${val}\" is not a valid page.`);\n    }\n  }\n  get currentScale() {\n    return this._currentScale !== UNKNOWN_SCALE ? this._currentScale : DEFAULT_SCALE;\n  }\n  set currentScale(val) {\n    if (isNaN(val)) {\n      throw new Error(\"Invalid numeric scale.\");\n    }\n    if (!this.pdfDocument) {\n      return;\n    }\n    this.#setScale(val, {\n      noScroll: false\n    });\n  }\n  get currentScaleValue() {\n    return this._currentScaleValue;\n  }\n  set currentScaleValue(val) {\n    if (!this.pdfDocument) {\n      return;\n    }\n    this.#setScale(val, {\n      noScroll: false\n    });\n  }\n  get pagesRotation() {\n    return this._pagesRotation;\n  }\n  set pagesRotation(rotation) {\n    if (!isValidRotation(rotation)) {\n      throw new Error(\"Invalid pages rotation angle.\");\n    }\n    if (!this.pdfDocument) {\n      return;\n    }\n    rotation %= 360;\n    if (rotation < 0) {\n      rotation += 360;\n    }\n    if (this._pagesRotation === rotation) {\n      return;\n    }\n    this._pagesRotation = rotation;\n    const pageNumber = this._currentPageNumber;\n    this.refresh(true, {\n      rotation\n    });\n    if (this._currentScaleValue) {\n      this.#setScale(this._currentScaleValue, {\n        noScroll: true\n      });\n    }\n    this.eventBus.dispatch(\"rotationchanging\", {\n      source: this,\n      pagesRotation: rotation,\n      pageNumber\n    });\n    if (this.defaultRenderingQueue) {\n      this.update();\n    }\n  }\n  get firstPagePromise() {\n    return this.pdfDocument ? this._firstPageCapability.promise : null;\n  }\n  get onePageRendered() {\n    return this.pdfDocument ? this._onePageRenderedCapability.promise : null;\n  }\n  get pagesPromise() {\n    return this.pdfDocument ? this._pagesCapability.promise : null;\n  }\n  get _layerProperties() {\n    const self = this;\n    return shadow(this, \"_layerProperties\", {\n      get annotationEditorUIManager() {\n        return self.#annotationEditorUIManager;\n      },\n      get annotationStorage() {\n        return self.pdfDocument?.annotationStorage;\n      },\n      get downloadManager() {\n        return self.downloadManager;\n      },\n      get enableScripting() {\n        return !!self._scriptingManager;\n      },\n      get fieldObjectsPromise() {\n        return self.pdfDocument?.getFieldObjects();\n      },\n      get findController() {\n        return self.findController;\n      },\n      get hasJSActionsPromise() {\n        return self.pdfDocument?.hasJSActions();\n      },\n      get linkService() {\n        return self.linkService;\n      }\n    });\n  }\n  #initializePermissions(permissions) {\n    const params = {\n      annotationEditorMode: this.#annotationEditorMode,\n      annotationMode: this.#annotationMode,\n      textLayerMode: this.#textLayerMode\n    };\n    if (!permissions) {\n      return params;\n    }\n    if (!permissions.includes(PermissionFlag.COPY) && this.#textLayerMode === TextLayerMode.ENABLE) {\n      params.textLayerMode = TextLayerMode.ENABLE_PERMISSIONS;\n    }\n    if (!permissions.includes(PermissionFlag.MODIFY_CONTENTS)) {\n      params.annotationEditorMode = AnnotationEditorType.DISABLE;\n    }\n    if (!permissions.includes(PermissionFlag.MODIFY_ANNOTATIONS) && !permissions.includes(PermissionFlag.FILL_INTERACTIVE_FORMS) && this.#annotationMode === AnnotationMode.ENABLE_FORMS) {\n      params.annotationMode = AnnotationMode.ENABLE;\n    }\n    return params;\n  }\n  async #onePageRenderedOrForceFetch(signal) {\n    if (document.visibilityState === \"hidden\" || !this.container.offsetParent || this._getVisiblePages().views.length === 0) {\n      return;\n    }\n    const hiddenCapability = Promise.withResolvers();\n    function onVisibilityChange() {\n      if (document.visibilityState === \"hidden\") {\n        hiddenCapability.resolve();\n      }\n    }\n    document.addEventListener(\"visibilitychange\", onVisibilityChange, {\n      signal\n    });\n    await Promise.race([this._onePageRenderedCapability.promise, hiddenCapability.promise]);\n    document.removeEventListener(\"visibilitychange\", onVisibilityChange);\n  }\n  async getAllText() {\n    const texts = [];\n    const buffer = [];\n    for (let pageNum = 1, pagesCount = this.pdfDocument.numPages; pageNum <= pagesCount; ++pageNum) {\n      if (this.#interruptCopyCondition) {\n        return null;\n      }\n      buffer.length = 0;\n      const page = await this.pdfDocument.getPage(pageNum);\n      const {\n        items\n      } = await page.getTextContent();\n      for (const item of items) {\n        if (item.str) {\n          buffer.push(item.str);\n        }\n        if (item.hasEOL) {\n          buffer.push(\"\\n\");\n        }\n      }\n      texts.push(removeNullCharacters(buffer.join(\"\")));\n    }\n    return texts.join(\"\\n\");\n  }\n  #copyCallback(textLayerMode, event) {\n    const selection = document.getSelection();\n    const {\n      focusNode,\n      anchorNode\n    } = selection;\n    if (anchorNode && focusNode && selection.containsNode(this.#hiddenCopyElement)) {\n      if (this.#getAllTextInProgress || textLayerMode === TextLayerMode.ENABLE_PERMISSIONS) {\n        event.preventDefault();\n        event.stopPropagation();\n        return;\n      }\n      this.#getAllTextInProgress = true;\n      const {\n        classList\n      } = this.viewer;\n      classList.add(\"copyAll\");\n      const ac = new AbortController();\n      window.addEventListener(\"keydown\", ev => this.#interruptCopyCondition = ev.key === \"Escape\", {\n        signal: ac.signal\n      });\n      this.getAllText().then(async text => {\n        if (text !== null) {\n          await navigator.clipboard.writeText(text);\n        }\n      }).catch(reason => {\n        console.warn(`Something goes wrong when extracting the text: ${reason.message}`);\n      }).finally(() => {\n        this.#getAllTextInProgress = false;\n        this.#interruptCopyCondition = false;\n        ac.abort();\n        classList.remove(\"copyAll\");\n      });\n      event.preventDefault();\n      event.stopPropagation();\n    }\n  }\n  setDocument(pdfDocument) {\n    if (this.pdfDocument) {\n      this.eventBus.dispatch(\"pagesdestroy\", {\n        source: this\n      });\n      this._cancelRendering();\n      this._resetView();\n      this.findController?.setDocument(null);\n      this._scriptingManager?.setDocument(null);\n      this.#annotationEditorUIManager?.destroy();\n      this.#annotationEditorUIManager = null;\n    }\n    this.pdfDocument = pdfDocument;\n    if (!pdfDocument) {\n      return;\n    }\n    const pagesCount = pdfDocument.numPages;\n    const firstPagePromise = pdfDocument.getPage(1);\n    const optionalContentConfigPromise = pdfDocument.getOptionalContentConfig({\n      intent: \"display\"\n    });\n    const permissionsPromise = this.#enablePermissions ? pdfDocument.getPermissions() : Promise.resolve();\n    const {\n      eventBus,\n      pageColors,\n      viewer\n    } = this;\n    this.#eventAbortController = new AbortController();\n    const {\n      signal\n    } = this.#eventAbortController;\n    if (pagesCount > PagesCountLimit.FORCE_SCROLL_MODE_PAGE) {\n      console.warn(\"Forcing PAGE-scrolling for performance reasons, given the length of the document.\");\n      const mode = this._scrollMode = ScrollMode.PAGE;\n      eventBus.dispatch(\"scrollmodechanged\", {\n        source: this,\n        mode\n      });\n    }\n    this._pagesCapability.promise.then(() => {\n      eventBus.dispatch(\"pagesloaded\", {\n        source: this,\n        pagesCount\n      });\n    }, () => {});\n    const onBeforeDraw = evt => {\n      const pageView = this._pages[evt.pageNumber - 1];\n      if (!pageView) {\n        return;\n      }\n      this.#buffer.push(pageView);\n    };\n    eventBus._on(\"pagerender\", onBeforeDraw, {\n      signal\n    });\n    const onAfterDraw = evt => {\n      if (evt.cssTransform) {\n        return;\n      }\n      this._onePageRenderedCapability.resolve({\n        timestamp: evt.timestamp\n      });\n      eventBus._off(\"pagerendered\", onAfterDraw);\n    };\n    eventBus._on(\"pagerendered\", onAfterDraw, {\n      signal\n    });\n    Promise.all([firstPagePromise, permissionsPromise]).then(([firstPdfPage, permissions]) => {\n      if (pdfDocument !== this.pdfDocument) {\n        return;\n      }\n      this._firstPageCapability.resolve(firstPdfPage);\n      this._optionalContentConfigPromise = optionalContentConfigPromise;\n      const {\n        annotationEditorMode,\n        annotationMode,\n        textLayerMode\n      } = this.#initializePermissions(permissions);\n      if (textLayerMode !== TextLayerMode.DISABLE) {\n        const element = this.#hiddenCopyElement = document.createElement(\"div\");\n        element.id = \"hiddenCopyElement\";\n        viewer.before(element);\n      }\n      if (typeof AbortSignal.any === \"function\" && annotationEditorMode !== AnnotationEditorType.DISABLE) {\n        const mode = annotationEditorMode;\n        if (pdfDocument.isPureXfa) {\n          console.warn(\"Warning: XFA-editing is not implemented.\");\n        } else if (isValidAnnotationEditorMode(mode)) {\n          this.#annotationEditorUIManager = new AnnotationEditorUIManager(this.container, viewer, this.#altTextManager, eventBus, pdfDocument, pageColors, this.#annotationEditorHighlightColors, this.#enableHighlightFloatingButton, this.#enableUpdatedAddImage, this.#enableNewAltTextWhenAddingImage, this.#mlManager);\n          eventBus.dispatch(\"annotationeditoruimanager\", {\n            source: this,\n            uiManager: this.#annotationEditorUIManager\n          });\n          if (mode !== AnnotationEditorType.NONE) {\n            if (mode === AnnotationEditorType.STAMP) {\n              this.#mlManager?.loadModel(\"altText\");\n            }\n            this.#annotationEditorUIManager.updateMode(mode);\n          }\n        } else {\n          console.error(`Invalid AnnotationEditor mode: ${mode}`);\n        }\n      }\n      const viewerElement = this._scrollMode === ScrollMode.PAGE ? null : viewer;\n      const scale = this.currentScale;\n      const viewport = firstPdfPage.getViewport({\n        scale: scale * PixelsPerInch.PDF_TO_CSS_UNITS\n      });\n      viewer.style.setProperty(\"--scale-factor\", viewport.scale);\n      if (pageColors?.foreground === \"CanvasText\" || pageColors?.background === \"Canvas\") {\n        viewer.style.setProperty(\"--hcm-highlight-filter\", pdfDocument.filterFactory.addHighlightHCMFilter(\"highlight\", \"CanvasText\", \"Canvas\", \"HighlightText\", \"Highlight\"));\n        viewer.style.setProperty(\"--hcm-highlight-selected-filter\", pdfDocument.filterFactory.addHighlightHCMFilter(\"highlight_selected\", \"CanvasText\", \"Canvas\", \"HighlightText\", \"ButtonText\"));\n      }\n      for (let pageNum = 1; pageNum <= pagesCount; ++pageNum) {\n        const pageView = new PDFPageView({\n          container: viewerElement,\n          eventBus,\n          id: pageNum,\n          scale,\n          defaultViewport: viewport.clone(),\n          optionalContentConfigPromise,\n          renderingQueue: this.renderingQueue,\n          textLayerMode,\n          annotationMode,\n          imageResourcesPath: this.imageResourcesPath,\n          maxCanvasPixels: this.maxCanvasPixels,\n          pageColors,\n          l10n: this.l10n,\n          layerProperties: this._layerProperties,\n          enableHWA: this.#enableHWA\n        });\n        this._pages.push(pageView);\n      }\n      this._pages[0]?.setPdfPage(firstPdfPage);\n      if (this._scrollMode === ScrollMode.PAGE) {\n        this.#ensurePageViewVisible();\n      } else if (this._spreadMode !== SpreadMode.NONE) {\n        this._updateSpreadMode();\n      }\n      this.#onePageRenderedOrForceFetch(signal).then(async () => {\n        if (pdfDocument !== this.pdfDocument) {\n          return;\n        }\n        this.findController?.setDocument(pdfDocument);\n        this._scriptingManager?.setDocument(pdfDocument);\n        if (this.#hiddenCopyElement) {\n          document.addEventListener(\"copy\", this.#copyCallback.bind(this, textLayerMode), {\n            signal\n          });\n        }\n        if (this.#annotationEditorUIManager) {\n          eventBus.dispatch(\"annotationeditormodechanged\", {\n            source: this,\n            mode: this.#annotationEditorMode\n          });\n        }\n        if (pdfDocument.loadingParams.disableAutoFetch || pagesCount > PagesCountLimit.FORCE_LAZY_PAGE_INIT) {\n          this._pagesCapability.resolve();\n          return;\n        }\n        let getPagesLeft = pagesCount - 1;\n        if (getPagesLeft <= 0) {\n          this._pagesCapability.resolve();\n          return;\n        }\n        for (let pageNum = 2; pageNum <= pagesCount; ++pageNum) {\n          const promise = pdfDocument.getPage(pageNum).then(pdfPage => {\n            const pageView = this._pages[pageNum - 1];\n            if (!pageView.pdfPage) {\n              pageView.setPdfPage(pdfPage);\n            }\n            if (--getPagesLeft === 0) {\n              this._pagesCapability.resolve();\n            }\n          }, reason => {\n            console.error(`Unable to get page ${pageNum} to initialize viewer`, reason);\n            if (--getPagesLeft === 0) {\n              this._pagesCapability.resolve();\n            }\n          });\n          if (pageNum % PagesCountLimit.PAUSE_EAGER_PAGE_INIT === 0) {\n            await promise;\n          }\n        }\n      });\n      eventBus.dispatch(\"pagesinit\", {\n        source: this\n      });\n      pdfDocument.getMetadata().then(({\n        info\n      }) => {\n        if (pdfDocument !== this.pdfDocument) {\n          return;\n        }\n        if (info.Language) {\n          viewer.lang = info.Language;\n        }\n      });\n      if (this.defaultRenderingQueue) {\n        this.update();\n      }\n    }).catch(reason => {\n      console.error(\"Unable to initialize viewer\", reason);\n      this._pagesCapability.reject(reason);\n    });\n  }\n  setPageLabels(labels) {\n    if (!this.pdfDocument) {\n      return;\n    }\n    if (!labels) {\n      this._pageLabels = null;\n    } else if (!(Array.isArray(labels) && this.pdfDocument.numPages === labels.length)) {\n      this._pageLabels = null;\n      console.error(`setPageLabels: Invalid page labels.`);\n    } else {\n      this._pageLabels = labels;\n    }\n    for (let i = 0, ii = this._pages.length; i < ii; i++) {\n      this._pages[i].setPageLabel(this._pageLabels?.[i] ?? null);\n    }\n  }\n  _resetView() {\n    this._pages = [];\n    this._currentPageNumber = 1;\n    this._currentScale = UNKNOWN_SCALE;\n    this._currentScaleValue = null;\n    this._pageLabels = null;\n    this.#buffer = new PDFPageViewBuffer(DEFAULT_CACHE_SIZE);\n    this._location = null;\n    this._pagesRotation = 0;\n    this._optionalContentConfigPromise = null;\n    this._firstPageCapability = Promise.withResolvers();\n    this._onePageRenderedCapability = Promise.withResolvers();\n    this._pagesCapability = Promise.withResolvers();\n    this._scrollMode = ScrollMode.VERTICAL;\n    this._previousScrollMode = ScrollMode.UNKNOWN;\n    this._spreadMode = SpreadMode.NONE;\n    this.#scrollModePageState = {\n      previousPageNumber: 1,\n      scrollDown: true,\n      pages: []\n    };\n    this.#eventAbortController?.abort();\n    this.#eventAbortController = null;\n    this.viewer.textContent = \"\";\n    this._updateScrollMode();\n    this.viewer.removeAttribute(\"lang\");\n    this.#hiddenCopyElement?.remove();\n    this.#hiddenCopyElement = null;\n    this.#cleanupSwitchAnnotationEditorMode();\n  }\n  #ensurePageViewVisible() {\n    if (this._scrollMode !== ScrollMode.PAGE) {\n      throw new Error(\"#ensurePageViewVisible: Invalid scrollMode value.\");\n    }\n    const pageNumber = this._currentPageNumber,\n      state = this.#scrollModePageState,\n      viewer = this.viewer;\n    viewer.textContent = \"\";\n    state.pages.length = 0;\n    if (this._spreadMode === SpreadMode.NONE && !this.isInPresentationMode) {\n      const pageView = this._pages[pageNumber - 1];\n      viewer.append(pageView.div);\n      state.pages.push(pageView);\n    } else {\n      const pageIndexSet = new Set(),\n        parity = this._spreadMode - 1;\n      if (parity === -1) {\n        pageIndexSet.add(pageNumber - 1);\n      } else if (pageNumber % 2 !== parity) {\n        pageIndexSet.add(pageNumber - 1);\n        pageIndexSet.add(pageNumber);\n      } else {\n        pageIndexSet.add(pageNumber - 2);\n        pageIndexSet.add(pageNumber - 1);\n      }\n      const spread = document.createElement(\"div\");\n      spread.className = \"spread\";\n      if (this.isInPresentationMode) {\n        const dummyPage = document.createElement(\"div\");\n        dummyPage.className = \"dummyPage\";\n        spread.append(dummyPage);\n      }\n      for (const i of pageIndexSet) {\n        const pageView = this._pages[i];\n        if (!pageView) {\n          continue;\n        }\n        spread.append(pageView.div);\n        state.pages.push(pageView);\n      }\n      viewer.append(spread);\n    }\n    state.scrollDown = pageNumber >= state.previousPageNumber;\n    state.previousPageNumber = pageNumber;\n  }\n  _scrollUpdate() {\n    if (this.pagesCount === 0) {\n      return;\n    }\n    this.update();\n  }\n  #scrollIntoView(pageView, pageSpot = null) {\n    const {\n      div,\n      id\n    } = pageView;\n    if (this._currentPageNumber !== id) {\n      this._setCurrentPageNumber(id);\n    }\n    if (this._scrollMode === ScrollMode.PAGE) {\n      this.#ensurePageViewVisible();\n      this.update();\n    }\n    if (!pageSpot && !this.isInPresentationMode) {\n      const left = div.offsetLeft + div.clientLeft,\n        right = left + div.clientWidth;\n      const {\n        scrollLeft,\n        clientWidth\n      } = this.container;\n      if (this._scrollMode === ScrollMode.HORIZONTAL || left < scrollLeft || right > scrollLeft + clientWidth) {\n        pageSpot = {\n          left: 0,\n          top: 0\n        };\n      }\n    }\n    scrollIntoView(div, pageSpot);\n    if (!this._currentScaleValue && this._location) {\n      this._location = null;\n    }\n  }\n  #isSameScale(newScale) {\n    return newScale === this._currentScale || Math.abs(newScale - this._currentScale) < 1e-15;\n  }\n  #setScaleUpdatePages(newScale, newValue, {\n    noScroll = false,\n    preset = false,\n    drawingDelay = -1,\n    origin = null\n  }) {\n    this._currentScaleValue = newValue.toString();\n    if (this.#isSameScale(newScale)) {\n      if (preset) {\n        this.eventBus.dispatch(\"scalechanging\", {\n          source: this,\n          scale: newScale,\n          presetValue: newValue\n        });\n      }\n      return;\n    }\n    this.viewer.style.setProperty(\"--scale-factor\", newScale * PixelsPerInch.PDF_TO_CSS_UNITS);\n    const postponeDrawing = drawingDelay >= 0 && drawingDelay < 1000;\n    this.refresh(true, {\n      scale: newScale,\n      drawingDelay: postponeDrawing ? drawingDelay : -1\n    });\n    if (postponeDrawing) {\n      this.#scaleTimeoutId = setTimeout(() => {\n        this.#scaleTimeoutId = null;\n        this.refresh();\n      }, drawingDelay);\n    }\n    const previousScale = this._currentScale;\n    this._currentScale = newScale;\n    if (!noScroll) {\n      let page = this._currentPageNumber,\n        dest;\n      if (this._location && !(this.isInPresentationMode || this.isChangingPresentationMode)) {\n        page = this._location.pageNumber;\n        dest = [null, {\n          name: \"XYZ\"\n        }, this._location.left, this._location.top, null];\n      }\n      this.scrollPageIntoView({\n        pageNumber: page,\n        destArray: dest,\n        allowNegativeOffset: true\n      });\n      if (Array.isArray(origin)) {\n        const scaleDiff = newScale / previousScale - 1;\n        const [top, left] = this.containerTopLeft;\n        this.container.scrollLeft += (origin[0] - left) * scaleDiff;\n        this.container.scrollTop += (origin[1] - top) * scaleDiff;\n      }\n    }\n    this.eventBus.dispatch(\"scalechanging\", {\n      source: this,\n      scale: newScale,\n      presetValue: preset ? newValue : undefined\n    });\n    if (this.defaultRenderingQueue) {\n      this.update();\n    }\n  }\n  get #pageWidthScaleFactor() {\n    if (this._spreadMode !== SpreadMode.NONE && this._scrollMode !== ScrollMode.HORIZONTAL) {\n      return 2;\n    }\n    return 1;\n  }\n  #setScale(value, options) {\n    let scale = parseFloat(value);\n    if (scale > 0) {\n      options.preset = false;\n      this.#setScaleUpdatePages(scale, value, options);\n    } else {\n      const currentPage = this._pages[this._currentPageNumber - 1];\n      if (!currentPage) {\n        return;\n      }\n      let hPadding = SCROLLBAR_PADDING,\n        vPadding = VERTICAL_PADDING;\n      if (this.isInPresentationMode) {\n        hPadding = vPadding = 4;\n        if (this._spreadMode !== SpreadMode.NONE) {\n          hPadding *= 2;\n        }\n      } else if (this.removePageBorders) {\n        hPadding = vPadding = 0;\n      } else if (this._scrollMode === ScrollMode.HORIZONTAL) {\n        [hPadding, vPadding] = [vPadding, hPadding];\n      }\n      const pageWidthScale = (this.container.clientWidth - hPadding) / currentPage.width * currentPage.scale / this.#pageWidthScaleFactor;\n      const pageHeightScale = (this.container.clientHeight - vPadding) / currentPage.height * currentPage.scale;\n      switch (value) {\n        case \"page-actual\":\n          scale = 1;\n          break;\n        case \"page-width\":\n          scale = pageWidthScale;\n          break;\n        case \"page-height\":\n          scale = pageHeightScale;\n          break;\n        case \"page-fit\":\n          scale = Math.min(pageWidthScale, pageHeightScale);\n          break;\n        case \"auto\":\n          const horizontalScale = isPortraitOrientation(currentPage) ? pageWidthScale : Math.min(pageHeightScale, pageWidthScale);\n          scale = Math.min(MAX_AUTO_SCALE, horizontalScale);\n          break;\n        default:\n          console.error(`#setScale: \"${value}\" is an unknown zoom value.`);\n          return;\n      }\n      options.preset = true;\n      this.#setScaleUpdatePages(scale, value, options);\n    }\n  }\n  #resetCurrentPageView() {\n    const pageView = this._pages[this._currentPageNumber - 1];\n    if (this.isInPresentationMode) {\n      this.#setScale(this._currentScaleValue, {\n        noScroll: true\n      });\n    }\n    this.#scrollIntoView(pageView);\n  }\n  pageLabelToPageNumber(label) {\n    if (!this._pageLabels) {\n      return null;\n    }\n    const i = this._pageLabels.indexOf(label);\n    if (i < 0) {\n      return null;\n    }\n    return i + 1;\n  }\n  scrollPageIntoView({\n    pageNumber,\n    destArray = null,\n    allowNegativeOffset = false,\n    ignoreDestinationZoom = false\n  }) {\n    if (!this.pdfDocument) {\n      return;\n    }\n    const pageView = Number.isInteger(pageNumber) && this._pages[pageNumber - 1];\n    if (!pageView) {\n      console.error(`scrollPageIntoView: \"${pageNumber}\" is not a valid pageNumber parameter.`);\n      return;\n    }\n    if (this.isInPresentationMode || !destArray) {\n      this._setCurrentPageNumber(pageNumber, true);\n      return;\n    }\n    let x = 0,\n      y = 0;\n    let width = 0,\n      height = 0,\n      widthScale,\n      heightScale;\n    const changeOrientation = pageView.rotation % 180 !== 0;\n    const pageWidth = (changeOrientation ? pageView.height : pageView.width) / pageView.scale / PixelsPerInch.PDF_TO_CSS_UNITS;\n    const pageHeight = (changeOrientation ? pageView.width : pageView.height) / pageView.scale / PixelsPerInch.PDF_TO_CSS_UNITS;\n    let scale = 0;\n    switch (destArray[1].name) {\n      case \"XYZ\":\n        x = destArray[2];\n        y = destArray[3];\n        scale = destArray[4];\n        x = x !== null ? x : 0;\n        y = y !== null ? y : pageHeight;\n        break;\n      case \"Fit\":\n      case \"FitB\":\n        scale = \"page-fit\";\n        break;\n      case \"FitH\":\n      case \"FitBH\":\n        y = destArray[2];\n        scale = \"page-width\";\n        if (y === null && this._location) {\n          x = this._location.left;\n          y = this._location.top;\n        } else if (typeof y !== \"number\" || y < 0) {\n          y = pageHeight;\n        }\n        break;\n      case \"FitV\":\n      case \"FitBV\":\n        x = destArray[2];\n        width = pageWidth;\n        height = pageHeight;\n        scale = \"page-height\";\n        break;\n      case \"FitR\":\n        x = destArray[2];\n        y = destArray[3];\n        width = destArray[4] - x;\n        height = destArray[5] - y;\n        let hPadding = SCROLLBAR_PADDING,\n          vPadding = VERTICAL_PADDING;\n        if (this.removePageBorders) {\n          hPadding = vPadding = 0;\n        }\n        widthScale = (this.container.clientWidth - hPadding) / width / PixelsPerInch.PDF_TO_CSS_UNITS;\n        heightScale = (this.container.clientHeight - vPadding) / height / PixelsPerInch.PDF_TO_CSS_UNITS;\n        scale = Math.min(Math.abs(widthScale), Math.abs(heightScale));\n        break;\n      default:\n        console.error(`scrollPageIntoView: \"${destArray[1].name}\" is not a valid destination type.`);\n        return;\n    }\n    if (!ignoreDestinationZoom) {\n      if (scale && scale !== this._currentScale) {\n        this.currentScaleValue = scale;\n      } else if (this._currentScale === UNKNOWN_SCALE) {\n        this.currentScaleValue = DEFAULT_SCALE_VALUE;\n      }\n    }\n    if (scale === \"page-fit\" && !destArray[4]) {\n      this.#scrollIntoView(pageView);\n      return;\n    }\n    const boundingRect = [pageView.viewport.convertToViewportPoint(x, y), pageView.viewport.convertToViewportPoint(x + width, y + height)];\n    let left = Math.min(boundingRect[0][0], boundingRect[1][0]);\n    let top = Math.min(boundingRect[0][1], boundingRect[1][1]);\n    if (!allowNegativeOffset) {\n      left = Math.max(left, 0);\n      top = Math.max(top, 0);\n    }\n    this.#scrollIntoView(pageView, {\n      left,\n      top\n    });\n  }\n  _updateLocation(firstPage) {\n    const currentScale = this._currentScale;\n    const currentScaleValue = this._currentScaleValue;\n    const normalizedScaleValue = parseFloat(currentScaleValue) === currentScale ? Math.round(currentScale * 10000) / 100 : currentScaleValue;\n    const pageNumber = firstPage.id;\n    const currentPageView = this._pages[pageNumber - 1];\n    const container = this.container;\n    const topLeft = currentPageView.getPagePoint(container.scrollLeft - firstPage.x, container.scrollTop - firstPage.y);\n    const intLeft = Math.round(topLeft[0]);\n    const intTop = Math.round(topLeft[1]);\n    let pdfOpenParams = `#page=${pageNumber}`;\n    if (!this.isInPresentationMode) {\n      pdfOpenParams += `&zoom=${normalizedScaleValue},${intLeft},${intTop}`;\n    }\n    this._location = {\n      pageNumber,\n      scale: normalizedScaleValue,\n      top: intTop,\n      left: intLeft,\n      rotation: this._pagesRotation,\n      pdfOpenParams\n    };\n  }\n  update() {\n    const visible = this._getVisiblePages();\n    const visiblePages = visible.views,\n      numVisiblePages = visiblePages.length;\n    if (numVisiblePages === 0) {\n      return;\n    }\n    const newCacheSize = Math.max(DEFAULT_CACHE_SIZE, 2 * numVisiblePages + 1);\n    this.#buffer.resize(newCacheSize, visible.ids);\n    this.renderingQueue.renderHighestPriority(visible);\n    const isSimpleLayout = this._spreadMode === SpreadMode.NONE && (this._scrollMode === ScrollMode.PAGE || this._scrollMode === ScrollMode.VERTICAL);\n    const currentId = this._currentPageNumber;\n    let stillFullyVisible = false;\n    for (const page of visiblePages) {\n      if (page.percent < 100) {\n        break;\n      }\n      if (page.id === currentId && isSimpleLayout) {\n        stillFullyVisible = true;\n        break;\n      }\n    }\n    this._setCurrentPageNumber(stillFullyVisible ? currentId : visiblePages[0].id);\n    this._updateLocation(visible.first);\n    this.eventBus.dispatch(\"updateviewarea\", {\n      source: this,\n      location: this._location\n    });\n  }\n  #switchToEditAnnotationMode() {\n    const visible = this._getVisiblePages();\n    const pagesToRefresh = [];\n    const {\n      ids,\n      views\n    } = visible;\n    for (const page of views) {\n      const {\n        view\n      } = page;\n      if (!view.hasEditableAnnotations()) {\n        ids.delete(view.id);\n        continue;\n      }\n      pagesToRefresh.push(page);\n    }\n    if (pagesToRefresh.length === 0) {\n      return null;\n    }\n    this.renderingQueue.renderHighestPriority({\n      first: pagesToRefresh[0],\n      last: pagesToRefresh.at(-1),\n      views: pagesToRefresh,\n      ids\n    });\n    return ids;\n  }\n  containsElement(element) {\n    return this.container.contains(element);\n  }\n  focus() {\n    this.container.focus();\n  }\n  get _isContainerRtl() {\n    return getComputedStyle(this.container).direction === \"rtl\";\n  }\n  get isInPresentationMode() {\n    return this.presentationModeState === PresentationModeState.FULLSCREEN;\n  }\n  get isChangingPresentationMode() {\n    return this.presentationModeState === PresentationModeState.CHANGING;\n  }\n  get isHorizontalScrollbarEnabled() {\n    return this.isInPresentationMode ? false : this.container.scrollWidth > this.container.clientWidth;\n  }\n  get isVerticalScrollbarEnabled() {\n    return this.isInPresentationMode ? false : this.container.scrollHeight > this.container.clientHeight;\n  }\n  _getVisiblePages() {\n    const views = this._scrollMode === ScrollMode.PAGE ? this.#scrollModePageState.pages : this._pages,\n      horizontal = this._scrollMode === ScrollMode.HORIZONTAL,\n      rtl = horizontal && this._isContainerRtl;\n    return getVisibleElements({\n      scrollEl: this.container,\n      views,\n      sortByVisibility: true,\n      horizontal,\n      rtl\n    });\n  }\n  cleanup() {\n    for (const pageView of this._pages) {\n      if (pageView.renderingState !== RenderingStates.FINISHED) {\n        pageView.reset();\n      }\n    }\n  }\n  _cancelRendering() {\n    for (const pageView of this._pages) {\n      pageView.cancelRendering();\n    }\n  }\n  async #ensurePdfPageLoaded(pageView) {\n    if (pageView.pdfPage) {\n      return pageView.pdfPage;\n    }\n    try {\n      const pdfPage = await this.pdfDocument.getPage(pageView.id);\n      if (!pageView.pdfPage) {\n        pageView.setPdfPage(pdfPage);\n      }\n      return pdfPage;\n    } catch (reason) {\n      console.error(\"Unable to get page for page view\", reason);\n      return null;\n    }\n  }\n  #getScrollAhead(visible) {\n    if (visible.first?.id === 1) {\n      return true;\n    } else if (visible.last?.id === this.pagesCount) {\n      return false;\n    }\n    switch (this._scrollMode) {\n      case ScrollMode.PAGE:\n        return this.#scrollModePageState.scrollDown;\n      case ScrollMode.HORIZONTAL:\n        return this.scroll.right;\n    }\n    return this.scroll.down;\n  }\n  forceRendering(currentlyVisiblePages) {\n    const visiblePages = currentlyVisiblePages || this._getVisiblePages();\n    const scrollAhead = this.#getScrollAhead(visiblePages);\n    const preRenderExtra = this._spreadMode !== SpreadMode.NONE && this._scrollMode !== ScrollMode.HORIZONTAL;\n    const pageView = this.renderingQueue.getHighestPriority(visiblePages, this._pages, scrollAhead, preRenderExtra);\n    if (pageView) {\n      this.#ensurePdfPageLoaded(pageView).then(() => {\n        this.renderingQueue.renderView(pageView);\n      });\n      return true;\n    }\n    return false;\n  }\n  get hasEqualPageSizes() {\n    const firstPageView = this._pages[0];\n    for (let i = 1, ii = this._pages.length; i < ii; ++i) {\n      const pageView = this._pages[i];\n      if (pageView.width !== firstPageView.width || pageView.height !== firstPageView.height) {\n        return false;\n      }\n    }\n    return true;\n  }\n  getPagesOverview() {\n    let initialOrientation;\n    return this._pages.map(pageView => {\n      const viewport = pageView.pdfPage.getViewport({\n        scale: 1\n      });\n      const orientation = isPortraitOrientation(viewport);\n      if (initialOrientation === undefined) {\n        initialOrientation = orientation;\n      } else if (this.enablePrintAutoRotate && orientation !== initialOrientation) {\n        return {\n          width: viewport.height,\n          height: viewport.width,\n          rotation: (viewport.rotation - 90) % 360\n        };\n      }\n      return {\n        width: viewport.width,\n        height: viewport.height,\n        rotation: viewport.rotation\n      };\n    });\n  }\n  get optionalContentConfigPromise() {\n    if (!this.pdfDocument) {\n      return Promise.resolve(null);\n    }\n    if (!this._optionalContentConfigPromise) {\n      console.error(\"optionalContentConfigPromise: Not initialized yet.\");\n      return this.pdfDocument.getOptionalContentConfig({\n        intent: \"display\"\n      });\n    }\n    return this._optionalContentConfigPromise;\n  }\n  set optionalContentConfigPromise(promise) {\n    if (!(promise instanceof Promise)) {\n      throw new Error(`Invalid optionalContentConfigPromise: ${promise}`);\n    }\n    if (!this.pdfDocument) {\n      return;\n    }\n    if (!this._optionalContentConfigPromise) {\n      return;\n    }\n    this._optionalContentConfigPromise = promise;\n    this.refresh(false, {\n      optionalContentConfigPromise: promise\n    });\n    this.eventBus.dispatch(\"optionalcontentconfigchanged\", {\n      source: this,\n      promise\n    });\n  }\n  get scrollMode() {\n    return this._scrollMode;\n  }\n  set scrollMode(mode) {\n    if (this._scrollMode === mode) {\n      return;\n    }\n    if (!isValidScrollMode(mode)) {\n      throw new Error(`Invalid scroll mode: ${mode}`);\n    }\n    if (this.pagesCount > PagesCountLimit.FORCE_SCROLL_MODE_PAGE) {\n      return;\n    }\n    this._previousScrollMode = this._scrollMode;\n    this._scrollMode = mode;\n    this.eventBus.dispatch(\"scrollmodechanged\", {\n      source: this,\n      mode\n    });\n    this._updateScrollMode(this._currentPageNumber);\n  }\n  _updateScrollMode(pageNumber = null) {\n    const scrollMode = this._scrollMode,\n      viewer = this.viewer;\n    viewer.classList.toggle(\"scrollHorizontal\", scrollMode === ScrollMode.HORIZONTAL);\n    viewer.classList.toggle(\"scrollWrapped\", scrollMode === ScrollMode.WRAPPED);\n    if (!this.pdfDocument || !pageNumber) {\n      return;\n    }\n    if (scrollMode === ScrollMode.PAGE) {\n      this.#ensurePageViewVisible();\n    } else if (this._previousScrollMode === ScrollMode.PAGE) {\n      this._updateSpreadMode();\n    }\n    if (this._currentScaleValue && isNaN(this._currentScaleValue)) {\n      this.#setScale(this._currentScaleValue, {\n        noScroll: true\n      });\n    }\n    this._setCurrentPageNumber(pageNumber, true);\n    this.update();\n  }\n  get spreadMode() {\n    return this._spreadMode;\n  }\n  set spreadMode(mode) {\n    if (this._spreadMode === mode) {\n      return;\n    }\n    if (!isValidSpreadMode(mode)) {\n      throw new Error(`Invalid spread mode: ${mode}`);\n    }\n    this._spreadMode = mode;\n    this.eventBus.dispatch(\"spreadmodechanged\", {\n      source: this,\n      mode\n    });\n    this._updateSpreadMode(this._currentPageNumber);\n  }\n  _updateSpreadMode(pageNumber = null) {\n    if (!this.pdfDocument) {\n      return;\n    }\n    const viewer = this.viewer,\n      pages = this._pages;\n    if (this._scrollMode === ScrollMode.PAGE) {\n      this.#ensurePageViewVisible();\n    } else {\n      viewer.textContent = \"\";\n      if (this._spreadMode === SpreadMode.NONE) {\n        for (const pageView of this._pages) {\n          viewer.append(pageView.div);\n        }\n      } else {\n        const parity = this._spreadMode - 1;\n        let spread = null;\n        for (let i = 0, ii = pages.length; i < ii; ++i) {\n          if (spread === null) {\n            spread = document.createElement(\"div\");\n            spread.className = \"spread\";\n            viewer.append(spread);\n          } else if (i % 2 === parity) {\n            spread = spread.cloneNode(false);\n            viewer.append(spread);\n          }\n          spread.append(pages[i].div);\n        }\n      }\n    }\n    if (!pageNumber) {\n      return;\n    }\n    if (this._currentScaleValue && isNaN(this._currentScaleValue)) {\n      this.#setScale(this._currentScaleValue, {\n        noScroll: true\n      });\n    }\n    this._setCurrentPageNumber(pageNumber, true);\n    this.update();\n  }\n  _getPageAdvance(currentPageNumber, previous = false) {\n    switch (this._scrollMode) {\n      case ScrollMode.WRAPPED:\n        {\n          const {\n              views\n            } = this._getVisiblePages(),\n            pageLayout = new Map();\n          for (const {\n            id,\n            y,\n            percent,\n            widthPercent\n          } of views) {\n            if (percent === 0 || widthPercent < 100) {\n              continue;\n            }\n            let yArray = pageLayout.get(y);\n            if (!yArray) {\n              pageLayout.set(y, yArray ||= []);\n            }\n            yArray.push(id);\n          }\n          for (const yArray of pageLayout.values()) {\n            const currentIndex = yArray.indexOf(currentPageNumber);\n            if (currentIndex === -1) {\n              continue;\n            }\n            const numPages = yArray.length;\n            if (numPages === 1) {\n              break;\n            }\n            if (previous) {\n              for (let i = currentIndex - 1, ii = 0; i >= ii; i--) {\n                const currentId = yArray[i],\n                  expectedId = yArray[i + 1] - 1;\n                if (currentId < expectedId) {\n                  return currentPageNumber - expectedId;\n                }\n              }\n            } else {\n              for (let i = currentIndex + 1, ii = numPages; i < ii; i++) {\n                const currentId = yArray[i],\n                  expectedId = yArray[i - 1] + 1;\n                if (currentId > expectedId) {\n                  return expectedId - currentPageNumber;\n                }\n              }\n            }\n            if (previous) {\n              const firstId = yArray[0];\n              if (firstId < currentPageNumber) {\n                return currentPageNumber - firstId + 1;\n              }\n            } else {\n              const lastId = yArray[numPages - 1];\n              if (lastId > currentPageNumber) {\n                return lastId - currentPageNumber + 1;\n              }\n            }\n            break;\n          }\n          break;\n        }\n      case ScrollMode.HORIZONTAL:\n        {\n          break;\n        }\n      case ScrollMode.PAGE:\n      case ScrollMode.VERTICAL:\n        {\n          if (this._spreadMode === SpreadMode.NONE) {\n            break;\n          }\n          const parity = this._spreadMode - 1;\n          if (previous && currentPageNumber % 2 !== parity) {\n            break;\n          } else if (!previous && currentPageNumber % 2 === parity) {\n            break;\n          }\n          const {\n              views\n            } = this._getVisiblePages(),\n            expectedId = previous ? currentPageNumber - 1 : currentPageNumber + 1;\n          for (const {\n            id,\n            percent,\n            widthPercent\n          } of views) {\n            if (id !== expectedId) {\n              continue;\n            }\n            if (percent > 0 && widthPercent === 100) {\n              return 2;\n            }\n            break;\n          }\n          break;\n        }\n    }\n    return 1;\n  }\n  nextPage() {\n    const currentPageNumber = this._currentPageNumber,\n      pagesCount = this.pagesCount;\n    if (currentPageNumber >= pagesCount) {\n      return false;\n    }\n    const advance = this._getPageAdvance(currentPageNumber, false) || 1;\n    this.currentPageNumber = Math.min(currentPageNumber + advance, pagesCount);\n    return true;\n  }\n  previousPage() {\n    const currentPageNumber = this._currentPageNumber;\n    if (currentPageNumber <= 1) {\n      return false;\n    }\n    const advance = this._getPageAdvance(currentPageNumber, true) || 1;\n    this.currentPageNumber = Math.max(currentPageNumber - advance, 1);\n    return true;\n  }\n  updateScale({\n    drawingDelay,\n    scaleFactor = null,\n    steps = null,\n    origin\n  }) {\n    if (steps === null && scaleFactor === null) {\n      throw new Error(\"Invalid updateScale options: either `steps` or `scaleFactor` must be provided.\");\n    }\n    if (!this.pdfDocument) {\n      return;\n    }\n    let newScale = this._currentScale;\n    if (scaleFactor > 0 && scaleFactor !== 1) {\n      newScale = Math.round(newScale * scaleFactor * 100) / 100;\n    } else if (steps) {\n      const delta = steps > 0 ? DEFAULT_SCALE_DELTA : 1 / DEFAULT_SCALE_DELTA;\n      const round = steps > 0 ? Math.ceil : Math.floor;\n      steps = Math.abs(steps);\n      do {\n        newScale = round((newScale * delta).toFixed(2) * 10) / 10;\n      } while (--steps > 0);\n    }\n    newScale = Math.max(MIN_SCALE, Math.min(MAX_SCALE, newScale));\n    this.#setScale(newScale, {\n      noScroll: false,\n      drawingDelay,\n      origin\n    });\n  }\n  increaseScale(options = {}) {\n    this.updateScale({\n      ...options,\n      steps: options.steps ?? 1\n    });\n  }\n  decreaseScale(options = {}) {\n    this.updateScale({\n      ...options,\n      steps: -(options.steps ?? 1)\n    });\n  }\n  #updateContainerHeightCss(height = this.container.clientHeight) {\n    if (height !== this.#previousContainerHeight) {\n      this.#previousContainerHeight = height;\n      docStyle.setProperty(\"--viewer-container-height\", `${height}px`);\n    }\n  }\n  #resizeObserverCallback(entries) {\n    for (const entry of entries) {\n      if (entry.target === this.container) {\n        this.#updateContainerHeightCss(Math.floor(entry.borderBoxSize[0].blockSize));\n        this.#containerTopLeft = null;\n        break;\n      }\n    }\n  }\n  get containerTopLeft() {\n    return this.#containerTopLeft ||= [this.container.offsetTop, this.container.offsetLeft];\n  }\n  #cleanupSwitchAnnotationEditorMode() {\n    if (this.#onPageRenderedCallback) {\n      this.eventBus._off(\"pagerendered\", this.#onPageRenderedCallback);\n      this.#onPageRenderedCallback = null;\n    }\n    if (this.#switchAnnotationEditorModeTimeoutId !== null) {\n      clearTimeout(this.#switchAnnotationEditorModeTimeoutId);\n      this.#switchAnnotationEditorModeTimeoutId = null;\n    }\n  }\n  get annotationEditorMode() {\n    return this.#annotationEditorUIManager ? this.#annotationEditorMode : AnnotationEditorType.DISABLE;\n  }\n  set annotationEditorMode({\n    mode,\n    editId = null,\n    isFromKeyboard = false\n  }) {\n    if (!this.#annotationEditorUIManager) {\n      throw new Error(`The AnnotationEditor is not enabled.`);\n    }\n    if (this.#annotationEditorMode === mode) {\n      return;\n    }\n    if (!isValidAnnotationEditorMode(mode)) {\n      throw new Error(`Invalid AnnotationEditor mode: ${mode}`);\n    }\n    if (!this.pdfDocument) {\n      return;\n    }\n    if (mode === AnnotationEditorType.STAMP) {\n      this.#mlManager?.loadModel(\"altText\");\n    }\n    const {\n      eventBus\n    } = this;\n    const updater = () => {\n      this.#cleanupSwitchAnnotationEditorMode();\n      this.#annotationEditorMode = mode;\n      this.#annotationEditorUIManager.updateMode(mode, editId, isFromKeyboard);\n      eventBus.dispatch(\"annotationeditormodechanged\", {\n        source: this,\n        mode\n      });\n    };\n    if (mode === AnnotationEditorType.NONE || this.#annotationEditorMode === AnnotationEditorType.NONE) {\n      const isEditing = mode !== AnnotationEditorType.NONE;\n      if (!isEditing) {\n        this.pdfDocument.annotationStorage.resetModifiedIds();\n      }\n      for (const pageView of this._pages) {\n        pageView.toggleEditingMode(isEditing);\n      }\n      const idsToRefresh = this.#switchToEditAnnotationMode();\n      if (isEditing && idsToRefresh) {\n        this.#cleanupSwitchAnnotationEditorMode();\n        this.#onPageRenderedCallback = ({\n          pageNumber\n        }) => {\n          idsToRefresh.delete(pageNumber);\n          if (idsToRefresh.size === 0) {\n            this.#switchAnnotationEditorModeTimeoutId = setTimeout(updater, 0);\n          }\n        };\n        const {\n          signal\n        } = this.#eventAbortController;\n        eventBus._on(\"pagerendered\", this.#onPageRenderedCallback, {\n          signal\n        });\n        return;\n      }\n    }\n    updater();\n  }\n  refresh(noUpdate = false, updateArgs = Object.create(null)) {\n    if (!this.pdfDocument) {\n      return;\n    }\n    for (const pageView of this._pages) {\n      pageView.update(updateArgs);\n    }\n    if (this.#scaleTimeoutId !== null) {\n      clearTimeout(this.#scaleTimeoutId);\n      this.#scaleTimeoutId = null;\n    }\n    if (!noUpdate) {\n      this.update();\n    }\n  }\n}\n\n;// CONCATENATED MODULE: ./web/pdf_single_page_viewer.js\n\n\nclass PDFSinglePageViewer extends PDFViewer {\n  _resetView() {\n    super._resetView();\n    this._scrollMode = ScrollMode.PAGE;\n    this._spreadMode = SpreadMode.NONE;\n  }\n  set scrollMode(mode) {}\n  _updateScrollMode() {}\n  set spreadMode(mode) {}\n  _updateSpreadMode() {}\n}\n\n;// CONCATENATED MODULE: ./web/pdf_viewer.component.js\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nconst pdfjsVersion = \"4.6.82\";\nconst pdfjsBuild = \"9b541910f\";\n\nvar __webpack_exports__AnnotationLayerBuilder = __webpack_exports__.AnnotationLayerBuilder;\nvar __webpack_exports__DownloadManager = __webpack_exports__.DownloadManager;\nvar __webpack_exports__EventBus = __webpack_exports__.EventBus;\nvar __webpack_exports__FindState = __webpack_exports__.FindState;\nvar __webpack_exports__GenericL10n = __webpack_exports__.GenericL10n;\nvar __webpack_exports__LinkTarget = __webpack_exports__.LinkTarget;\nvar __webpack_exports__PDFFindController = __webpack_exports__.PDFFindController;\nvar __webpack_exports__PDFHistory = __webpack_exports__.PDFHistory;\nvar __webpack_exports__PDFLinkService = __webpack_exports__.PDFLinkService;\nvar __webpack_exports__PDFPageView = __webpack_exports__.PDFPageView;\nvar __webpack_exports__PDFScriptingManager = __webpack_exports__.PDFScriptingManager;\nvar __webpack_exports__PDFSinglePageViewer = __webpack_exports__.PDFSinglePageViewer;\nvar __webpack_exports__PDFViewer = __webpack_exports__.PDFViewer;\nvar __webpack_exports__ProgressBar = __webpack_exports__.ProgressBar;\nvar __webpack_exports__RenderingStates = __webpack_exports__.RenderingStates;\nvar __webpack_exports__ScrollMode = __webpack_exports__.ScrollMode;\nvar __webpack_exports__SimpleLinkService = __webpack_exports__.SimpleLinkService;\nvar __webpack_exports__SpreadMode = __webpack_exports__.SpreadMode;\nvar __webpack_exports__StructTreeLayerBuilder = __webpack_exports__.StructTreeLayerBuilder;\nvar __webpack_exports__TextLayerBuilder = __webpack_exports__.TextLayerBuilder;\nvar __webpack_exports__XfaLayerBuilder = __webpack_exports__.XfaLayerBuilder;\nvar __webpack_exports__parseQueryString = __webpack_exports__.parseQueryString;\nexport { __webpack_exports__AnnotationLayerBuilder as AnnotationLayerBuilder, __webpack_exports__DownloadManager as DownloadManager, __webpack_exports__EventBus as EventBus, __webpack_exports__FindState as FindState, __webpack_exports__GenericL10n as GenericL10n, __webpack_exports__LinkTarget as LinkTarget, __webpack_exports__PDFFindController as PDFFindController, __webpack_exports__PDFHistory as PDFHistory, __webpack_exports__PDFLinkService as PDFLinkService, __webpack_exports__PDFPageView as PDFPageView, __webpack_exports__PDFScriptingManager as PDFScriptingManager, __webpack_exports__PDFSinglePageViewer as PDFSinglePageViewer, __webpack_exports__PDFViewer as PDFViewer, __webpack_exports__ProgressBar as ProgressBar, __webpack_exports__RenderingStates as RenderingStates, __webpack_exports__ScrollMode as ScrollMode, __webpack_exports__SimpleLinkService as SimpleLinkService, __webpack_exports__SpreadMode as SpreadMode, __webpack_exports__StructTreeLayerBuilder as StructTreeLayerBuilder, __webpack_exports__TextLayerBuilder as TextLayerBuilder, __webpack_exports__XfaLayerBuilder as XfaLayerBuilder, __webpack_exports__parseQueryString as parseQueryString };\n\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module"}